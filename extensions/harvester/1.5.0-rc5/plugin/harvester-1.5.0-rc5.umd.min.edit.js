(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_5_0_rc5"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_5_0_rc5"]||[]).push([[739],{28407:function(e,t,a){"use strict";a.r(t);var l=a(83237),o=a(25480);describe("component: Loki",(()=>{it("should display URL placeholder",(()=>{const e=(0,l.Ky)(o["default"],{props:{mode:"edit",namespace:"whatever"}}),t="https://127.0.0.1:8000",a=e.find('[data-testid="loki-url"]').attributes("placeholder");expect(a).toBe(t)}))}))},64275:function(e,t,a){"use strict";a.r(t);var l=a(83237),o=a(71779),s=a(4889);const r=()=>({getters:{"i18n/t":jest.fn()}}),n={query:{}},i=()=>({global:{mocks:{$store:r(),$route:n,$fetchState:{}}}}),d={known_hosts:"S05PV05fSE9TVFM=","ssh-privatekey":"dGVzdDE=","ssh-publickey":"dGVzdDE="};describe.each([o.YQ,o.G5,o.nW])("component: Ssh.vue",(e=>{it(`mode: ${e}, should show input fields`,(()=>{const t=(0,l.Or)(s["default"],{...i(),props:{value:{name:"foo",decodedData:d,supportsSshKnownHosts:!0},mode:e}}),a=t.find('[data-testid="ssh-public-key"]').element,o=t.find('[data-testid="ssh-private-key"]').element,r=t.find('[data-testid="ssh-known-hosts"]').element;expect(a.value).toBe("dGVzdDE="),expect(o.value).toBe("dGVzdDE="),expect(r.value).toBe("S05PV05fSE9TVFM=")})),it.each([["show",!0],["hide",!1]])(`mode: ${e}, should %p known_hosts`,((e,t)=>{const a=(0,l.Or)(s["default"],{...i(),props:{value:{name:"foo",decodedData:d,supportsSshKnownHosts:t},mode:o.G5}}),r=a.find('[data-testid="ssh-known-hosts"]');expect(r.exists()).toBe(t)}))}))},77085:function(e,t,a){"use strict";a.d(t,{A:function(){return V}});var l=a(9274);const o={key:0,class:"grid"},s={key:0},r={class:"deploys-os-label"},n={key:1},i={class:"os-incompatible-label"},d={class:"logo"},c=["alt"],u={class:"name"},p={key:3,class:"description"},m={key:1,class:"m-50 text-center"};function v(e,t,a,v,h,b){const g=(0,l.resolveComponent)("LazyImage"),f=(0,l.resolveDirective)("t");return a.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.rows,((t,o)=>((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(a.asLink?"a":"div"),{key:b.get(t,a.keyField),role:a.asLink?"link":null,"aria-disabled":!(!a.asLink||!0!==b.get(t,a.disabledField))||null,"aria-label":b.get(t,a.nameField),tabindex:!0===b.get(t,a.disabledField)?-1:0,href:a.asLink?b.get(t,a.linkField):null,target:b.get(t,a.targetField),rel:a.rel,class:(0,l.normalizeClass)(["item",{"has-description":!!b.get(t,a.descriptionField),"has-side-label":!!b.get(t,a.sideLabelField),[a.colorFor(t,o)]:!0,disabled:!0===b.get(t,a.disabledField)}]),"data-testid":a.componentTestid+"-"+b.get(t,a.nameField),onClick:e=>b.select(t,o),onKeyup:(0,l.withKeys)((e=>b.select(t,o)),["enter","space"])},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["side-label",{indicator:!0}])}),t.deploysOnWindows?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("label",r,(0,l.toDisplayString)(e.t("catalog.charts.deploysOnWindows")),1)])):(0,l.createCommentVNode)("",!0),t.windowsIncompatible?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("label",i,(0,l.toDisplayString)(e.t("catalog.charts.windowsIncompatible")),1)])):(0,l.createCommentVNode)("",!0),b.get(t,a.sideLabelField)?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:2,class:(0,l.normalizeClass)(["side-label",{indicator:!1}])},[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(b.get(t,a.sideLabelField)),1)])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",d,[t.iconClass?((0,l.openBlock)(),(0,l.createElementBlock)("i",{key:0,class:(0,l.normalizeClass)(t.iconClass),alt:e.t("catalog.charts.iconAlt",{app:b.get(t,a.nameField)})},null,10,c)):((0,l.openBlock)(),(0,l.createBlock)(g,{key:1,src:b.get(t,a.iconField),alt:e.t("catalog.charts.iconAlt",{app:b.get(t,a.nameField)})},null,8,["src","alt"]))]),(0,l.createElementVNode)("h4",u,(0,l.toDisplayString)(b.get(t,a.nameField)),1),b.get(t,a.descriptionField)?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,(0,l.toDisplayString)(b.get(t,a.descriptionField)),1)):(0,l.createCommentVNode)("",!0)])),_:2},1064,["role","aria-disabled","aria-label","tabindex","href","target","rel","data-testid","class","onClick","onKeyup"])))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[(0,l.withDirectives)((0,l.createElementVNode)("h1",null,null,512),[[f,a.noDataKey]])]))}var h=a(49115),b=a(92590),g=a(74804),f=a.n(g),y={emits:["clicked"],components:{LazyImage:h.A},props:{rows:{type:Array,required:!0},keyField:{type:String,default:"key"},iconField:{type:String,default:"icon"},nameField:{type:String,default:"name"},descriptionField:{type:String,default:"description"},sideLabelField:{type:String,default:"sideLabel"},disabledField:{type:String,default:"disabled"},asLink:{type:Boolean,default:!1},linkField:{type:String,default:"link"},targetField:{type:String,default:"target"},rel:{type:String,default:"noopener noreferrer nofollow"},noDataKey:{type:String,default:"sortableTable.noRows"},colorFor:{type:Function,default:(e,t)=>"color"+(t%8+1)},componentTestid:{type:String,default:"select-icon-grid"}},methods:{get:b.Jt,isDisabled(e){return!0===(0,b.Jt)(this.rows[e],this.disabledField)},select(e,t){this.isDisabled(t)||this.$emit("clicked",e,t)},capitalize:f()}},k=(a(32289),a(47433));const N=(0,k.A)(y,[["render",v],["__scopeId","data-v-64bf89cd"]]);var V=N},92064:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var l=a(9274);const o={class:"tip"},s={class:"text"};function r(e,t,a,r,n,i){return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)(["my-icon",a.icon])},null,2),(0,l.renderSlot)(e.$slots,"default",{},(()=>[(0,l.createElementVNode)("span",s,(0,l.toDisplayString)(a.text),1)]),!0)])}var n={props:{icon:{type:String,default:""},text:{type:String,default:""}}},i=(a(60571),a(47433));const d=(0,i.A)(n,[["render",r],["__scopeId","data-v-72c06d3e"]]);var c=d},11922:function(e,t,a){"use strict";a.d(t,{A:function(){return A}});var l=a(9274);const o={class:"row mb-20"},s=["data-testid"],r={class:"icon icon-close align-value"},n=["data-testid"],i=["data-testid"],d=["data-testid"],c={key:3,class:"spacer"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[a.namespaced&&!a.nameNsHidden&&p.createNamespace?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,"data-testid":a.componentTestid+"-namespace-create",class:"col span-3"},[(0,l.createVNode)(v,{ref:"namespaceInput",value:u.namespace,"onUpdate:value":t[0]||(t[0]=e=>u.namespace=e),label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:m.namespaceReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.namespace},null,8,["value","label","placeholder","disabled","mode","required","rules"]),(0,l.createElementVNode)("button",{aria:"Cancel create",onClick:t[1]||(t[1]=(...e)=>m.cancelCreateNamespace&&m.cancelCreateNamespace(...e))},[(0,l.withDirectives)((0,l.createElementVNode)("i",r,null,512),[[b,e.t("generic.cancel")]])])],8,s)):(0,l.createCommentVNode)("",!0),!a.namespaced||a.nameNsHidden||p.createNamespace?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:1,"data-testid":a.componentTestid+"-namespace",class:"col span-3"},[(0,l.withDirectives)((0,l.createVNode)(h,{value:u.namespace,"onUpdate:value":t[2]||(t[2]=e=>u.namespace=e),clearable:!0,options:u.options,disabled:m.namespaceReallyDisabled,searchable:!0,mode:a.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:a.rules.namespace,required:"",onSelecting:m.selectNamespace},null,8,["value","options","disabled","mode","label","placeholder","rules","onSelecting"]),[[l.vShow,!p.createNamespace]])],8,n)),a.nameNsHidden?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:2,"data-testid":a.componentTestid+"-name",class:"col span-3"},[(0,l.createVNode)(v,{ref:"nameInput",key:"name",value:u.name,"onUpdate:value":t[3]||(t[3]=e=>u.name=e),label:e.t(a.nameLabel),placeholder:e.t(a.namePlaceholder),disabled:m.nameReallyDisabled,mode:a.mode,"min-height":30,required:a.nameRequired,rules:a.rules.name},null,8,["value","label","placeholder","disabled","mode","required","rules"])],8,i)),(0,l.renderSlot)(e.$slots,"customize",{},void 0,!0),(0,l.withDirectives)((0,l.createElementVNode)("div",{"data-testid":a.componentTestid+"-description",class:(0,l.normalizeClass)(["col",a.extraColumns.length>0?"span-3":"span-6"])},[(0,l.createVNode)(v,{key:"description",value:u.description,"onUpdate:value":t[4]||(t[4]=e=>u.description=e),mode:a.mode,disabled:a.descriptionDisabled,label:e.t(a.descriptionLabel),placeholder:e.t(a.descriptionPlaceholder),"min-height":30,rules:a.rules.description},null,8,["value","mode","disabled","label","placeholder","rules"])],10,d),[[l.vShow,!a.descriptionHidden]]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.extraColumns,((t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:a,class:(0,l.normalizeClass)({col:!0,[m.colSpan]:!0})},[(0,l.renderSlot)(e.$slots,t,{},void 0,!0)],2)))),128)),a.showSpacer?((0,l.openBlock)(),(0,l.createElementBlock)("div",c)):(0,l.createCommentVNode)("",!0)])}var p=a(24466),m=a(92590),v=a(73331),h=a(20665),b=a(55190),g=a(71779),f=a(5327),y=a(77562);function k(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var N=a(41594);a(90295);function V(e,t,a,l=!1,o=!0){const s=e.getters["i18n/t"](t,a);let r;if(void 0!==s)r=s;else if(a&&Object.keys(a).length){const e=Object.keys(a).map((e=>`${e}: ${a[e]}`)).join(", ");r=`%${t}(${e})%`,l=!0}else r=`%${t}%`;return l?r:o?(0,N.ZD)(r):r}let E=null;const w=e=>{if(E=e,!E)throw new Error("usI18n() must be called from setup()");return{t:C}},C=(e,t,a)=>V(E,e,t,a);var S={name:"NameNsDescription",emits:["update:value","isNamespaceNew"],components:{LabeledInput:f.o,LabeledSelect:y.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:h.CU},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},namespaceOptions:{type:Array,default:null},createNamespaceOverride:{type:Boolean,default:!1},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){return{createNamespace:!1}},setup(e,{emit:t}){const a=(0,l.toRef)(e.value),o=a.value.metadata,s=(0,l.ref)(null),r=(0,l.ref)(null),n=(0,l.ref)(null);(0,l.watch)(r,(a=>{e.normalizeName&&(a=k(a)),e.nameKey?(0,m.hZ)(e.value,e.nameKey,a):e.value.metadata["name"]=a,t("update:value",e.value)})),e.nameKey?r.value=(0,m.Jt)(a,e.nameKey):r.value=o?.name||"";const i=(0,l.computed)((()=>e.mode===g.YQ)),d=(0,p.Pj)(),{t:c}=w(d),u=(0,l.computed)((()=>d.getters.allowedNamespaces())),f=(0,l.computed)((()=>d.getters.namespaces())),y=(0,l.computed)((()=>d.getters.currentCluster)),N=(0,l.computed)((()=>d.getters["currentStore"]())),V=(0,l.computed)((()=>d.getters[`${N.value}/schemaFor`](h.CU))),E=(0,l.computed)((()=>(V.value?.collectionMethods||[]).includes("POST")&&y.value?.canUpdate)),C=(0,l.computed)((()=>{let t;if(e.namespacesOverride)t=e.namespacesOverride;else if(e.namespaceOptions)t=(e.namespaceOptions.map((e=>e.name))||[]).sort();else{const e=i.value?u.value:f.value;t=Object.keys(e)}const a=t.map((e=>({nameDisplay:e,id:e}))).map(e.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),l=(0,v.Ul)(a,"label");e.forceNamespace&&l.unshift({label:e.forceNamespace,value:e.forceNamespace});const o={label:c("namespace.createNamespace"),value:"",kind:"highlighted"},s={label:"divider",disabled:!0,kind:"divider"},r=E.value||e.createNamespaceOverride?[o,s]:[];return[...r,...l]})),S=a=>{e.forceNamespace&&(a=e.forceNamespace),e.namespaced&&t("isNamespaceNew",!a||C.value&&!C.value.find((e=>e.value===a))),e.namespaceKey?(0,m.hZ)(e.value,e.namespaceKey,a):e.value.metadata.namespace=a};return e.namespaced&&(e.forceNamespace?(s.value=(0,l.toRef)(e.forceNamespace),S(s)):e.namespaceKey?s.value=(0,m.Jt)(a,e.namespaceKey):s.value=o?.namespace,s.value||e.noDefaultNamespace||(s.value=d.getters["defaultNamespace"],o&&(o.namespace=s))),e.descriptionKey?n.value=(0,m.Jt)(a,e.descriptionKey):n.value=o?.annotations?.[b.tC],{namespace:s,name:r,description:n,isCreate:i,options:C,updateNamespace:S}},computed:{...(0,p.i0)("cru-resource",["setCreateNamespace"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===g.G5},nameReallyDisabled(){return this.nameDisabled||this.mode===g.G5&&!this.nameEditable},isView(){return this.mode===g.nW},showCustomize(){return this.mode===g.YQ&&this.name&&this.name.length>0},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return`span-${t}`}},watch:{namespace(e){this.updateNamespace(e),this.$emit("update:value",this.value)},description(e){this.descriptionKey?(0,m.hZ)(this.value,this.descriptionKey,e):this.value.setAnnotation(b.tC,e),this.$emit("update:value",this.value)}},mounted(){this.$nextTick((()=>{this.$refs.nameInput&&this.$refs.nameInput.focus()}))},methods:{changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]||this.options.find((e=>!!e.value))?.value},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$store.dispatch("cru-resource/setCreateNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$store.dispatch("cru-resource/setCreateNamespace",!0),this.$emit("isNamespaceNew",!0),this.$nextTick((()=>this.$refs.namespaceInput.focus())))}}},B=(a(68998),a(47433));const x=(0,B.A)(S,[["render",u],["__scopeId","data-v-0b0836cc"]]);var A=x},7302:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var l=a(9274);const o={class:"input-container"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("ResourceLabeledSelect"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["secret-selector",{"show-key-selector":a.showKeySelector}])},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(i,{value:n.name,"onUpdate:value":t[0]||(t[0]=e=>n.name=e),disabled:!n.isView&&a.disabled,label:a.secretNameLabel,mode:a.mode,"resource-type":r.SECRET,"in-store":a.inStore,"paginated-resource-settings":r.paginateSecretsSetting,"all-resources-settings":r.allSecretsSettings},null,8,["value","disabled","label","mode","resource-type","in-store","paginated-resource-settings","all-resources-settings"]),a.showKeySelector?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,value:n.key,"onUpdate:value":t[1]||(t[1]=e=>n.key=e),class:"col span-6",disabled:n.isKeyDisabled,options:n.keys,label:a.keyNameLabel,mode:a.mode},null,8,["value","disabled","options","label","mode"])):(0,l.createCommentVNode)("",!0)])],2)}var r=a(77562),n=a(18131),i=a(20665),d=a(71779),c=a(86310),u=a(72280),p=a(54413);const m="__[[NONE]]__";var v={emits:["update:value"],components:{LabeledSelect:r.A,ResourceLabeledSelect:n.A},props:{value:{type:[String,Object],required:!1,default:void 0},namespace:{type:String,required:!0},types:{type:Array,default:()=>Object.values(c.J)},disabled:{type:Boolean,default:!1},mountKey:{type:String,default:"valueFrom"},nameKey:{type:String,default:"name"},keyKey:{type:String,default:"key"},showKeySelector:{type:Boolean,default:!1},secretNameLabel:{type:String,default:"Secret Name"},keyNameLabel:{type:String,default:"Key"},mode:{type:String,default:d.G5},inStore:{type:String,default:"cluster"}},data(){return{secrets:null,SECRET:i.bB,allSecretsSettings:{updateResources:e=>{const t=e.filter((e=>this.types.includes(e._type)&&e.namespace===this.namespace)),a=this.mapSecrets(t.sort(((e,t)=>e.name.localeCompare(t.name))));return this.secrets=t,a}},paginateSecretsSetting:{requestSettings:this.paginatePageOptions,updateResources:e=>{const t=this.mapSecrets(e);return this.secrets=e,t}}}},computed:{name:{get(){const e=this.showKeySelector?this.value?.[this.mountKey]?.secretKeyRef?.[this.nameKey]:this.value;return e||m},set(e){const t=e===m,a=t?void 0:e;this.showKeySelector?this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:a,[this.keyKey]:""}}}):this.$emit("update:value",a)}},key:{get(){return this.value?.[this.mountKey]?.secretKeyRef?.[this.keyKey]||""},set(e){this.$emit("update:value",{[this.mountKey]:{secretKeyRef:{[this.nameKey]:this.name,[this.keyKey]:e}}})}},keys(){const e=(this.secrets||[]).find((e=>e.name===this.name))||{};return Object.keys(e.data||{}).map((e=>({label:e,value:e})))},isView(){return this.mode===d.nW},isKeyDisabled(){return!this.isView&&(!this.name||this.name===m||this.disabled)}},methods:{mapSecrets(e){const t=e.reduce(((e,t)=>(t.kind===p.c.NONE||(t.id?e.push({label:t.name,value:t.name}):e.push(t)),e)),[]);return[{label:"None",value:m,kind:p.c.NONE},...t]},paginatePageOptions(e){const{opts:{filter:t}}=e,a=t?[u.eY.createSingleField({field:"metadata.name",value:t})]:[];return a.push(u.eY.createSingleField({field:"metadata.namespace",value:this.namespace}),u.eY.createSingleField({field:"metadata.fields.1",value:this.types.join(",")})),{...e,filters:a,groupByNamespace:!1,classify:!0,sort:[{asc:!0,field:"metadata.name"}]}}}},h=(a(77635),a(47433));const b=(0,h.A)(v,[["render",s]]);var g=b},24426:function(e,t,a){"use strict";a.d(t,{A:function(){return Z}});var l=a(9274);const o={key:1},s={key:0,class:"icon icon-info status-icon text-warning"},r={key:0,class:"icon icon-info status-icon text-warning"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("Loading"),u=(0,l.resolveComponent)("NameNsDescription"),p=(0,l.resolveComponent)("Banner"),m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("Match"),h=(0,l.resolveComponent)("ArrayListGrouped"),b=(0,l.resolveComponent)("Tab"),g=(0,l.resolveComponent)("YamlEditor"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource"),k=(0,l.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0})):i.formSupported?((0,l.openBlock)(),(0,l.createBlock)(y,{key:1,class:"flow","done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"apply-hooks":e.applyHooks,onError:t[9]||(t[9]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,value:e.value,mode:e.mode,namespaced:e.value.type!==d.LOGGING.CLUSTER_FLOW,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"])),(0,l.createVNode)(f,{"side-tabs":!0,onChanged:t[8]||(t[8]=e=>d.tabChanged(e))},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{name:"match",label:e.t("logging.flow.matches.label"),weight:3},{default:(0,l.withCtx)((()=>[d.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,color:"info",class:"mt-0",label:e.t("logging.flow.matches.banner")},null,8,["label"])),d.isHarvester?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(m,{value:i.loggingType,"onUpdate:value":t[1]||(t[1]=e=>i.loggingType=e),class:"mb-20",options:d.flowTypeOptions,mode:e.mode,disabled:!e.isCreate,label:e.t("generic.type")},null,8,["value","options","mode","disabled","label"])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(h,{value:i.matches,"onUpdate:value":t[4]||(t[4]=e=>i.matches=e),"add-label":e.t("ingress.rules.addRule"),"default-add-value":{},mode:e.mode},{default:(0,l.withCtx)((t=>[(0,l.createVNode)(v,{class:"rule mb-20",value:t.row.value,mode:e.mode,namespaces:d.namespaceChoices,nodes:d.nodeChoices,"is-cluster-flow":e.value.type===d.LOGGING.CLUSTER_FLOW,onRemove:e=>d.removeMatch(t.row.i),"onUpdate:value":e=>d.updateMatch(e,t.row.i)},null,8,["value","mode","namespaces","nodes","is-cluster-flow","onRemove","onUpdate:value"])])),add:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[2]||(t[2]=e=>d.addMatch(!0))},(0,l.toDisplayString)(e.t("logging.flow.matches.addSelect")),1),(0,l.createElementVNode)("button",{class:"btn role-tertiary add",type:"button",onClick:t[3]||(t[3]=e=>d.addMatch(!1))},(0,l.toDisplayString)(e.t("logging.flow.matches.addExclude")),1)])),_:1},8,["value","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(b,{name:"outputs",label:e.t("logging.flow.outputs.label"),weight:2},{default:(0,l.withCtx)((()=>[e.value.type!==d.LOGGING.CLUSTER_FLOW?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,label:e.t("logging.flow.outputs.sameNamespaceError"),color:"info"},null,8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(m,{value:i.globalOutputRefs,"onUpdate:value":t[5]||(t[5]=e=>i.globalOutputRefs=e),label:e.t("logging.flow.clusterOutputs.label"),options:d.clusterOutputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,l.withCtx)((t=>[d.isTag(d.clusterOutputChoices,t)?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",s,null,512)),[[k,e.t("logging.flow.clusterOutputs.doesntExistTooltip")]]):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"]),e.value.type===d.LOGGING.FLOW?((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,value:i.localOutputRefs,"onUpdate:value":t[6]||(t[6]=e=>i.localOutputRefs=e),label:e.t("logging.flow.outputs.label"),class:"mt-10",options:d.outputChoices,multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},{"selected-option":(0,l.withCtx)((t=>[d.isTag(d.outputChoices,t)?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",r,null,512)),[[k,e.t("logging.flow.outputs.doesntExistTooltip")]]):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(t.label),1)])),_:1},8,["value","label","options","reduce"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"]),(0,l.createVNode)(b,{name:"filters",label:e.t("logging.flow.filters.label"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{ref:"yaml",value:i.filtersYaml,"onUpdate:value":t[7]||(t[7]=e=>i.filtersYaml=e),scrolling:!1,"initial-yaml-values":i.initialFiltersYaml,"editor-mode":e.isView?d.EDITOR_MODES.VIEW_CODE:d.EDITOR_MODES.EDIT_CODE,onOnReady:d.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])):((0,l.openBlock)(),(0,l.createBlock)(p,{key:2,label:e.t("logging.flow.matches.unsupportedConfig"),color:"error"},null,8,["label"]))}var i=a(89121),d=a(72706),c=a(22065),u=a(61856),p=a(11922),m=a(4335),v=a(94877),h=a(20665),b=a(20246),g=a.n(b),f=a(1195),y=a(36316),k=a(63557),N=a(26812),V=a(59951),E=a(77562),w=a(92590),C=a(68581),S=a.n(C),B=a(11331),x=a(26953),A=a(77673);const _={class:"row"},D={class:"col span-12"},U={key:1},M={class:"row"},L={class:"col span-12"},T={key:0},O={class:"row"},I={class:"col span-12"};function R(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue"),i=(0,l.resolveComponent)("Select"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[r.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createVNode)(n,{value:a.value.labels,"onUpdate:value":t[0]||(t[0]=e=>a.value.labels=e),title:a.value.select?e.t("logging.flow.matches.pods.title.include"):e.t("logging.flow.matches.pods.title.exclude"),mode:a.mode,"initial-empty-row":!0,"read-allowed":!1,"title-add":!0,protip:"","key-label":e.t("logging.flow.matches.pods.keyLabel"),"value-label":e.t("logging.flow.matches.pods.valueLabel"),"add-label":e.t("logging.flow.matches.pods.addLabel")},null,8,["value","title","mode","key-label","value-label","add-label"]),t[4]||(t[4]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1))],64)),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.nodes.title.include"):e.t("logging.flow.matches.nodes.title.exclude")),1),(0,l.createElementVNode)("div",_,[(0,l.createElementVNode)("div",D,[(0,l.createVNode)(i,{value:a.value.hosts,"onUpdate:value":t[1]||(t[1]=e=>a.value.hosts=e),class:"lg",options:a.nodes,placeholder:e.t("logging.flow.matches.nodes.placeholder"),multiple:!0,searchable:!0,taggable:!0,clearable:!0,"close-on-select":!1,reduce:e=>e.value},null,8,["value","options","placeholder","reduce"])])]),r.isHarvester?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",U,[t[6]||(t[6]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.containerNames.title.include"):e.t("logging.flow.matches.containerNames.title.exclude")),1),(0,l.createElementVNode)("div",M,[(0,l.createElementVNode)("div",L,[(0,l.createVNode)(d,{value:a.value.container_names,"onUpdate:value":t[2]||(t[2]=e=>a.value.container_names=e),mode:a.mode,options:[],disabled:!1,placeholder:e.t("logging.flow.matches.containerNames.placeholder"),multiple:!0,taggable:!0,clearable:!0,searchable:!0,"close-on-select":!1,"no-options-label-key":"logging.flow.matches.containerNames.enter",placement:"top"},null,8,["value","mode","placeholder"])])]),a.isClusterFlow?((0,l.openBlock)(),(0,l.createElementBlock)("div",T,[t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(a.value.select?e.t("logging.flow.matches.namespaces.title.include"):e.t("logging.flow.matches.namespaces.title.exclude")),1),(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",I,[(0,l.createVNode)(i,{value:a.value.namespaces,"onUpdate:value":t[3]||(t[3]=e=>a.value.namespaces=e),class:"lg",options:a.namespaces,placeholder:e.t("logging.flow.matches.namespaces.placeholder"),multiple:!0,taggable:!0,clearable:!0,"close-on-select":!1,placement:"top"},null,8,["value","options","placeholder"])])])])):(0,l.createCommentVNode)("",!0)]))])}var $=a(85905),P=a(44863),q={emits:["remove"],components:{KeyValue:$.A,Select:P.A,LabeledSelect:E.A},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},namespaces:{type:Array,default:()=>[]},isClusterFlow:{type:Boolean,default:!1}},computed:{isHarvester(){return this.$store.getters["currentProduct"].inStore===A.T3}},methods:{update(){},removeRule(){this.$emit("remove")}}},F=a(47433);const G=(0,F.A)(q,[["render",R]]);var K=G;const j="Logging",H="Audit",J="Event",z=[j,H,J];function Q(e=!0){const t={select:!!e,exclude:!e,labels:{},hosts:[],container_names:[]};return t}var Y={emits:["input"],components:{Banner:i.l,CruResource:c.A,LabeledSelect:E.A,Loading:u.A,NameNsDescription:p.A,Tab:v.A,Tabbed:m.A,YamlEditor:y.A,Match:K,ArrayListGrouped:B.A},mixins:[d.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?A.T3:"cluster",a=this.$store.getters[`${t}/schemaFor`](h.cm.CLUSTER_OUTPUT),l=this.$store.getters[`${t}/schemaFor`](h.cm.OUTPUT),o=this.$store.getters["cluster/schemaFor"](h.CU),s=this.$store.getters[`${t}/schemaFor`](h.NW),r=this.value.type===h.cm.FLOW,n=(e,a)=>a?this.$store.dispatch(`${t}/findAll`,{type:e}):Promise.resolve([]),i=await(0,k.kR)({allOutputs:n(h.cm.OUTPUT,r&&l),allClusterOutputs:n(h.cm.CLUSTER_OUTPUT,a),allNamespaces:n(h.CU,o),allNodes:n(h.NW,s)});for(const d of Object.keys(i))this[d]=i[d]||[]},data(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?A.T3:"cluster",a=this.$store.getters[`${t}/all`](h.yx);let l;this.value.spec=this.value.spec||{},this.value.spec.filters?.length?l=g().dump(this.value.spec.filters):(l=(0,f.mH)(a,h.cm.SPOOFED.FILTERS,{}),l=l.substring(l.indexOf("\n")+1).replaceAll("#  ","#"));const o=[];let s=!this.value.id||this.value.canCustomEdit;if(this.value.spec.match?.length)for(const i of this.value.spec.match)(0,V.matchRuleIsPopulated)(i.select)&&(0,V.matchRuleIsPopulated)(i.exclude)?s=!1:(0,V.matchRuleIsPopulated)(i.select)?o.push({select:!0,...i.select}):(0,V.matchRuleIsPopulated)(i.exclude)&&o.push({exclude:!0,...i.exclude});else o.push(Q(!0));const r=(this.value.spec.globalOutputRefs||[]).map((e=>({label:e,value:e}))),n=(this.value.spec.localOutputRefs||[]).map((e=>({label:e,value:e})));return{formSupported:s,matches:o,allOutputs:null,allClusterOutputs:null,allNamespaces:null,allNodes:null,filtersYaml:l,initialFiltersYaml:l,globalOutputRefs:r,localOutputRefs:n,loggingType:(0,w.o8)(this.value.loggingType||j)}},computed:{EDITOR_MODES(){return y.j},LOGGING(){return h.cm},outputChoices(){return this.allOutputs?this.allOutputs.filter((e=>{if(!e.namespace)return!0;const t=e.namespace===this.value.namespace;return this.isHarvester?this.loggingType===H?e.loggingType===H&&t:e.loggingType!==H&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},clusterOutputChoices(){return this.allClusterOutputs?this.allClusterOutputs.filter((e=>{const t="cattle-logging-system"===e.namespace;return this.isHarvester?this.loggingType===H?e.loggingType===H&&t:e.loggingType!==H&&t:t})).map((e=>({label:e.metadata.name,value:e.metadata.name}))):[]},namespaceChoices(){if(!this.allNamespaces)return[];const e=this.allNamespaces.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},nodeChoices(){if(!this.allNodes)return[];const e=this.allNodes.map((e=>({label:e.nameDisplay,value:e.metadata.name})));return e},isHarvester(){return this.$store.getters["currentProduct"].inStore===A.T3},flowTypeOptions(){return z}},watch:{matches:{deep:!0,handler(){const e=this.matches.map((e=>{const t=(0,w.o8)(e);return delete t.exclude,delete t.select,e.exclude?{exclude:t}:{select:t}}));this.value.spec.match=e}},filtersYaml:{deep:!0,handler(){try{const e=g().load(this.filtersYaml);(0,N.cy)(e)?this.value.spec.filters=e:this.value.spec.filters=void 0}catch(e){this.errors=(0,x.rz)(e)}}},globalOutputRefs:{deep:!0,handler(){this.value.spec.globalOutputRefs=this.globalOutputRefs}},localOutputRefs:{deep:!0,handler(){this.value.spec.localOutputRefs=this.localOutputRefs}}},created(){this.isCreate&&this.value.type===h.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave")},methods:{addMatch(e){this.matches=[...this.matches,Q(e)]},removeMatch(e){this.matches.splice(e,1)},updateMatch(e,t){this.matches[t]=e},tabChanged({tab:e}){"filters"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},isMatchEmpty(e){return!!S()(e)||e.every((e=>{if(S()(e.select)&&S()(e.exclude))return!0;const t=e.select||{},a=e.exclude||{},l=e=>Object.values(e).every(S());return l(t)&&l(a)}))},willSave(){if(this.value.spec.filters&&S()(this.value.spec.filters)&&delete this.value.spec["filters"],this.value.spec.match&&this.isMatchEmpty(this.value.spec.match)&&delete this.value.spec["match"],this.loggingType===H&&(this.value.spec["loggingRef"]="harvester-kube-audit-log-ref"),this.loggingType===J){const e={select:{labels:{"app.kubernetes.io/name":"event-tailer"}}};this.value.spec.match?this.value.spec.match.push(e):this.value.spec["match"]=[e]}},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")},isTag(e,t){return!e.find((e=>e.value===t.value))}}};a(63286);const W=(0,F.A)(Y,[["render",n],["__scopeId","data-v-64137ce8"]]);var Z=W},52664:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-6"},c={class:"row mb-10"},u={class:"col span-6"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(b,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.awsElasticsearch.url")},null,8,["value","mode","disabled","label"])])]),t[3]||(t[3]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",c,[(0,l.createTextVNode)((0,l.toDisplayString)(a.value.namespace)+" ",1),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(g,{value:a.value.endpoint.access_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint.access_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(g,{value:a.value.endpoint.secret_access_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.secret_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.awsElasticsearch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var v=a(5327),h=a(7302),b={components:{LabeledInput:v.o,SecretSelector:h.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},g=a(47433);const f=(0,g.A)(b,[["render",m]]);var y=f},83882:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(y,{value:a.value.azure_container,"onUpdate:value":t[0]||(t[0]=e=>a.value.azure_container=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.container")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(y,{value:a.value.path,"onUpdate:value":t[1]||(t[1]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.path")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(y,{value:a.value.store_as,"onUpdate:value":t[2]||(t[2]=e=>a.value.store_as=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.azurestorage.storeAs")},null,8,["value","mode","disabled","label"])])]),t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{value:a.value.azure_storage_account,"onUpdate:value":t[3]||(t[3]=e=>a.value.azure_storage_account=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.storageAccount"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(k,{value:a.value.azure_storage_access_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.azure_storage_access_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.azurestorage.accessKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var g=a(5327),f=a(7302),y={components:{LabeledInput:g.o,SecretSelector:f.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},k=a(47433);const N=(0,k.A)(y,[["render",b]]);var V=N},25974:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row mb-10"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row"},h={class:"col span-6"},b={class:"row"},g={class:"col span-6"},f={class:"col span-6"};function y(e,t,a,y,k,N){const V=(0,l.resolveComponent)("LabeledInput"),E=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(V,{value:a.value.region,"onUpdate:value":t[0]||(t[0]=e=>a.value.region=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.region")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.endpoint")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(E,{value:a.value.aws_key_id,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(E,{value:a.value.aws_sec_key,"onUpdate:value":t[3]||(t[3]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.cloudwatch.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.configuration")),1)])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(V,{value:a.value.log_group_name,"onUpdate:value":t[4]||(t[4]=e=>a.value.log_group_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logGroupName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(V,{value:a.value.log_stream_name,"onUpdate:value":t[5]||(t[5]=e=>a.value.log_stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.cloudwatch.logStreamName")},null,8,["value","mode","disabled","label"])])])])}var k=a(5327),N=a(7302),V={components:{LabeledInput:k.o,SecretSelector:N.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},E=(a(12085),a(47433));const w=(0,E.A)(V,[["render",y]]);var C=w},69648:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"};function f(e,t,a,f,y,k){const N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("SecretSelector"),E=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(N,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.host")},null,8,["value","mode","disabled","label"])])]),t[4]||(t[4]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(V,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.datadog.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(E,{value:a.value.use_ssl,"onUpdate:value":t[2]||(t[2]=e=>a.value.use_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useSSL")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(E,{value:a.value.use_compression,"onUpdate:value":t[3]||(t[3]=e=>a.value.use_compression=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.datadog.useCompression")},null,8,["value","mode","disabled","label"])])])])}var y=a(34211),k=a(5327),N=a(7302),V={components:{Checkbox:y.S,LabeledInput:k.o,SecretSelector:N.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},E=a(47433);const w=(0,E.A)(V,[["render",f]]);var C=w},94479:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var l=a(9274);const o={class:"elasticsearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"},g={class:"col span-6"},f={class:"row"},y={class:"col span-6"},k={class:"row mb-10"},N={class:"col span-6"},V={class:"col span-6"},E={class:"row"},w={class:"col span-6"},C={class:"col span-6"},S={class:"row mb-10"},B={class:"col span-6"},x={class:"col span-6 vertically-center"};function A(e,t,a,A,_,D){const U=(0,l.resolveComponent)("LabeledSelect"),M=(0,l.resolveComponent)("LabeledInput"),L=(0,l.resolveComponent)("SecretSelector"),T=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(U,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:_.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(M,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(M,{value:D.port,"onUpdate:value":t[2]||(t[2]=e=>D.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(M,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),t[13]||(t[13]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(M,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(L,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),t[14]||(t[14]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(L,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",V,[(0,l.createVNode)(L,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(L,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(L,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(U,{value:a.value.ssl_version,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_version=e),mode:a.mode,disabled:a.disabled,options:_.sslVersions,label:e.t("logging.elasticsearch.sslVersion")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",x,[(0,l.createVNode)(T,{value:a.value.ssl_verify,"onUpdate:value":t[11]||(t[11]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,l.createVNode)(T,{value:a.value.suppress_type_name,"onUpdate:value":t[12]||(t[12]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.elasticSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var _=a(5327),D=a(77562),U=a(7302),M=a(34211),L=a(71779),T=a(78263),O={components:{LabeledInput:_.o,LabeledSelect:D.A,SecretSelector:U.A,Checkbox:M.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===L.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=T.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:T.protocol,sslVersions:T.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,T.updatePort)((e=>this.value["port"]=e),e)}}}},I=(a(93867),a(47433));const R=(0,I.A)(O,[["render",A]]);var $=R},91728:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);const o={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(p,{value:a.value.path,"onUpdate:value":t[0]||(t[0]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.file.path")},null,8,["value","mode","disabled","label"])])])])}var c=a(5327),u={components:{LabeledInput:c.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},p=a(47433);const m=(0,p.A)(u,[["render",d]]);var v=m},22597:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"forward"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-10"},d={class:"col span-2"},c={class:"row"},u={class:"col span-6"},p={class:"row mb-10"},m={class:"col span-6"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"},y={class:"row"},k={class:"col span-6"},N={class:"col span-6"},V={class:"row mt-10"},E={class:"col span-6"};function w(e,t,a,w,C,S){const B=(0,l.resolveComponent)("LabeledInput"),x=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(B,{value:a.value.servers[0].host,"onUpdate:value":t[0]||(t[0]=e=>a.value.servers[0].host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.forward.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(B,{value:S.port,"onUpdate:value":t[1]||(t[1]=e=>S.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.forward.port")},null,8,["value","mode","disabled","label"])])]),t[8]||(t[8]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(x,{value:a.value.servers[0].username,"onUpdate:value":t[2]||(t[2]=e=>a.value.servers[0].username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",v,[(0,l.createVNode)(x,{value:a.value.servers[0].password,"onUpdate:value":t[3]||(t[3]=e=>a.value.servers[0].password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(x,{value:a.value.servers[0].shared_key,"onUpdate:value":t[4]||(t[4]=e=>a.value.servers[0].shared_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.sharedKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[9]||(t[9]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(x,{value:a.value.tls_client_cert_path,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_client_cert_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientCertPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(x,{value:a.value.tls_client_private_key_path,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_client_private_key_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",E,[(0,l.createVNode)(x,{value:a.value.tls_client_private_key_passphrase,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_client_private_key_passphrase=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.forward.clientPrivateKeyPassphrase"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var C=a(5327),S=a(7302),B=a(78263),x={components:{LabeledInput:C.o,SecretSelector:S.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.servers[0].port},set(e){(0,B.updatePort)((e=>this.value.servers[0]["port"]=e),e)}}}},A=a(47433);const _=(0,A.A)(x,[["render",w]]);var D=_},5558:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"col span-6 overwrite"},p={class:"row"},m={class:"col span-6"},v={class:"row"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("Checkbox"),N=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(y,{value:a.value.project,"onUpdate:value":t[0]||(t[0]=e=>a.value.project=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.project")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(y,{value:a.value.bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.bucket")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(y,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.path")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(k,{value:a.value.overwrite,"onUpdate:value":t[3]||(t[3]=e=>a.value.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gcs.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(N,{value:a.value.credentials_json,"onUpdate:value":t[4]||(t[4]=e=>a.value.credentials_json=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.gcs.credentialsJson"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var g=a(34211),f=a(5327),y=a(7302),k={components:{Checkbox:g.S,LabeledInput:f.o,SecretSelector:y.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},N=(a(59293),a(47433));const V=(0,N.A)(k,[["render",b],["__scopeId","data-v-04f7f98b"]]);var E=V},94624:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var l=a(9274);const o={class:"gelf"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-3"},c={class:"col span-3"},u={class:"row"},p={class:"col span-6"},m={class:"row mb-10"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f={class:"col span-6"},y={class:"row mb-10"},k={class:"col span-6"},N={class:"col span-6"};function V(e,t,a,V,E,w){const C=(0,l.resolveComponent)("LabeledInput"),S=(0,l.resolveComponent)("LabeledSelect"),B=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(C,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.gelf.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(C,{value:w.port,"onUpdate:value":t[1]||(t[1]=e=>w.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.gelf.port")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(S,{value:a.value.protocol,"onUpdate:value":t[2]||(t[2]=e=>a.value.protocol=e),options:E.protocolOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.protocol")},null,8,["value","options","mode","disabled","label"])])]),t[9]||(t[9]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(B,{value:a.value.tls,"onUpdate:value":t[3]||(t[3]=e=>a.value.tls=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tls")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(B,{value:w.no_verify,"onUpdate:value":t[4]||(t[4]=e=>w.no_verify=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.noVerify")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(C,{value:a.value.tls_options.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.tls_options.cert=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientCert")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(C,{value:a.value.tls_options.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.tls_options.key=e),type:"multiline",mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.clientKey")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(C,{value:a.value.tls_options.tls_version,"onUpdate:value":t[7]||(t[7]=e=>a.value.tls_options.tls_version=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.tlsVersion")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(B,{value:w.all_ciphers,"onUpdate:value":t[8]||(t[8]=e=>w.all_ciphers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.gelf.tlsOptions.allCiphers")},null,8,["value","mode","disabled","label"])])])])}var E=a(5327),w=a(77562),C=a(34211),S={components:{Checkbox:C.S,LabeledInput:E.o,LabeledSelect:w.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["tcp","udp"];return this.value["tls_options"]=this.value.tls_options||{},this.value["protocol"]=this.value.protocol||e[0],{protocolOptions:e}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},no_verify:{get(){return"true"===this.value.tls_options.no_verify},set(e){this.value.tls_options["no_verify"]=e?"true":null}},all_ciphers:{get(){return"true"===this.value.tls_options.all_ciphers},set(e){this.value.tls_options["all_ciphers"]=e?"true":null}}}},B=a(47433);const x=(0,B.A)(S,[["render",V]]);var A=x},8288:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={class:"kafka"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"row mb-10"},m={class:"col span-6"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"},y={class:"row mb-10"},k={class:"col span-6"},N={class:"row mb-10"},V={class:"col span-6"},E={class:"col span-6"},w={class:"row mb-10"},C={class:"col span-6"},S={class:"col span-6"};function B(e,t,a,B,x,A){const _=(0,l.resolveComponent)("LabeledInput"),D=(0,l.resolveComponent)("SecretSelector"),U=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(_,{value:a.value.brokers,"onUpdate:value":t[0]||(t[0]=e=>a.value.brokers=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.brokers")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(_,{value:a.value.default_topic,"onUpdate:value":t[1]||(t[1]=e=>a.value.default_topic=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.defaultTopic")},null,8,["value","mode","disabled","label"])])]),t[10]||(t[10]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(D,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",v,[(0,l.createVNode)(D,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(_,{value:a.value.scram_mechanism,"onUpdate:value":t[4]||(t[4]=e=>a.value.scram_mechanism=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.scramMechanism")},null,8,["value","mode","disabled","label"])])]),t[11]||(t[11]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(U,{value:a.value.sasl_over_ssl,"onUpdate:value":t[5]||(t[5]=e=>a.value.sasl_over_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kafka.saslOverSsl")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createVNode)(D,{value:a.value.ssl_ca_cert,"onUpdate:value":t[6]||(t[6]=e=>a.value.ssl_ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslCaCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",E,[(0,l.createVNode)(D,{value:a.value.ssl_client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.ssl_client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",w,[(0,l.createElementVNode)("div",C,[(0,l.createVNode)(D,{value:a.value.ssl_client_cert_chain,"onUpdate:value":t[8]||(t[8]=e=>a.value.ssl_client_cert_chain=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertChain.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",S,[(0,l.createVNode)(D,{value:a.value.ssl_client_cert_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.ssl_client_cert_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kafka.sslClientCertKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var x=a(5327),A=a(7302),_=a(34211),D=a(78263),U={components:{Checkbox:_.S,LabeledInput:x.o,SecretSelector:A.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{schemes:D.protocol}}},M=a(47433);const L=(0,M.A)(U,[["render",B]]);var T=L},79442:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(b,{value:a.value.stream_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.stream_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.kinesisStream.streamName")},null,8,["value","mode","disabled","label"])])]),t[3]||(t[3]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(g,{value:a.value.aws_key_id,"onUpdate:value":t[1]||(t[1]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(g,{value:a.value.aws_sec_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.kinesisStream.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var v=a(7302),h=a(5327),b={components:{LabeledInput:h.o,SecretSelector:v.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},g=a(47433);const f=(0,g.A)(b,[["render",m]]);var y=f},97409:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(b,{value:a.value.hostname,"onUpdate:value":t[0]||(t[0]=e=>a.value.hostname=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.hostname")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(b,{value:a.value.app,"onUpdate:value":t[1]||(t[1]=e=>a.value.app=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.app")},null,8,["value","mode","disabled","label"])])]),t[3]||(t[3]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(b,{value:a.value.api_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.api_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logdna.apiKey"),required:!0},null,8,["value","mode","disabled","label"])])])])}var v=a(5327),h={components:{LabeledInput:v.o},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},b=a(47433);const g=(0,b.A)(h,[["render",m]]);var f=g},38387:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"row"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"};function g(e,t,a,g,f,y){const k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("SecretSelector"),V=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:a.value.endpoint.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.endpoint.url=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.url")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:y.port,"onUpdate:value":t[1]||(t[1]=e=>y.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.logz.port")},null,8,["value","mode","disabled","label"])])]),t[4]||(t[4]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:a.value.endpoint.token,"onUpdate:value":t[2]||(t[2]=e=>a.value.endpoint.token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.logz.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(V,{value:a.value.gzip,"onUpdate:value":t[3]||(t[3]=e=>a.value.gzip=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.logz.enableCompression")},null,8,["value","mode","disabled","label"])])])])}var f=a(34211),y=a(5327),k=a(7302),N=a(78263),V={components:{Checkbox:f.S,LabeledInput:y.o,SecretSelector:k.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{port:{get(){return this.value.endpoint.port},set(e){(0,N.updatePort)((e=>this.value.endpoint["port"]=e),e)}}}},E=a(47433);const w=(0,E.A)(V,[["render",g]]);var C=w},25480:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var l=a(9274);const o={class:"loki"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"},y={class:"col span-6 mb-10"},k={class:"row"},N={class:"col span-6"},V={class:"row"},E={class:"col span-6"},w={class:"row mb-10"},C={class:"col span-12"},S={class:"row mb-10"},B={class:"col span-12"},x={class:"row mb-10"},A={class:"col span-12"};function _(e,t,a,_,D,U){const M=(0,l.resolveComponent)("LabeledInput"),L=(0,l.resolveComponent)("SecretSelector"),T=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(M,{value:a.value.url,"onUpdate:value":t[0]||(t[0]=e=>a.value.url=e),mode:a.mode,disabled:a.disabled,class:"url",placeholder:"https://127.0.0.1:8000","data-testid":"loki-url",label:e.t("logging.loki.url")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(M,{value:a.value.tenant,"onUpdate:value":t[1]||(t[1]=e=>a.value.tenant=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.tenant")},null,8,["value","mode","disabled","label"])])]),t[10]||(t[10]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(L,{value:a.value.username,"onUpdate:value":t[2]||(t[2]=e=>a.value.username=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.username"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",v,[(0,l.createVNode)(L,{value:a.value.password,"onUpdate:value":t[3]||(t[3]=e=>a.value.password=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.password"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[11]||(t[11]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(L,{value:a.value.ca_cert,"onUpdate:value":t[4]||(t[4]=e=>a.value.ca_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.caCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",y,[(0,l.createVNode)(L,{value:a.value.cert,"onUpdate:value":t[5]||(t[5]=e=>a.value.cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.cert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(L,{value:a.value.key,"onUpdate:value":t[6]||(t[6]=e=>a.value.key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.loki.key"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[12]||(t[12]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.labels")),1)])]),(0,l.createElementVNode)("div",w,[(0,l.createElementVNode)("div",C,[(0,l.createVNode)(T,{value:a.value.configure_kubernetes_labels,"onUpdate:value":t[7]||(t[7]=e=>a.value.configure_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.configureKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(T,{value:a.value.extract_kubernetes_labels,"onUpdate:value":t[8]||(t[8]=e=>a.value.extract_kubernetes_labels=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.extractKubernetesLabels")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(T,{value:a.value.drop_single_key,"onUpdate:value":t[9]||(t[9]=e=>a.value.drop_single_key=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.loki.dropSingleKey")},null,8,["value","mode","disabled","label"])])])])}var D=a(5327),U=a(7302),M=a(34211),L={components:{Checkbox:M.S,LabeledInput:D.o,SecretSelector:U.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{}}},T=a(47433);const O=(0,T.A)(L,[["render",_]]);var I=O},21413:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"row"},d={class:"col span-6"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(v,{value:a.value.base_uri,"onUpdate:value":t[0]||(t[0]=e=>a.value.base_uri=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.newrelic.baseURI")},null,8,["value","mode","disabled","label"])])]),t[3]||(t[3]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(h,{value:a.value.api_key,"onUpdate:value":t[1]||(t[1]=e=>a.value.api_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.apiKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(h,{value:a.value.license_key,"onUpdate:value":t[2]||(t[2]=e=>a.value.license_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.newrelic.licenseKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var p=a(5327),m=a(7302),v={components:{LabeledInput:p.o,SecretSelector:m.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},h=a(47433);const b=(0,h.A)(v,[["render",u]]);var g=b},13891:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var l=a(9274);const o={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-2"},d={class:"col span-8"},c={class:"col span-2"},u={class:"row"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"row"},b={class:"col span-6"},g={class:"col span-6"},f={class:"row"},y={class:"col span-6"},k={class:"row mb-10"},N={class:"col span-6"},V={class:"col span-6"},E={class:"row"},w={class:"col span-6"},C={class:"col span-6"},S={class:"row mb-10"},B={class:"col span-6 vertically-center"};function x(e,t,a,x,A,_){const D=(0,l.resolveComponent)("LabeledSelect"),U=(0,l.resolveComponent)("LabeledInput"),M=(0,l.resolveComponent)("SecretSelector"),L=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(D,{value:a.value.scheme,"onUpdate:value":t[0]||(t[0]=e=>a.value.scheme=e),mode:a.mode,disabled:a.disabled,class:"scheme",options:A.protocolOptions,label:e.t("logging.elasticsearch.scheme")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(U,{value:a.value.host,"onUpdate:value":t[1]||(t[1]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.elasticsearch.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(U,{value:_.port,"onUpdate:value":t[2]||(t[2]=e=>_.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.elasticsearch.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(U,{value:a.value.index_name,"onUpdate:value":t[3]||(t[3]=e=>a.value.index_name=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.indexName")},null,8,["value","mode","disabled","label"])])]),t[12]||(t[12]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(U,{value:a.value.user,"onUpdate:value":t[4]||(t[4]=e=>a.value.user=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.elasticsearch.user")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(M,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])]),t[13]||(t[13]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(M,{value:a.value.ca_file,"onUpdate:value":t[6]||(t[6]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.caFile.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",V,[(0,l.createVNode)(M,{value:a.value.client_cert,"onUpdate:value":t[7]||(t[7]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientCert.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(M,{value:a.value.client_key,"onUpdate:value":t[8]||(t[8]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKey.label"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(M,{value:a.value.client_key_pass,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_key_pass=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.elasticsearch.clientKeyPass"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(L,{value:a.value.ssl_verify,"onUpdate:value":t[10]||(t[10]=e=>a.value.ssl_verify=e),label:e.t("logging.elasticsearch.verifySsl"),disabled:a.disabled,mode:a.mode},null,8,["value","label","disabled","mode"]),(0,l.createVNode)(L,{value:a.value.suppress_type_name,"onUpdate:value":t[11]||(t[11]=e=>a.value.suppress_type_name=e),label:e.t("logging.elasticsearch.suppressTypeName.label"),tooltip:e.t("logging.elasticsearch.suppressTypeName.openSearchTips"),disabled:a.disabled,mode:a.mode},null,8,["value","label","tooltip","disabled","mode"])])])])}var A=a(5327),_=a(77562),D=a(7302),U=a(34211),M=a(71779),L=a(78263),T={components:{LabeledInput:A.o,LabeledSelect:_.A,SecretSelector:D.A,Checkbox:U.S},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return this.mode===M.YQ&&("undefined"===typeof this.value.ssl_verify&&(this.value["ssl_verify"]=!0),"undefined"===typeof this.value.ssl_version&&(this.value["ssl_version"]=L.sslVersions[0]),"undefined"===typeof this.value.suppress_type_name&&(this.value["suppress_type_name"]=!0)),{protocolOptions:L.protocol,sslVersions:L.sslVersions}},computed:{port:{get(){return this.value.port},set(e){(0,L.updatePort)((e=>this.value["port"]=e),e)}}}},O=(a(44269),a(47433));const I=(0,O.A)(T,[["render",x]]);var R=I},74506:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var l=a(9274);const o={class:"opensearch"},s={class:"row"},r={class:"col span-6"},n={class:"row mb-10"},i={class:"col span-8"},d={class:"col span-2"},c={class:"row"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row"},v={class:"col span-6"},h={class:"row mb-10"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"},y={class:"row"},k={class:"col span-6"};function N(e,t,a,N,V,E){const w=(0,l.resolveComponent)("LabeledInput"),C=(0,l.resolveComponent)("LabeledSelect"),S=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(w,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,class:"host",label:e.t("logging.redis.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(w,{value:E.port,"onUpdate:value":t[1]||(t[1]=e=>E.port=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,class:"port",type:"number",min:"1",max:"65535",label:e.t("logging.redis.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(w,{value:a.value.db_number,"onUpdate:value":t[2]||(t[2]=e=>a.value.db_number=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.dbNumber")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(w,{value:a.value.ttl,"onUpdate:value":t[3]||(t[3]=e=>a.value.ttl=e),valueModifiers:{number:!0},mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.redis.ttl")},null,8,["value","mode","disabled","label"])])]),t[6]||(t[6]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.redis.format.title")),1)])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(C,{value:a.value.format.type,"onUpdate:value":t[4]||(t[4]=e=>a.value.format.type=e),options:V.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.redis.format.type")},null,8,["value","options","mode","disabled","label"])])]),t[7]||(t[7]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(S,{value:a.value.password,"onUpdate:value":t[5]||(t[5]=e=>a.value.password=e),"secret-name-label":e.t("logging.elasticsearch.password"),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"show-key-selector":!0},null,8,["value","secret-name-label","mode","namespace","disabled"])])])])}var V=a(5327),E=a(7302),w=a(78263),C=a(77562),S={components:{LabeledInput:V.o,LabeledSelect:C.A,SecretSelector:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"];return this.value["format"]=this.value.format||{type:e[0]},{formatTypeOptions:e}},computed:{port:{get(){return this.value.port},set(e){(0,w.updatePort)((e=>this.value.port=e),e)}}}},B=(a(82339),a(47433));const x=(0,B.A)(S,[["render",N]]);var A=x},15890:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row mb-10"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row"},c={class:"col span-6"},u={class:"col span-6 overwrite"},p={class:"row"},m={class:"col span-6"},v={class:"row"},h={class:"col span-6"},b={class:"col span-6"};function g(e,t,a,g,f,y){const k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("Checkbox"),V=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:a.value.s3_endpoint,"onUpdate:value":t[0]||(t[0]=e=>a.value.s3_endpoint=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.endpoint")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:a.value.s3_bucket,"onUpdate:value":t[1]||(t[1]=e=>a.value.s3_bucket=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.bucket")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:a.value.path,"onUpdate:value":t[2]||(t[2]=e=>a.value.path=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.path")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(N,{value:y.overwrite,"onUpdate:value":t[3]||(t[3]=e=>y.overwrite=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.s3.overwriteExistingPath")},null,8,["value","mode","disabled","label"])])]),t[6]||(t[6]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1)])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(V,{value:a.value.aws_key_id,"onUpdate:value":t[4]||(t[4]=e=>a.value.aws_key_id=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.keyId"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(V,{value:a.value.aws_sec_key,"onUpdate:value":t[5]||(t[5]=e=>a.value.aws_sec_key=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.s3.secretKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var f=a(34211),y=a(5327),k=a(7302),N={components:{Checkbox:f.S,LabeledInput:y.o,SecretSelector:k.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},computed:{overwrite:{get(){return"true"===this.value.overwrite},set(e){this.value["overwrite"]=e.toString()}}}},V=(a(95488),a(47433));const E=(0,V.A)(N,[["render",g],["__scopeId","data-v-65384aa8"]]);var w=E},38060:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"splunk"},s={class:"row mb-10"},r={class:"col span-2"},n={class:"col span-8"},i={class:"col span-2"},d={class:"row"},c={class:"col span-6"},u={class:"col span-6"},p={class:"row"},m={class:"col span-6"},v={class:"row mb-10"},h={class:"col span-6"},b={class:"row mb-10"},g={class:"col span-6"},f={class:"col span-6"},y={class:"row"},k={class:"col span-6"},N={class:"col span-6"};function V(e,t,a,V,E,w){const C=(0,l.resolveComponent)("LabeledSelect"),S=(0,l.resolveComponent)("LabeledInput"),B=(0,l.resolveComponent)("SecretSelector"),x=(0,l.resolveComponent)("Checkbox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(C,{value:a.value.protocol,"onUpdate:value":t[0]||(t[0]=e=>a.value.protocol=e),mode:a.mode,disabled:a.disabled,options:E.protocolOptions,label:e.t("logging.splunk.protocol")},null,8,["value","mode","disabled","options","label"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(S,{value:a.value.hec_host,"onUpdate:value":t[1]||(t[1]=e=>a.value.hec_host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(S,{value:w.port,"onUpdate:value":t[2]||(t[2]=e=>w.port=e),mode:a.mode,disabled:a.disabled,type:"number",min:"1",max:"65535",label:e.t("logging.splunk.port")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(S,{value:a.value.index,"onUpdate:value":t[3]||(t[3]=e=>a.value.index=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.indexName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(S,{value:a.value.source,"onUpdate:value":t[4]||(t[4]=e=>a.value.source=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.source")},null,8,["value","mode","disabled","label"])])])]),t[11]||(t[11]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.access")),1),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(B,{value:a.value.hec_token,"onUpdate:value":t[5]||(t[5]=e=>a.value.hec_token=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.token"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])]),t[12]||(t[12]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(x,{value:a.value.insecure_ssl,"onUpdate:value":t[6]||(t[6]=e=>a.value.insecure_ssl=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.splunk.insecureSsl")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(B,{value:a.value.ca_file,"onUpdate:value":t[7]||(t[7]=e=>a.value.ca_file=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caFile"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(B,{value:a.value.ca_path,"onUpdate:value":t[8]||(t[8]=e=>a.value.ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.caPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(B,{value:a.value.client_cert,"onUpdate:value":t[9]||(t[9]=e=>a.value.client_cert=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientCert"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])]),(0,l.createElementVNode)("div",N,[(0,l.createVNode)(B,{value:a.value.client_key,"onUpdate:value":t[10]||(t[10]=e=>a.value.client_key=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.splunk.clientKey"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var E=a(7302),w=a(5327),C=a(77562),S=a(34211),B=a(78263),x={components:{Checkbox:S.S,LabeledInput:w.o,LabeledSelect:C.A,SecretSelector:E.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){return{protocolOptions:B.protocol}},computed:{port:{get(){return this.value.hec_port},set(e){(0,B.updatePort)((e=>this.value["hec_port"]=e),e)}}}},A=a(47433);const _=(0,A.A)(x,[["render",V]]);var D=_},3527:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"row"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("LabeledInput"),m=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(p,{value:a.value.source_name,"onUpdate:value":t[0]||(t[0]=e=>a.value.source_name=e),class:"source-name",mode:a.mode,disabled:a.disabled,label:e.t("logging.sumologic.sourceName")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(m,{value:a.value.endpoint,"onUpdate:value":t[1]||(t[1]=e=>a.value.endpoint=e),mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.sumologic.endpoint"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])])])}var c=a(5327),u=a(7302),p={components:{LabeledInput:c.o,SecretSelector:u.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",d]]);var h=v},71815:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var l=a(9274);const o={class:"elasticsearch"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-8"},d={class:"col span-4"},c={class:"row"},u={class:"col span-6"},p={class:"row mb-10"},m={class:"col span-6"},v={class:"col span-6 insecure"},h={class:"row mb-10"},b={class:"col span-6"},g={class:"row"},f={class:"col span-6"},y={class:"row mb-10"},k={class:"col span-6"},N={class:"row"},V={class:"col span-6"},E={class:"row mb-20"},w={class:"col span-6"},C={class:"row mb-10"},S={class:"col span-6"},B={class:"col span-6"},x={class:"row mb-20"},A={class:"col span-6"},_={class:"row mb-20"},D={class:"col span-6"},U={class:"row mb-10"},M={class:"col span-6"},L={class:"col span-6"},T={class:"row mb-10"},O={class:"col span-6"};function I(e,t,a,I,R,$){const P=(0,l.resolveComponent)("LabeledInput"),q=(0,l.resolveComponent)("LabeledSelect"),F=(0,l.resolveComponent)("Checkbox"),G=(0,l.resolveComponent)("SecretSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.target")),1)])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(P,{value:a.value.host,"onUpdate:value":t[0]||(t[0]=e=>a.value.host=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.host")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(P,{value:$.port,"onUpdate:value":t[1]||(t[1]=e=>$.port=e),mode:a.mode,disabled:a.disabled,class:"port",type:"number",label:e.t("logging.syslog.port")},null,8,["value","mode","disabled","label"])])]),t[14]||(t[14]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.output.sections.certificate")),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(q,{value:a.value.transport,"onUpdate:value":t[2]||(t[2]=e=>a.value.transport=e),options:R.transportOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.transport")},null,8,["value","options","mode","disabled","label"])]),(0,l.createElementVNode)("div",v,[(0,l.createVNode)(F,{value:a.value.insecure,"onUpdate:value":t[3]||(t[3]=e=>a.value.insecure=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.insecure")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(G,{value:a.value.trusted_ca_path,"onUpdate:value":t[4]||(t[4]=e=>a.value.trusted_ca_path=e),"mount-key":"mountFrom",mode:a.mode,namespace:a.namespace,disabled:a.disabled,"secret-name-label":e.t("logging.syslog.trustedCaPath"),"show-key-selector":!0},null,8,["value","mode","namespace","disabled","secret-name-label"])])]),t[15]||(t[15]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.syslog.format.title")),1)])]),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createVNode)(q,{value:a.value.format.type,"onUpdate:value":t[5]||(t[5]=e=>a.value.format.type=e),options:R.formatTypeOptions,mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.format.type")},null,8,["value","options","mode","disabled","label"])])]),t[16]||(t[16]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),(0,l.createElementVNode)("div",N,[(0,l.createElementVNode)("div",V,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("logging.syslog.buffer.title")),1)])]),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(P,{value:a.value.buffer.tags,"onUpdate:value":t[6]||(t[6]=e=>a.value.buffer.tags=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.tags")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",C,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(P,{value:a.value.buffer.chunk_limit_size,"onUpdate:value":t[7]||(t[7]=e=>a.value.buffer.chunk_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.chunkLimitSize")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(P,{value:$.chunkLimitRecords,"onUpdate:value":t[8]||(t[8]=e=>$.chunkLimitRecords=e),mode:a.mode,disabled:a.disabled,type:"number",label:e.t("logging.syslog.buffer.chunkLimitRecords")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(P,{value:a.value.buffer.total_limit_size,"onUpdate:value":t[9]||(t[9]=e=>a.value.buffer.total_limit_size=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.totalLimitSize")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",_,[(0,l.createElementVNode)("div",D,[(0,l.createVNode)(P,{value:a.value.buffer.flush_interval,"onUpdate:value":t[10]||(t[10]=e=>a.value.buffer.flush_interval=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.flushInterval")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",U,[(0,l.createElementVNode)("div",M,[(0,l.createVNode)(P,{value:a.value.buffer.timekey,"onUpdate:value":t[11]||(t[11]=e=>a.value.buffer.timekey=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekey")},null,8,["value","mode","disabled","label"])]),(0,l.createElementVNode)("div",L,[(0,l.createVNode)(P,{value:a.value.buffer.timekey_wait,"onUpdate:value":t[12]||(t[12]=e=>a.value.buffer.timekey_wait=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyWait")},null,8,["value","mode","disabled","label"])])]),(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("div",O,[(0,l.createVNode)(F,{value:a.value.buffer.timekey_use_utc,"onUpdate:value":t[13]||(t[13]=e=>a.value.buffer.timekey_use_utc=e),mode:a.mode,disabled:a.disabled,label:e.t("logging.syslog.buffer.timekeyUseUTC")},null,8,["value","mode","disabled","label"])])])])}var R=a(34211),$=a(5327),P=a(77562),q=a(7302),F={components:{Checkbox:R.S,LabeledInput:$.o,LabeledSelect:P.A,SecretSelector:q.A},props:{value:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},mode:{type:String,required:!0},namespace:{type:String,required:!0}},data(){const e=["json","out_file","ltsv","csv","msgpack","hash","single_value"],t=["tls","udp","tcp"];return this.value["format"]=this.value.format||{type:e[0]},this.value["buffer"]=this.value.buffer||{},this.value["transport"]=this.value.transport||t[0],{formatTypeOptions:e,transportOptions:t}},computed:{port:{get(){return this.value.port},set(e){this.value["port"]=Number.parseInt(e)}},chunkLimitRecords:{get(){return this.value.buffer.chunk_limit_records},set(e){this.value.buffer["chunk_limit_records"]=Number.parseInt(e)}}}},G=(a(82463),a(47433));const K=(0,G.A)(F,[["render",I],["__scopeId","data-v-28e49e6e"]]);var j=K},89556:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.username,"onUpdate:value":t[0]||(t[0]=e=>i.username=e),required:"",label:e.t("secret.basic.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(c,{value:i.password,"onUpdate:value":t[1]||(t[1]=e=>i.password=e),label:e.t("secret.basic.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var i=a(5327),d={components:{LabeledInput:i.o},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData.username||"",t=this.value.decodedData.password||"";return{username:e,password:t}},watch:{username:"update",password:"update"},methods:{update(){this.value.setData("username",this.username),this.value.setData("password",this.password)}}},c=a(47433);const u=(0,c.A)(d,[["render",n]]);var p=u},92154:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createBlock)(n,{key:"data",value:a.value.data,"onUpdate:value":t[0]||(t[0]=e=>a.value.data=e),mode:a.mode,"initial-empty-row":!0,"handle-base64":!0,"value-trim":!1,"add-allowed":!0,"read-allowed":!0,"value-concealed":r.isView&&a.hideSensitiveData,"file-modifier":r.fileModifier,"parse-lines-from-file":!0,"read-icon":"","add-icon":""},null,8,["value","mode","value-concealed","file-modifier"])}var s=a(85905),r=a(71779);const n=/^[-._a-zA-Z0-9]*$/;var i={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},hideSensitiveData:{type:Boolean,default:!0}},computed:{isView(){return this.mode===r.nW}},methods:{fileModifier(e,t){return n.test(e)||(e=e.split("").map((e=>n.test(e)?e:"_")).join("")),{name:e,value:t}}}},d=a(47433);const c=(0,d.A)(i,[["render",o]]);var u=c},86404:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var l=a(9274);const o={class:"filled-height"},s={key:0,class:"row"},r={class:"col span-3"},n={class:"col span-3"};function i(e,t,a,i,d,c){const u=(0,l.resolveComponent)("Loading"),p=(0,l.resolveComponent)("NameNsDescription"),m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("Labels"),g=(0,l.resolveComponent)("Tabbed"),f=(0,l.resolveComponent)("CruResource"),y=(0,l.resolveDirective)("focus");return(0,l.openBlock)(),(0,l.createElementBlock)("form",o,[e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(u,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(f,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,"done-route":c.doneRoute,subtypes:c.secretSubTypes,onFinish:c.saveSecret,onSelectType:c.selectType,onError:t[4]||(t[4]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:e.value,mode:e.mode,namespaced:!d.isCloud,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("input",t))},null,8,["value","mode","namespaced"]),c.isCustomSecretCreate?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:d.secretType,"onUpdate:value":[t[1]||(t[1]=e=>d.secretType=e),c.selectCustomType],options:d.secretTypes,searchable:!1,mode:e.mode,multiple:!1,reduce:e=>e.value,"label-key":"secret.type",required:""},null,8,["value","options","mode","reduce","onUpdate:value"])]),(0,l.createElementVNode)("div",n,[c.showCustomSecretType?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,ref:"customType",value:e.value._type,"onUpdate:value":t[2]||(t[2]=t=>e.value._type=t),"label-key":"secret.customType",mode:e.mode,required:""},null,8,["value","mode"])),[[y]]):(0,l.createCommentVNode)("",!0)])])):(0,l.createCommentVNode)("",!0),t[5]||(t[5]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),d.isCloud?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(c.cloudComponent),{key:1,ref:"cloudComponent","driver-name":c.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":c.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,l.openBlock)(),(0,l.createBlock)(g,{key:2,"side-tabs":!0,"default-tab":"data"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"data",label:c.dataLabel,weight:99},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(c.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":c.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,l.createVNode)(h,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{value:e.value,mode:e.mode,"onUpdate:value":t[3]||(t[3]=t=>e.$emit("input",t))},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","done-route","subtypes","onFinish","onSelectType"]))])}var d=a(86310),c=a(20665),u=a(72706),p=a(11922),m=a(5327),v=a(77562),h=a(22065),b=a(71779),g=a(61856),f=a(4335),y=a(94877),k=a(55659),N=a(85401),V=a(55190),E=a(26812),w=a(64035),C=a(77085),S=a(73331),B=a(41594);const x=[d.J.OPAQUE,d.J.DOCKER_JSON,d.J.TLS,d.J.SSH,d.J.BASIC];var A={name:"CruSecret",emits:["set-subtype","input"],components:{LabeledInput:m.o,LabeledSelect:v.A,Loading:g.A,NameNsDescription:p.A,CruResource:h.A,Tabbed:f.A,Tab:y.A,Labels:k.A,SelectIconGrid:C.A},mixins:[u.A],async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:c.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[b.Sd]===b.Qp,t=this.mode===b.G5&&this.value._type===d.J.CLOUD_CREDENTIAL,a=this.realMode===b.dT&&this.liveValue._type===d.J.CLOUD_CREDENTIAL,l=e||t||a;e&&(this.value.metadata.namespace=c.eo,this.value.metadata["name"]="",this.value["data"]={});const o=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(d.J).forEach((e=>{o.push({label:e,value:e})})),{isCloud:l,nodeDrivers:null,secretTypes:o,secretType:this.value._type,initialSecretType:this.value._type}},computed:{isCustomSecretCreate(){return this.mode===b.YQ&&"custom"===this.$route.query.type},showCustomSecretType(){return"custom"===this.secretType},typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case d.J.TLS:return"tls";case d.J.BASIC:return"basic";case d.J.DOCKER_JSON:return"registry";case d.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[V.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){return this.$store.getters["type-map/hasCustomCloudCredentialComponent"](this.driverName)?this.$store.getters["type-map/importCloudCredential"](this.driverName):this.$store.getters["type-map/importCloudCredential"]("generic")},secretSubTypes(){const e=[];if(this.isCloud){const l=(0,E.sb)(this.nodeDrivers.filter((e=>e.spec.active)).map((e=>e.spec.displayName||e.id)).map((e=>this.$store.getters["plugins/credentialDriverFor"](e))));for(const o of l){let l,s;try{l=a(53588)(`./${o}.svg`)}catch(t){l=null,s=this.initialDisplayFor(o)}e.push({id:o,label:this.typeDisplay(V.qt.CREDENTIAL_DRIVER,o),bannerImage:l,bannerAbbrv:s})}}else{for(const t of x)e.push({id:t,label:this.typeDisplay(t),bannerAbbrv:this.initialDisplayFor(t),description:this.t(`secret.typeDescriptions.'${t}'.description`),docLink:this.t(`secret.typeDescriptions.'${t}'.docLink`)});e.push({id:"custom",label:this.t("secret.customType"),bannerAbbrv:this.initialDisplayFor("custom"),description:this.t("secret.typeDescriptions.custom.description")})}return(0,S.Ul)(e,"label")},namespaces(){return this.$store.getters["cluster/all"](c.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](N.qv)},dataLabel(){switch(this.value._type){case d.J.TLS:return this.t("secret.certificate.certificate");case d.J.SSH:return this.value.supportsSshKnownHosts?this.t("secret.ssh.keysAndHosts"):this.t("secret.ssh.keys");case d.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}},doneRoute(){return this.$store.getters["currentProduct"].name===w.o?"c-cluster-manager-secret":"c-cluster-product-resource"}},methods:{async saveSecret(e){if(this.errors&&(0,E.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},selectType(e){let t;this.isCloud&&(e===d.J.CLOUD_CREDENTIAL?t=this.driverName:(t=e,e=d.J.CLOUD_CREDENTIAL),this.mode===b.YQ&&this.value.setAnnotation(V.qt.CREDENTIAL_DRIVER,t)),this.value["_type"]=e,this.$emit("set-subtype",this.typeDisplay(e,t)),this.secretType=e,this.mode===b.YQ&&"custom"===e&&(this.value["_type"]="")},typeDisplay(e,t){if(e===V.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,B.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},_=a(47433);const D=(0,_.A)(A,[["render",i]]);var U=D},62009:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var l=a(9274);const o={class:"row mb-10"},s={class:"col span-12"},r={key:0,class:"row mb-20"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(m,{value:u.registryProvider,"onUpdate:value":t[0]||(t[0]=e=>u.registryProvider=e),name:"registryProvider",mode:a.mode,options:p.registryAddresses},null,8,["value","mode","options"])])]),p.needsDockerServer?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createVNode)(v,{value:u.registryUrl,"onUpdate:value":t[1]||(t[1]=e=>u.registryUrl=e),required:"",label:e.t("secret.registry.domainName"),placeholder:"e.g. index.docker.io",mode:a.mode},null,8,["value","label","mode"])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.username,"onUpdate:value":t[2]||(t[2]=e=>u.username=e),label:e.t("secret.registry.username"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{value:u.password,"onUpdate:value":t[3]||(t[3]=e=>u.password=e),label:e.t("secret.registry.password"),mode:a.mode,type:"password"},null,8,["value","label","mode"])])])])}var u=a(5327),p=a(21221),m={components:{LabeledInput:u.o,RadioGroup:p.z},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e,t="Custom";try{const t=JSON.parse(this.value.decodedData[".dockerconfigjson"]);e=t.auths}catch(s){}e=e||{};const a=Object.keys(e)[0]||"";"index.docker.io/v1/"===a?t="DockerHub":"quay.io"===a?t="Quay.io":a.includes("artifactory")&&(t="Artifactory");const l=e[a]?.username||"",o=e[a]?.password||"";return{registryProvider:t,username:l,password:o,registryUrl:a}},computed:{registryAddresses(){return["Custom","DockerHub","Quay.io","Artifactory"]},needsDockerServer(){return"Artifactory"===this.registryProvider||"Custom"===this.registryProvider},dockerconfigjson(){let e="DockerHub"===this.registryProvider?"index.docker.io/v1/":"quay.io";if(this.needsDockerServer&&(e=this.registryUrl),e){const t={auths:{[e]:{username:this.username,password:this.password}}},a=JSON.stringify(t);return a}return null}},watch:{registryProvider:"update",registryUrl:"update",username:"update",password:"update"},methods:{update(){this.value.setData(".dockerconfigjson",this.dockerconfigjson)}}},v=a(47433);const h=(0,v.A)(m,[["render",c]]);var b=h},4889:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-40"},i={class:"col span-12"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("LabeledInput"),m=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(p,{value:c.username,"onUpdate:value":t[0]||(t[0]=e=>c.username=e),type:"multiline","data-testid":"ssh-public-key",label:e.t("secret.ssh.public"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.publicPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(m,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:u.onUsernameSelected},null,8,["label","onSelected"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(p,{value:c.password,"onUpdate:value":t[1]||(t[1]=e=>c.password=e),type:"multiline","data-testid":"ssh-private-key",label:e.t("secret.ssh.private"),mode:a.mode,required:"",placeholder:e.t("secret.ssh.privatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(m,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:u.onPasswordSelected},null,8,["label","onSelected"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[c.showKnownHosts?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,value:c.knownHosts,"onUpdate:value":t[2]||(t[2]=e=>c.knownHosts=e),type:"multiline","data-testid":"ssh-known-hosts",label:e.t("secret.ssh.knownHosts"),mode:a.mode,placeholder:e.t("secret.ssh.knownHostsPlaceholder")},null,8,["value","label","mode","placeholder"])):(0,l.createCommentVNode)("",!0)])])])}var c=a(5327),u=a(64779),p={components:{LabeledInput:c.o,FileSelector:u.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["ssh-publickey"]||"",t=this.value.decodedData["ssh-privatekey"]||"",a=this.value.decodedData["known_hosts"]||"",l=this.value.supportsSshKnownHosts;return{username:e,password:t,knownHosts:a,showKnownHosts:l}},watch:{username:"update",password:"update",knownHosts:"update"},methods:{onUsernameSelected:(0,u.B)("username"),onPasswordSelected:(0,u.B)("password"),update(){this.value.setData("ssh-publickey",this.username),this.value.setData("ssh-privatekey",this.password),this.showKnownHosts&&this.value.setData("known_hosts",this.knownHosts)}}},m=a(47433);const v=(0,m.A)(p,[["render",d]]);var h=v},11658:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.key,"onUpdate:value":t[0]||(t[0]=e=>i.key=e),type:"multiline",label:e.t("secret.certificate.privateKey"),mode:a.mode,placeholder:e.t("secret.certificate.privateKeyPlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onKeySelected},null,8,["label","onSelected"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(c,{value:i.crt,"onUpdate:value":t[1]||(t[1]=e=>i.crt=e),required:"",type:"multiline",label:e.t("secret.certificate.certificate"),mode:a.mode,placeholder:e.t("secret.certificate.certificatePlaceholder")},null,8,["value","label","mode","placeholder"]),(0,l.createVNode)(u,{class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),onSelected:d.onCrtSelected},null,8,["label","onSelected"])])])])}var i=a(71779),d=a(5327),c=a(64779),u={components:{LabeledInput:d.o,FileSelector:c.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=this.value.decodedData["tls.key"]||"",t=this.mode===i.G5?"":e,a=this.value.decodedData["tls.crt"]||"";return{originalKey:e,key:t,crt:a}},watch:{key:"update",crt:"update"},methods:{onKeySelected:(0,c.B)("key"),onCrtSelected:(0,c.B)("crt"),update(){let e;e=this.mode!==i.G5||this.key.length?this.key:this.originalKey,this.value.setData("tls.crt",this.crt),this.value.setData("tls.key",e)}}},p=a(47433);const m=(0,p.A)(u,[["render",n]]);var v=m},49306:function(e,t,a){"use strict";a.d(t,{A:function(){return h}});var l=a(9274);const o={class:"label"},s={class:"text-label"},r={class:"mt-10"},n=["onClick"],i={key:1,class:"tag input"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("t"),m=(0,l.resolveComponent)("Tag");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[a.labelKey?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,k:a.labelKey},null,8,["k"])):a.label?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)((0,l.toDisplayString)(a.label),1)],64)):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",r,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(m,{key:t,class:"tag"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e),1),u.canRemove?((0,l.openBlock)(),(0,l.createElementBlock)("i",{key:0,class:"icon icon-close ml-5 icon-sm",onClick:t=>u.onRemoveTag(e)},null,8,n)):(0,l.createCommentVNode)("",!0)])),_:2},1024)))),128)),u.addVisible&&!c.inputVisible?((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:0,class:"tag add",onClick:t[0]||(t[0]=(...e)=>u.onClickPlusButton&&u.onClickPlusButton(...e))},[t[4]||(t[4]=(0,l.createElementVNode)("i",{class:"icon icon-plus icon-sm"},null,-1)),(0,l.createElementVNode)("span",null,[a.addLabelKey?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,k:a.addLabelKey},null,8,["k"])):a.addLabel?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)((0,l.toDisplayString)(a.addLabel),1)],64)):(0,l.createCommentVNode)("",!0)])])):u.addVisible&&c.inputVisible?((0,l.openBlock)(),(0,l.createElementBlock)("span",i,[(0,l.withDirectives)((0,l.createElementVNode)("input",{ref:"addTagInput","onUpdate:modelValue":t[1]||(t[1]=e=>c.inputValue=e),type:"text",onBlur:t[2]||(t[2]=(...e)=>u.confirmAdd&&u.confirmAdd(...e)),onKeydown:t[3]||(t[3]=(0,l.withKeys)((0,l.withModifiers)(((...e)=>u.confirmAdd&&u.confirmAdd(...e)),["prevent"]),["enter"]))},null,544),[[l.vModelText,c.inputValue]])])):(0,l.createCommentVNode)("",!0)])])}var c=a(71779),u=a(82772),p={name:"Tags",emits:["update:value"],components:{Tag:u.A},props:{value:{type:Array,required:!0},label:{type:String,default:""},labelKey:{type:String,default:""},addLabel:{type:String,default:""},addLabelKey:{type:String,default:""},canAdd:{type:Boolean,default:!0},mode:{type:String,default:c.YQ},disabled:{type:Boolean,default:!1}},data(){return{tags:this.value,inputVisible:!1,inputValue:""}},computed:{isCreate(){return this.mode===c.YQ},isView(){return this.mode===c.nW},isEdit(){return this.mode===c.G5},canRemove(){return!this.isView},addVisible(){return this.canAdd&&!this.isView}},methods:{onClickPlusButton(){this.inputVisible=!0,this.$nextTick((()=>{this.$refs.addTagInput&&this.$refs.addTagInput.focus()}))},confirmAdd(){this.inputValue&&!this.value.includes(this.inputValue)&&(this.tags.push(this.inputValue),this.$emit("update:value",this.tags)),this.inputValue="",this.inputVisible=!1},onRemoveTag(e){this.tags=this.tags.filter((t=>t!==e)),this.$emit("update:value",this.tags)}}},m=(a(61051),a(47433));const v=(0,m.A)(p,[["render",d],["__scopeId","data-v-6b2f75f1"]]);var h=v},36955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("FileSelector"),c=(0,l.resolveComponent)("TextAreaAutoGrow");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{class:"btn btn-sm bg-primary mb-10",label:e.t("generic.readFromFile"),onSelected:i.onKeySelected},null,8,["label","onSelected"]),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(c,{value:e.value.value,"onUpdate:value":t[0]||(t[0]=t=>e.value.value=t),"min-height":254},null,8,["value"])])])])])}var n=a(72706),i=a(64779),d=a(57848),c={name:"HarvesterAdditionalCA",components:{FileSelector:i.A,TextAreaAutoGrow:d.V},mixins:[n.A],methods:{onKeySelected:(0,i.B)("value.value")}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},53867:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.ratio,"onUpdate:value":[t[0]||(t[0]=e=>n.ratio=e),i.update],label:e.t("harvester.setting.ratio")},null,8,["value","label","onUpdate:value"])])])}var n=a(72706),i=a(5327),d={name:"AdditionalGuestMemoryOverheadRatio",components:{LabeledInput:i.o},mixins:[n.A],data(){return{ratio:this.value.value||this.value.default}},methods:{update(){this.value["value"]=this.ratio},useDefault(){this["ratio"]=this.value.default,this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},32158:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("RadioGroup"),c=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.parseDefaultValue.enable,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.enable=e),i.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),n.parseDefaultValue.enable?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,value:n.parseDefaultValue.expiringInHours,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.expiringInHours=e),i.update],valueModifiers:{number:!0},class:"mb-20",min:1,max:8759,required:!0,suffix:1===n.parseDefaultValue.expiringInHours?"Hour":"Hours",label:e.t("harvester.setting.autoRotateRKE2Certs.expiringInHours"),mode:e.mode},null,8,["value","suffix","label","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0)])])}var n=a(72706),i=a(21221),d=a(63418),c={name:"HarvesterAutoRotateRKE2Certs",components:{RadioGroup:i.z,UnitInput:d.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},u=(a(50072),a(47433));const p=(0,u.A)(c,[["render",r],["__scopeId","data-v-034d9714"]]);var m=p},71526:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"col span-12"},s={class:"mb-20"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledSelect"),c=(0,l.resolveComponent)("UnitInput"),u=(0,l.resolveComponent)("Tip"),p=(0,l.resolveComponent)("LabeledInput"),m=(0,l.resolveComponent)("Password"),v=(0,l.resolveComponent)("MessageLink");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",onInput:t[8]||(t[8]=(...e)=>i.update&&i.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(d,{value:n.parseDefaultValue.type,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.type=e),i.update],class:"mb-20",label:e.t("harvester.fields.type"),options:i.typeOption},null,8,["value","label","options","onUpdate:value"]),i.refreshIntervalInSecondEnabled?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,value:n.parseDefaultValue.refreshIntervalInSeconds,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.refreshIntervalInSeconds=e),i.update],suffix:n.parseDefaultValue.refreshIntervalInSeconds<=1?"Second":"Seconds",label:e.t("harvester.backup.refreshInterval.label"),mode:e.mode,positive:!0,class:"mb-5",required:""},null,8,["value","suffix","label","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0),i.refreshIntervalInSecondEnabled?((0,l.openBlock)(),(0,l.createBlock)(u,{key:1,class:"mb-20",icon:"icon icon-info",text:e.t("harvester.backup.refreshInterval.tip")},null,8,["text"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(p,{value:n.parseDefaultValue.endpoint,"onUpdate:value":t[2]||(t[2]=e=>n.parseDefaultValue.endpoint=e),class:"mb-5",placeholder:i.endpointPlaceholder,mode:e.mode,label:"Endpoint"},null,8,["value","placeholder","mode"]),(0,l.createVNode)(u,{class:"mb-20",icon:"icon icon-info",text:e.t("harvester.backup.backupTargetTip")},null,8,["text"]),i.isS3?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[(0,l.createVNode)(p,{value:n.parseDefaultValue.bucketName,"onUpdate:value":t[3]||(t[3]=e=>n.parseDefaultValue.bucketName=e),class:"mb-20",mode:e.mode,label:"Bucket Name",required:""},null,8,["value","mode"]),(0,l.createVNode)(p,{value:n.parseDefaultValue.bucketRegion,"onUpdate:value":t[4]||(t[4]=e=>n.parseDefaultValue.bucketRegion=e),class:"mb-20",mode:e.mode,label:"Bucket Region",required:""},null,8,["value","mode"]),(0,l.createVNode)(p,{value:n.parseDefaultValue.accessKeyId,"onUpdate:value":t[5]||(t[5]=e=>n.parseDefaultValue.accessKeyId=e),placeholder:e.t("harvester.setting.placeholder.accessKeyId"),class:"mb-20",mode:e.mode,label:"Access Key ID",required:""},null,8,["value","placeholder","mode"]),(0,l.createVNode)(m,{value:n.parseDefaultValue.secretAccessKey,"onUpdate:value":t[6]||(t[6]=e=>n.parseDefaultValue.secretAccessKey=e),class:"mb-20",mode:e.mode,placeholder:e.t("harvester.setting.placeholder.secretAccessKey"),label:"Secret Access Key",required:""},null,8,["value","mode","placeholder"]),(0,l.createVNode)(d,{value:n.parseDefaultValue.virtualHostedStyle,"onUpdate:value":[t[7]||(t[7]=e=>n.parseDefaultValue.virtualHostedStyle=e),i.update],class:"mb-20",label:"Virtual Hosted-Style",options:i.virtualHostedStyleOptions},null,8,["value","options","onUpdate:value"]),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{icon:"icon icon-info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{to:i.toCA,target:"_blank","prefix-label":"harvester.setting.message.ca.prefix","middle-label":"harvester.setting.message.ca.middle","suffix-label":"harvester.setting.message.ca.suffix"},null,8,["to"])])),_:1})])],64)):(0,l.createCommentVNode)("",!0)])],32)}var n=a(92064),i=a(66888),d=a(37752),c=a(72706),u=a(5327),p=a(77562),m=a(50889),v=a(63418);const h="s3";var b={name:"HarvesterEditBackupTarget",components:{LabeledInput:u.o,LabeledSelect:p.A,Tip:n.A,Password:i.A,MessageLink:d.A,UnitInput:v.A},mixins:[c.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={type:"",endpoint:"",refreshIntervalInSeconds:0}}return e.type||(e.type=h),e.virtualHostedStyle=!1,{parseDefaultValue:e,errors:[]}},computed:{typeOption(){return[{value:"nfs",label:"NFS"},{value:h,label:"S3"}]},virtualHostedStyleOptions(){return[{value:!0,label:"True"},{value:!1,label:"False"}]},refreshIntervalInSecondEnabled(){return this.$store.getters["harvester-common/getFeatureEnabled"]("refreshIntervalInSecond")},isS3(){return this.parseDefaultValue.type===h},endpointPlaceholder(){return this.isS3?"":"nfs://server:/path/"},toCA(){return`${m.EP.ADDITIONAL_CA}?mode=edit`}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={type:"",endpoint:"",refreshIntervalInSeconds:0}}this["parseDefaultValue"]=t,this.update()},deep:!0}},created(){this.update()},methods:{update(){this.isS3||(delete this.parseDefaultValue.accessKeyId,delete this.parseDefaultValue.secretAccessKey,delete this.parseDefaultValue.bucketName,delete this.parseDefaultValue.bucketRegion,delete this.parseDefaultValue.virtualHostedStyle,delete this.parseDefaultValue.cert),this.isS3&&!this.parseDefaultValue.virtualHostedStyle&&(this.parseDefaultValue.virtualHostedStyle=!1),this.parseDefaultValue.type?this.value["value"]=JSON.stringify(this.parseDefaultValue):delete this.value["value"]},useDefault(){this["parseDefaultValue"]={type:"",endpoint:"",refreshIntervalInSeconds:0}}}},g=(a(10205),a(47433));const f=(0,g.A)(b,[["render",r],["__scopeId","data-v-4b7055bd"]]);var y=f},90955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o=["onClick"],s={class:"row mb-20"},r={class:"col span-12"},n={class:"mb-20"},i={class:"row mb-20"},d=["onClick"],c={class:"row mb-20"},u={class:"col span-12"},p={class:"col span-12"},m={class:"row mb-20"},v={class:"col span-6"},h={class:"col span-6"},b={class:"row mb-20"},g={class:"col span-6"},f={class:"col span-6"},y={class:"row"};function k(e,t,a,k,N,V){const E=(0,l.resolveComponent)("LabeledInput"),w=(0,l.resolveComponent)("LabeledSelect"),C=(0,l.resolveComponent)("KeyValue"),S=(0,l.resolveComponent)("InfoBox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.mirrors")),1),(0,l.createElementVNode)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.mirrors,((d,c)=>((0,l.openBlock)(),(0,l.createBlock)(S,{key:d.idx,class:"box"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>V.remove("mirrors",c)},t[2]||(t[2]=[(0,l.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1)]),8,o),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(E,{value:d.key,"onUpdate:value":[e=>d.key=e,V.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.registryName",onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","mode","onKeydown"])])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(w,{value:d.value.Endpoints,"onUpdate:value":[e=>d.value.Endpoints=e,V.update],mode:a.mode,required:"","label-key":"harvester.setting.containerdRegistry.mirrors.endpoints",multiple:!0,taggable:!0,searchable:!0,options:[],onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","mode","onKeydown"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(C,{value:d.value.Rewrites,"onUpdate:value":[e=>d.value.Rewrites=e,V.update],"add-label":e.t("harvester.setting.containerdRegistry.mirrors.rewrite.addRewrite"),mode:a.mode,title:e.t("harvester.setting.containerdRegistry.mirrors.rewrite.rewrite"),"read-allowed":!1,"value-can-be-empty":!0,onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","add-label","mode","title","onKeydown"])])])),_:2},1024)))),128))]),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[0]||(t[0]=(0,l.withModifiers)(((...e)=>V.addMirror&&V.addMirror(...e)),["self"]))},(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.mirrors.addMirror")),1),t[4]||(t[4]=(0,l.createElementVNode)("hr",{class:"divider mt-20 mb-20"},null,-1)),(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.configs")),1),(0,l.createElementVNode)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.configs,((o,s)=>((0,l.openBlock)(),(0,l.createBlock)(S,{key:o.idx,class:"box"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"role-link btn btn-sm remove",onClick:e=>V.remove("configs",s)},t[3]||(t[3]=[(0,l.createElementVNode)("i",{class:"icon icon-2x icon-x"},null,-1)]),8,d),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(E,{value:o.key,"onUpdate:value":[e=>o.key=e,V.update],mode:a.mode,placeholder:e.t("harvester.setting.containerdRegistry.configs.registryPlaceholder"),"label-key":"harvester.setting.containerdRegistry.configs.registryEDQNorIP"},null,8,["value","onUpdate:value","mode","placeholder"])])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(E,{value:o.value.Auth.Username,"onUpdate:value":[e=>o.value.Auth.Username=e,V.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.username"},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(E,{value:o.value.Auth.Password,"onUpdate:value":[e=>o.value.Auth.Password=e,V.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.password"},null,8,["value","onUpdate:value","mode"])])]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",g,[(0,l.createVNode)(E,{value:o.value.Auth.Auth,"onUpdate:value":[e=>o.value.Auth.Auth=e,V.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.auth"},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",f,[(0,l.createVNode)(E,{value:o.value.Auth.IdentityToken,"onUpdate:value":[e=>o.value.Auth.IdentityToken=e,V.update],mode:a.mode,type:"multiline","min-height":150,"label-key":"harvester.setting.containerdRegistry.configs.identityToken"},null,8,["value","onUpdate:value","mode"])])]),(0,l.createElementVNode)("div",y,[(0,l.createVNode)(w,{value:o.value.TLS.InsecureSkipVerify,"onUpdate:value":[e=>o.value.TLS.InsecureSkipVerify=e,V.update],mode:a.mode,"label-key":"harvester.setting.containerdRegistry.configs.insecureSkipVerify",options:V.insecureSkipVerifyOption},null,8,["value","onUpdate:value","mode","options"])])])),_:2},1024)))),128)),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",onClick:t[1]||(t[1]=(...e)=>V.addConfig&&V.addConfig(...e))},(0,l.toDisplayString)(e.t("harvester.setting.containerdRegistry.configs.addConfig")),1)])])}var N=a(5327),V=a(71779),E=a(41594),w=a(77562),C=a(85905),S=a(58536),B=a(92590),x={name:"HarvesterContainerdRegistry",components:{InfoBox:S.A,KeyValue:C.A,LabeledInput:N.o,LabeledSelect:w.A},props:{mode:{type:String,default:V.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){const e={Endpoints:[],Rewrites:{}},t={Auth:{Username:"",Password:"",Auth:"",IdentityToken:""},TLS:{InsecureSkipVerify:!1}};let a={};const l={Mirrors:{"":(0,B.o8)(e)},Configs:{}};try{a=JSON.parse(this.value.value)}catch(c){a=l}Object.keys(a).length||(a=l);const o=a.Mirrors||{},s=a.Configs||{},r=Object.keys(o),n=Object.keys(s),i=r.map((e=>({key:e,value:a.Mirrors[e],idx:(0,E.vx)(5).toLowerCase()}))),d=n.map((e=>(a.Configs[e]?.Auth||(a.Configs[e].Auth=t.Auth),{key:e,value:a.Configs[e],idx:(0,E.vx)(5).toLowerCase()})));return{mirrors:i,configs:d,originMirror:e,originConfig:t,mirrorsKeys:r,configsKeys:n,errors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{insecureSkipVerifyOption(){return[{label:"True",value:!0},{label:"False",value:!1}]}},methods:{willSave(){const e=[];if(this.value.value)try{JSON.parse(this.value.value),this.mirrors.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.registryName")},!0)),0===t.value.Endpoints.length&&e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.mirrors.endpoints")},!0))})),this.configs.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.containerdRegistry.configs.registryEDQNorIP")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},update(){const e={},t={};this.mirrors.forEach((t=>{e[t.key]=t.value})),this.configs.forEach((e=>{t[e.key]=e.value}));const a={Mirrors:e,Configs:t};Object.keys(e).length||delete a.Mirrors,Object.keys(t).length||delete a.Configs;const l=Object.keys(a).length?JSON.stringify(a):"";this.value["value"]=l},addMirror(){this.mirrors.push({key:"",value:(0,B.o8)(this.originMirror),idx:(0,E.vx)(5).toLowerCase()}),this.update()},addConfig(){this.configs.push({key:"",value:(0,B.o8)(this.originConfig),idx:(0,E.vx)(5).toLowerCase()}),this.update()},remove(e,t){this[e].splice(t,1),this.update()}},watch:{value:{handler(e){e.value||(this["mirrors"]=[],this["configs"]=[],this.update())},deep:!0}}},A=(a(88789),a(47433));const _=(0,A.A)(x,[["render",k],["__scopeId","data-v-d281fc5e"]]);var D=_},65241:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(9274);const o=["disabled","onClick"],s={class:"row"},r={class:"col span-4"},n={class:"col span-4"},i={class:"col span-4"},d=["disabled"];function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("InfoBox");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(u.configArr,((d,c)=>((0,l.openBlock)(),(0,l.createBlock)(v,{key:c,class:"box"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{disabled:p.disableEdit(d.key),type:"button",class:"role-link btn btn-sm remove",onClick:e=>p.remove(c)},t[1]||(t[1]=[(0,l.createElementVNode)("i",{class:"icon icon-x"},null,-1)]),8,o),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:d.key,"onUpdate:value":[e=>d.key=e,p.update],mode:a.mode,required:"",disabled:p.disableEdit(d.key),"label-key":"harvester.setting.csiDriverConfig.provisioner",searchable:!0,options:p.provisioners,onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","mode","disabled","options","onKeydown"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(m,{value:d.value.volumeSnapshotClassName,"onUpdate:value":[e=>d.value.volumeSnapshotClassName=e,p.update],mode:a.mode,required:"",disabled:p.disableEdit(d.key),options:p.getVolumeSnapshotOptions(d.key),label:e.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName"),onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","mode","disabled","options","label","onKeydown"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(m,{value:d.value.backupVolumeSnapshotClassName,"onUpdate:value":[e=>d.value.backupVolumeSnapshotClassName=e,p.update],mode:a.mode,disabled:p.isBackupVolumeSnapshotClassNameDisabled(d.key),options:p.getVolumeSnapshotOptions(d.key),required:p.isBackupVolumeSnapshotRequired(d.key),label:e.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName"),onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","onUpdate:value","mode","disabled","options","required","label","onKeydown"])])])])),_:2},1024)))),128)),(0,l.createElementVNode)("button",{class:"btn btn-sm role-primary",disabled:p.disableAdd,onClick:t[0]||(t[0]=(0,l.withModifiers)(((...e)=>p.add&&p.add(...e)),["self"]))},(0,l.toDisplayString)(e.t("generic.add")),9,d)])}var u=a(71779),p=a(77562),m=a(58536),v=a(63557),h=a(32766),b=a(20665),g={name:"HarvesterCsiDriver",components:{InfoBox:m.A,LabeledSelect:p.A},props:{mode:{type:String,default:u.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:h.Zq}),volumeSnapshotClass:this.$store.dispatch(`${e}/findAll`,{type:h.nE})};await(0,v.kR)(t)},data(){const e=this.value.value||this.value.default,t=this.parseValue(e);return{configArr:t}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{provisioners(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](h.Zq)||[];return t.filter((e=>!this.configArr.map((e=>e.key)).includes(e.name))).map((e=>e.name))},disableAdd(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](h.Zq)||[];return this.configArr.length>=t.length},allowEmptySnapshotClassNameFeatureEnabled(){return this.$store.getters["harvester-common/getFeatureEnabled"]("allowEmptySnapshotClassName")}},methods:{getVolumeSnapshotOptions(e){const t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](h.nE)||[];return a.filter((t=>t.driver===e)).map((e=>({label:e.name,value:e.name})))},parseValue(e){const t=[];let a={};try{a=JSON.parse(e)}catch(l){new Error("json error")}for(const[o,s]of Object.entries(a))t.push({key:o,value:s});return t},update(){const e={};this.configArr.map((t=>{e[t.key]=t.value}));const t=this.configArr.length?JSON.stringify(e):"";this.value["value"]=t},willSave(){this.update();const e=[];try{this.configArr.forEach((t=>{t.key||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.provisioner")},!0)),t.value.volumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.volumeSnapshotClassName")},!0)),this.allowEmptySnapshotClassNameFeatureEnabled||t.value.backupVolumeSnapshotClassName||e.push(this.t("validation.required",{key:this.t("harvester.setting.csiDriverConfig.backupVolumeSnapshotClassName")},!0))}))}catch(t){}return e.length>0?Promise.reject(e):Promise.resolve()},remove(e){this.configArr.splice(e,1)},isBackupVolumeSnapshotRequired(e){return e===b.lI},disableEdit(e){return e===b.lI},isBackupVolumeSnapshotClassNameDisabled(e){return e===b.lI||this.allowEmptySnapshotClassNameFeatureEnabled},add(){this.configArr.push({key:"",value:{volumeSnapshotClassName:"",backupVolumeSnapshotClassName:""}})},useDefault(){const e=this.parseValue(this.value.default);this["configArr"]=e,this.update()}}},f=(a(31660),a(47433));const y=(0,f.A)(g,[["render",c],["__scopeId","data-v-a4b4739a"]]);var k=y},59392:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.terminationGracePeriodSeconds,"onUpdate:value":[t[0]||(t[0]=e=>n.terminationGracePeriodSeconds=e),i.update],valueModifiers:{number:!0},suffix:1===n.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode},null,8,["value","suffix","label","mode","onUpdate:value"])])])}var n=a(72706),i=a(63418),d={name:"DefaultVMTerminationGracePeriodSeconds",components:{UnitInput:i.A},mixins:[n.A],data(){return{terminationGracePeriodSeconds:this.value.value||this.value.default}},methods:{update(){this.value["value"]=String(this.terminationGracePeriodSeconds)},useDefault(){this["terminationGracePeriodSeconds"]=Number(this.value.default),this.update()}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},18093:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("t"),d=(0,l.resolveComponent)("Banner"),c=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(d,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{k:"harvester.setting.httpProxy.warning",raw:!0})])),_:1}),(0,l.createElementVNode)("div",{class:"row","onUpdate:value":t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(c,{value:r.parseDefaultValue.httpProxy,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.httpProxy=e),class:"mb-20",mode:e.mode,label:"http-proxy"},null,8,["value","mode"]),(0,l.createVNode)(c,{value:r.parseDefaultValue.httpsProxy,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.httpsProxy=e),class:"mb-20",mode:e.mode,label:"https-proxy"},null,8,["value","mode"]),(0,l.createVNode)(c,{value:r.parseDefaultValue.noProxy,"onUpdate:value":t[2]||(t[2]=e=>r.parseDefaultValue.noProxy=e),class:"mb-20",mode:e.mode,label:"no-proxy"},null,8,["value","mode"])])],32)])}var r=a(72706),n=a(89121),i=a(5327),d={name:"HarvesterHttpProxy",components:{Banner:n.l,LabeledInput:i.o},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},28436:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.parseDefaultValue.ntpServers,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.ntpServers=e),i.update],title:e.t("harvester.host.ntp.label"),protip:e.t("harvester.host.ntp.tips"),"value-placeholder":e.t("harvester.host.ntp.placeholder"),mode:e.mode},null,8,["value","title","protip","value-placeholder","mode","onUpdate:value"])])])}var n=a(72706),i=a(61520),d={name:"HarvesterNtpServersConfig",components:{ArrayList:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e={ntpServers:[]}}return{parseDefaultValue:e}},watch:{value:{handler(e){let t;try{t=JSON.parse(e.value)}catch(a){t={ntpServers:[]}}this["parseDefaultValue"]=t,this.update()},deep:!0}},methods:{useDefault(){const e={ntpServers:[]};this["parseDefaultValue"]=e},update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},70726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.parseDefaultValue.cpu,"onUpdate:value":[t[0]||(t[0]=e=>n.parseDefaultValue.cpu=e),i.update],"label-key":"harvester.generic.cpu",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),(0,l.createVNode)(d,{value:n.parseDefaultValue.memory,"onUpdate:value":[t[1]||(t[1]=e=>n.parseDefaultValue.memory=e),i.update],"label-key":"harvester.generic.memory",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"]),(0,l.createVNode)(d,{value:n.parseDefaultValue.storage,"onUpdate:value":[t[2]||(t[2]=e=>n.parseDefaultValue.storage=e),i.update],"label-key":"harvester.generic.storage",suffix:"%",delay:0,required:"",mode:e.mode,class:"mb-20"},null,8,["value","mode","onUpdate:value"])])])}var n=a(72706),i=a(63418),d={name:"HarvesterOvercommitConfig",components:{UnitInput:i.A},mixins:[n.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,errors:[]}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",r]]);var p=u},54122:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-12"},r={class:"mb-10"},n={class:"chooseFile"},i={class:"row mb-20"},d={class:"col span-12"},c={class:"mb-10"},u={class:"chooseFile"},p={class:"row mb-20"},m={class:"col span-12"},v={class:"mb-10"},h={class:"chooseFile"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("FileSelector");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.publicCertificate")),1),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[0]||(t[0]=e=>f.onKeySelectedCa("publicCertificate",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.publicCertificateFileName})},(0,l.toDisplayString)(g.publicCertificateFileName?g.publicCertificateFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.privateKey")),1),(0,l.createElementVNode)("div",u,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[1]||(t[1]=e=>f.onKeySelectedCa("privateKey",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.privateKeyFileName})},(0,l.toDisplayString)(g.privateKeyFileName?g.privateKeyFileName:e.t("harvester.generic.noFileChosen")),3)])])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,(0,l.toDisplayString)(e.t("harvester.setting.sslCertificates.ca")),1),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(y,{"include-file-name":!0,class:"btn btn-sm bg-primary mr-20",label:"Choose File",onSelected:t[2]||(t[2]=e=>f.onKeySelectedCa("ca",e))}),(0,l.createElementVNode)("span",{class:(0,l.normalizeClass)({"text-muted":!g.caFileName})},(0,l.toDisplayString)(g.caFileName?g.caFileName:e.t("harvester.generic.noFileChosen")),3)])])])])}var g=a(72706),f=a(64779),y={name:"HarvesterSSLCertificates",components:{FileSelector:f.A},mixins:[g.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e,caFileName:"",publicCertificateFileName:"",privateKeyFileName:""}},methods:{onKeySelectedCa(e,t){const{name:a,value:l}=t;this.parseDefaultValue[e]=l,this[`${e}FileName`]=a;const o=JSON.stringify(this.parseDefaultValue);this.value["value"]=o}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},k=(a(92427),a(47433));const N=(0,k.A)(y,[["render",b],["__scopeId","data-v-27a09764"]]);var V=N},13515:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var l=a(9274);const o={class:"row mt-10"},s={class:"col span-12"},r={class:"row mt-20"},n={class:"col span-12"};function i(e,t,a,i,d,c){const u=(0,l.resolveComponent)("LabeledSelect"),p=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{value:d.parsedDefaultValue.protocols,"onUpdate:value":[t[0]||(t[0]=e=>d.parsedDefaultValue.protocols=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.protocols.label",multiple:!0,options:c.protocolOptions},null,8,["value","mode","options","onUpdate:value"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(p,{value:d.parsedDefaultValue.ciphers,"onUpdate:value":[t[1]||(t[1]=e=>d.parsedDefaultValue.ciphers=e),c.update],mode:a.mode,"label-key":"harvester.sslParameters.ciphers.label"},null,8,["value","mode","onUpdate:value"])])])])}var d=a(5327),c=a(71779),u=a(77562),p={name:"HarvesterSslParameters",components:{LabeledInput:d.o,LabeledSelect:u.A},props:{mode:{type:String,default:c.G5},value:{type:Object,default:()=>({})},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(a){e=JSON.parse(this.value.default)}const t=e.protocols&&(e.protocols||"").split(" ");return{parsedDefaultValue:{protocols:t,ciphers:e.ciphers}}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{protocolOptions(){return[{label:"TLSv1.3",value:"TLSv1.3"},{label:"TLSv1.2",value:"TLSv1.2"},{label:`TLSv1.1 (${this.t("generic.deprecated")})`,value:"TLSv1.1"},{label:`TLSv1 (${this.t("generic.deprecated")})`,value:"TLSv1"},{label:`SSLv3 (${this.t("generic.deprecated")})`,value:"SSLv3"},{label:`SSLv2 (${this.t("generic.deprecated")})`,value:"SSLv2"}]}},methods:{update(){const e={protocols:(this.parsedDefaultValue.protocols||[]).join(" "),ciphers:this.parsedDefaultValue.ciphers},t=JSON.stringify(e);this.value["value"]=t},willSave(){const e=[],t=this.parsedDefaultValue.ciphers,a=this.parsedDefaultValue.protocols||[];t&&0===a.length&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.protocols.label")},!0)),!t&&a.length>0&&e.push(this.t("validation.required",{key:this.t("harvester.sslParameters.ciphers.label")},!0));const l=/^(:?[A-Z0-9]+(?:-[A-Z0-9]+)+)+$/gm;return!t||t.match(l)&&!t.startsWith(":")||e.push(this.t("validation.invalid",{key:this.t("harvester.sslParameters.ciphers.label")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{"value.value":{handler(e){e===this.value.default&&(this.parsedDefaultValue.protocols=[],this.parsedDefaultValue.ciphers="")},deep:!0}}},m=a(47433);const v=(0,m.A)(p,[["render",i]]);var h=v},68244:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={key:0},s={class:"box"},r={class:"key"},n={class:"key"},i=["onUpdate:modelValue","placeholder"];function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("t"),m=(0,l.resolveComponent)("Banner"),v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("Tip"),f=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(a.mode),"onUpdate:value":t[7]||(t[7]=(...e)=>u.update&&u.update(...e))},[(0,l.createVNode)(m,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{k:"harvester.setting.storageNetwork.warning",raw:!0})])),_:1}),(0,l.createVNode)(v,{value:c.openVlan,"onUpdate:value":[t[0]||(t[0]=e=>c.openVlan=e),u.update],class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","labels","onUpdate:value"]),c.openVlan?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(h,{value:c.networkType,"onUpdate:value":t[1]||(t[1]=e=>c.networkType=e),class:"mb-20",options:u.networkTypes,mode:a.mode,label:e.t("harvester.fields.type"),required:""},null,8,["value","options","mode","label"]),u.showVlan?((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:c.parsedDefaultValue.vlan,"onUpdate:value":[t[2]||(t[2]=e=>c.parsedDefaultValue.vlan=e),u.inputVlan],valueModifiers:{number:!0},type:"number",class:"mb-20",mode:a.mode,required:"",placeholder:"e.g. 1 - 4094","label-key":"harvester.setting.storageNetwork.vlan"},null,8,["value","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(h,{value:c.parsedDefaultValue.clusterNetwork,"onUpdate:value":[t[3]||(t[3]=e=>c.parsedDefaultValue.clusterNetwork=e),u.update],"label-key":"harvester.setting.storageNetwork.clusterNetwork",class:"mb-20",required:"",options:u.clusterNetworkOptions},null,8,["value","options","onUpdate:value"]),(0,l.createVNode)(b,{value:c.parsedDefaultValue.range,"onUpdate:value":t[4]||(t[4]=e=>c.parsedDefaultValue.range=e),class:"mb-5",mode:a.mode,required:"",placeholder:e.t("harvester.setting.storageNetwork.range.placeholder"),"label-key":"harvester.setting.storageNetwork.range.label"},null,8,["value","mode","placeholder"]),(0,l.createVNode)(g,{class:"mb-20",icon:"icon icon-info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{k:"harvester.setting.storageNetwork.tip",raw:!0,url:u.storageNetworkExampleLink},null,8,["url"])])),_:1}),(0,l.createVNode)(f,{value:c.exclude,"onUpdate:value":[t[6]||(t[6]=e=>c.exclude=e),u.update],"show-header":!0,"default-add-value":c.defaultAddValue,mode:a.mode,"add-label":e.t("harvester.setting.storageNetwork.exclude.addIp")},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,(0,l.toDisplayString)(e.t("harvester.setting.storageNetwork.exclude.label")),1)])])),columns:(0,l.withCtx)((a=>[(0,l.createElementVNode)("div",n,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":e=>a.row.value=e,placeholder:e.t("harvester.setting.storageNetwork.exclude.placeholder"),"onUpdate:value":t[5]||(t[5]=(...e)=>u.update&&u.update(...e))},null,40,i),[[l.vModelText,a.row.value]])])])),_:1},8,["value","default-add-value","mode","add-label","onUpdate:value"])])):(0,l.createCommentVNode)("",!0)],34)}var c=a(5327),u=a(77562),p=a(21221),m=a(61520);const v=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\/(3[0-2]|2[0-9]|1[0-9]|[0-9])$/;function h(e){return!!e.match(v)}var b=a(71779),g=a(89121),f=a(92064),y=a(63557),k=a(20665),N=a(32766),V=a(66242),E=a(3791),w=a(41837);const{L2VLAN:C,UNTAGGED:S}=w.AW;var B={name:"HarvesterEditStorageNetwork",components:{ArrayList:m.A,Tip:f.A,Banner:g.l,LabeledInput:c.o,LabeledSelect:u.A,RadioGroup:p.z},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:b.G5},value:{type:Object,default:()=>({})}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,y.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:N.rk.CLUSTER_NETWORK}),vlanStatus:this.$store.dispatch(`${e}/findAll`,{type:N.rk.VLAN_STATUS}),nodes:this.$store.dispatch(`${e}/findAll`,{type:k.NW})})},data(){let e={},t=!1,a=C;try{e=JSON.parse(this.value.value),a="vlan"in e?C:S,t=!0}catch(o){a=C,e={vlan:"",clusterNetwork:"",range:"",exclude:[]}}const l=e?.exclude?.toString().split(",")||[];return{openVlan:t,networkType:a,errors:[],exclude:l,parsedDefaultValue:e,defaultAddValue:""}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{showVlan(){return this.networkType===C},networkTypes(){const e=[C];return this.untaggedNetworkSettingEnabled&&e.push(S),e},storageNetworkExampleLink(){const e=this.$store.getters["harvester-common/getServerVersion"]();return(0,E.nn)(V.d.STORAGE_NETWORK_EXAMPLE,e)},untaggedNetworkSettingEnabled(){return this.$store.getters["harvester-common/getFeatureEnabled"]("untaggedNetworkSetting")},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.rk.CLUSTER_NETWORK)||[],a=this.networkType===S?t.filter((e=>"mgmt"!==e.id)):t;return a.map((e=>{const t=!e.isReadyForStorageNetwork;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))}},watch:{networkType:{handler(e){this.parsedDefaultValue.clusterNetwork="",e===C?this.parsedDefaultValue.vlan="":delete this.parsedDefaultValue.vlan},deep:!0}},methods:{inputVlan(e){if(""===e)return void(this.parsedDefaultValue.vlan="");const t=Number(e);this.parsedDefaultValue.vlan=t>4094?4094:t<1?1:t},useDefault(){this.openVlan=!1,this.networkType=C,this.parsedDefaultValue={vlan:"",clusterNetwork:"",range:"",exclude:[]}},update(){const e=this.exclude.filter((e=>e));Array.isArray(e)&&e.length>0?this.parsedDefaultValue.exclude=e:delete this.parsedDefaultValue.exclude;const t=JSON.stringify(this.parsedDefaultValue);this.openVlan?this.value["value"]=t:this.value["value"]=""},willSave(){this.update();const e=[];if(!this.openVlan)return Promise.resolve();{const t=!!/^(?:(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(?:[0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\/([1-9]|[1-2]\d|3[0-2])$/.test(this.parsedDefaultValue.range);if(t||e.push(this.t("harvester.setting.storageNetwork.range.invalid",null,!0)),this.networkType!==C||this.parsedDefaultValue.vlan||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.vlan")},!0)),this.parsedDefaultValue.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.setting.storageNetwork.clusterNetwork")},!0)),this.exclude){const t=this.exclude.find((e=>!h(e)));t&&e.push(this.t("harvester.setting.storageNetwork.exclude.invalid",null,!0))}}return e.length>0?Promise.reject(e):Promise.resolve()}}},x=a(47433);const A=(0,x.A)(B,[["render",d]]);var _=A},48749:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("LabeledInput"),d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",onInput:t[3]||(t[3]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(i,{value:r.parseDefaultValue.repository,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.repository=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.repo"},null,8,["value","mode"]),(0,l.createVNode)(i,{value:r.parseDefaultValue.tag,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.tag=e),class:"mb-20",mode:a.mode,required:"","label-key":"harvester.setting.supportBundleImage.tag"},null,8,["value","mode"]),(0,l.createVNode)(d,{value:r.parseDefaultValue.imagePullPolicy,"onUpdate:value":[t[2]||(t[2]=e=>r.parseDefaultValue.imagePullPolicy=e),n.update],class:"mb-20",required:"","label-key":"harvester.setting.supportBundleImage.imagePullPolicy",options:n.imagePolicyOptions},null,8,["value","options","onUpdate:value"])])],32)}var r=a(71779),n=a(5327),i=a(77562),d={name:"HarvesterSupportBundleImage",components:{LabeledInput:n.o,LabeledSelect:i.A},props:{registerBeforeHook:{type:Function,required:!0},mode:{type:String,default:r.G5},value:{type:Object,default:()=>({})}},data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update(),this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},computed:{imagePolicyOptions(){return[{label:this.t("generic.imagePullPolicy.always"),value:"Always"},{label:this.t("generic.imagePullPolicy.ifNotPresent"),value:"IfNotPresent"},{label:this.t("generic.imagePullPolicy.never"),value:"Never"}]}},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e},willSave(){const e=[];return this.parseDefaultValue.repository||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.repo")},!0)),this.parseDefaultValue.tag||e.push(this.t("validation.required",{key:this.t("harvester.setting.supportBundleImage.tag")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=a(47433);const u=(0,c.A)(d,[["render",s]]);var p=u},30859:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"row"},s={class:"col span-12"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("LabeledSelect");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(d,{value:n.namespaces,"onUpdate:value":[t[0]||(t[0]=e=>n.namespaces=e),i.update],multiple:!0,"label-key":"nameNsDescription.namespace.label",mode:e.mode,options:i.namespaceOptions},null,8,["value","mode","options","onUpdate:value"])])])}var n=a(20665),i=a(72706),d=a(77562),c={name:"HarvesterBundleNamespaces",components:{LabeledSelect:d.A},mixins:[i.A],async fetch(){await this.$store.dispatch("harvester/findAll",{type:n.CU})},data(){let e=[];const t=this.value?.value||this.value?.default||"";return t&&(e=t.split(",")),{namespaces:e}},computed:{namespaceOptions(){return this.$store.getters["harvester/all"](n.CU).map((e=>({label:e.id,value:e.id})))}},methods:{update(){const e=this.namespaces.join(",");this.value["value"]=e}},watch:{"value.value":{handler(e){e!==this.value.default&&e||(this.namespaces=[])},deep:!0}}},u=a(47433);const p=(0,u.A)(c,[["render",r]]);var m=p},33955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);const o={class:"col span-12"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("RadioGroup"),d=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"row",onInput:t[2]||(t[2]=(...e)=>n.update&&n.update(...e))},[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(i,{value:r.parseDefaultValue.enable,"onUpdate:value":t[0]||(t[0]=e=>r.parseDefaultValue.enable=e),class:"mb-20",name:"model",options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],onInput:n.update},null,8,["value","labels","onInput"]),r.parseDefaultValue.enable?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,value:r.parseDefaultValue.period,"onUpdate:value":t[1]||(t[1]=e=>r.parseDefaultValue.period=e),valueModifiers:{number:!0},class:"mb-20",mode:e.mode,"label-key":"harvester.setting.vmForceDeletionPolicy.period"},null,8,["value","mode"])):(0,l.createCommentVNode)("",!0)])],32)}var r=a(72706),n=a(5327),i=a(21221),d={name:"HarvesterVMForceDeletePolicy",components:{LabeledInput:n.o,RadioGroup:i.z},mixins:[r.A],data(){let e={};try{e=JSON.parse(this.value.value)}catch(t){e=JSON.parse(this.value.default)}return{parseDefaultValue:e}},created(){this.update()},methods:{update(){const e=JSON.stringify(this.parseDefaultValue);this.value["value"]=e}},watch:{value:{handler(e){const t=JSON.parse(e.value);this["parseDefaultValue"]=t},deep:!0}}},c=(a(93612),a(47433));const u=(0,c.A)(d,[["render",s],["__scopeId","data-v-11b4ae46"]]);var p=u},80296:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(9274);const o={class:"text-default-text"},s={class:"pl-10 pr-10"},r={class:"bottom"},n={class:"buttons"};function i(e,t,a,i,d,c){const u=(0,l.resolveComponent)("Banner"),p=(0,l.resolveComponent)("AsyncButton"),m=(0,l.resolveComponent)("Card"),v=(0,l.resolveComponent)("app-modal"),h=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)(v,{class:"restart-modal",name:"restartDialog",width:600,height:"auto","click-to-close":!1,onClose:c.close},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{class:"prompt-restart","show-highlight-border":!1},{title:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("h4",o,null,512),[[h,e.t("harvester.modal.restart.title")]])])),body:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",s,null,512),[[h,e.t("harvester.modal.restart.tip")]])])),actions:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",r,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.errors,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128)),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e))},(0,l.toDisplayString)(e.t("harvester.modal.restart.cancel")),1),(0,l.createVNode)(p,{mode:"restart",onClick:c.apply},null,8,["onClick"])])])])),_:1})])),_:1},8,["onClose"])}var d=a(65359),c=a(40969),u=a(26069),p=a(89121),m=a(26953),v=a(41972),h=a(90295),b={emits:["close"],components:{AppModal:v.h,Card:u.Z,AsyncButton:c.A,Banner:p.l},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...(0,d.L8)({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(e){try{this.vm.doActionGrowl("restart",{}),e(!0),this.close()}catch(t){h.error(t),this.errors=(0,m.rz)(t),e(!1)}}}},g=(a(38917),a(47433));const f=(0,g.A)(b,[["render",i],["__scopeId","data-v-574c27ab"]]);var y=f},26370:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("generic.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(4335),r=a(94877),n=a(21221),i=a(72706),d={name:"EditGenericAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(21030),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-24a677c4"]]);var p=u},17438:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(4335),r=a(94877),n=a(21221),i=a(72706),d={name:"EditSeederAddon",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(19949),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-4b980a18"]]);var p=u},81135:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(n,{resource:a.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(r.currentComponent),{value:a.value,"register-before-hook":e.registerBeforeHook,mode:e.mode},null,8,["value","register-before-hook","mode"]))])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(72706),r=a(22065),n={name:"EditAddon",components:{CruResource:r.A},mixins:[s.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},computed:{currentComponent(){const e=this.value.metadata.name;try{return a(2467)(`./${e}.vue`).default}catch{return a(26370)["default"]}}}},i=a(47433);const d=(0,i.A)(n,[["render",o]]);var c=d},6633:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var l=a(9274);const o={key:0},s={key:0,class:"row mb-15"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-15"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("Banner"),m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[u.parsingSpecError?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,color:"error",label:e.t("harvester.addons.nvidiaDriverToolkit.parsingSpecError",null,{raw:!0})},null,8,["label"])):((0,l.openBlock)(),(0,l.createBlock)(b,{key:1,"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"basic",label:e.t("harvester.addons.nvidiaDriverToolkit.titles.basic"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{value:a.value.spec.enabled,class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")],"onUpdate:value":u.toggleEnable},null,8,["value","mode","labels","onUpdate:value"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[c.valuesContentJson.image?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(v,{value:c.valuesContentJson.image.repository,"onUpdate:value":t[0]||(t[0]=e=>c.valuesContentJson.image.repository=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.image.repository"},null,8,["value","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(v,{value:c.valuesContentJson.image.tag,"onUpdate:value":t[1]||(t[1]=e=>c.valuesContentJson.image.tag=e),mode:a.mode,required:!0,class:"col span-6","label-key":"harvester.addons.nvidiaDriverToolkit.image.tag"},null,8,["value","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:c.valuesContentJson.driverLocation,"onUpdate:value":t[2]||(t[2]=e=>c.valuesContentJson.driverLocation=e),mode:a.mode,required:!0,"label-key":"harvester.addons.nvidiaDriverToolkit.driver.location"},null,8,["value","mode"])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1}))])}var c=a(82451),u=a.n(c),p=a(20246),m=a.n(p),v=a(92590),h=a(4335),b=a(94877),g=a(21221),f=a(5327),y=a(89121),k=a(72706);const N={image:{repository:"rancher/harvester-nvidia-driver-toolkit"}};var V={name:"EditAddonNvidiaDriverToolkit",components:{Banner:y.l,LabeledInput:f.o,RadioGroup:g.z,Tabbed:h.A,Tab:b.A},mixins:[k.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{initSpec:(0,v.o8)(this.value.spec),valuesContentJson:this.parseValuesContent()}},watch:{valuesContentJson:{handler(e){this.update(e)},deep:!0}},computed:{parsingSpecError(){return this.valuesContentJson&&(void 0===this.valuesContentJson.image||void 0===this.valuesContentJson.driverLocation)}},methods:{parseValuesContent(){try{return u()({},N,m().load(this.value.spec.valuesContent))}catch(e){return this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:e.data||e},{root:!0}),N}},toggleEnable(e){this.resetSpec(),this.value.spec.enabled=e},resetSpec(){this.value.spec=(0,v.o8)(this.initSpec),this.valuesContentJson=this.parseValuesContent()},update(e){this.value.spec.valuesContent=m().dump(e)}}},E=(a(57010),a(47433));const w=(0,E.A)(V,[["render",d],["__scopeId","data-v-365beeb4"]]);var C=w},55821:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("RadioGroup"),i=(0,l.resolveComponent)("Tab"),d=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(d,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"])])),_:1})}var s=a(4335),r=a(94877),n=a(21221),i=a(72706),d={name:"EditAddonPCI",components:{Tabbed:s.A,Tab:r.A,RadioGroup:n.z},mixins:[i.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},c=(a(71318),a(47433));const u=(0,c.A)(d,[["render",o],["__scopeId","data-v-bdc3ab06"]]);var p=u},70927:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={class:"row mt-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mt-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("RadioGroup"),k=(0,l.resolveComponent)("Tab"),N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(V,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,name:"fluentbit",label:e.t("harvester.logging.configuration.section.fluentbit"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.requests.cpu,"onUpdate:value":t[1]||(t[1]=e=>g.valuesContentJson.fluentbit.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.requests.memory,"onUpdate:value":t[2]||(t[2]=e=>g.valuesContentJson.fluentbit.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.limits.cpu,"onUpdate:value":t[3]||(t[3]=e=>g.valuesContentJson.fluentbit.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentbit.resources.limits.memory,"onUpdate:value":t[4]||(t[4]=e=>g.valuesContentJson.fluentbit.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(k,{key:1,name:"fluentd",label:e.t("harvester.logging.configuration.section.fluentd"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>g.valuesContentJson.fluentd.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>g.valuesContentJson.fluentd.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>g.valuesContentJson.fluentd.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(N,{value:g.valuesContentJson.fluentd.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>g.valuesContentJson.fluentd.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1})}var g=a(82451),f=a.n(g),y=a(4335),k=a(94877),N=a(21221),V=a(5327),E=a(72706),w=a(20246),C=a.n(w);const S={fluentbit:{resources:{limits:{cpu:"200m",memory:"200Mi"},requests:{cpu:"50m",memory:"50Mi"}}},fluentd:{resources:{limits:{cpu:"1000m",memory:"800Mi"},requests:{cpu:"100m",memory:"20Mi"}}}};var B={name:"EditAddonLogging",components:{Tabbed:y.A,Tab:k.A,RadioGroup:N.z,LabeledInput:V.o},mixins:[E.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){let e=S;try{e=f()({},S,C().load(this.value.spec.valuesContent))}catch(t){e=S,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=C().dump(e)},deep:!0,immediate:!0}}},x=(a(82002),a(47433));const A=(0,x.A)(B,[["render",b],["__scopeId","data-v-4ac8f18c"]]);var _=A},59289:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ye}});var l=a(9274);const o=["disabled","href"],s={class:"subtype-content"},r={class:"title"},n={class:"subtype-logo round-image"},i={class:"row"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-10"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row mt-10"},h={class:"col span-12 mt-5"},b={class:"mb-0"},g={class:"row mt-10"},f={class:"col span-6"},y={class:"col span-6"},k={class:"row mt-10"},N={class:"col span-6"},V={class:"col span-6"},E={class:"row mt-10"},w={class:"col span-6"},C={class:"col span-6"},S={class:"row mt-10"},B={class:"col span-6"},x={class:"col span-6"},A=["disabled","href"],_={class:"subtype-content"},D={class:"title"},U={class:"subtype-logo round-image"},M={class:"row mt-10"},L={class:"col span-6"},T={class:"col span-6"},O={class:"row mt-10"},I={class:"col span-6"},R={class:"col span-6"},$=["disabled","href"],P={class:"subtype-content"},q={class:"title"},F={class:"subtype-logo round-image"},G={key:1},K={class:"row mt-10"},j={class:"col span-6"},H={class:"row mt-10"},J={class:"col span-6"},z={class:"col span-6"},Q={class:"row mt-10"},Y={class:"col span-6"},W={class:"col span-6"};function Z(e,t,a,Z,X,ee){const te=(0,l.resolveComponent)("RadioGroup"),ae=(0,l.resolveComponent)("Tab"),le=(0,l.resolveComponent)("LazyImage"),oe=(0,l.resolveComponent)("t"),se=(0,l.resolveComponent)("LabeledInput"),re=(0,l.resolveComponent)("Tabbed"),ne=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createBlock)(re,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(ae,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(te,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])),_:1},8,["label"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(ae,{key:0,name:"prometheus",label:e.t("harvester.setting.harvesterMonitoring.section.prometheus"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{disabled:!X.externalLinks.prometheus.enabled,href:X.externalLinks.prometheus.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(le,{src:X.externalLinks.prometheus.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(oe,{k:X.externalLinks.prometheus.label},null,8,["k"])])]),t[23]||(t[23]=(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))])])],8,o)),[[ne,X.externalLinks.prometheus.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.scrapeInterval,"onUpdate:value":t[1]||(t[1]=e=>X.valuesContentJson.prometheus.prometheusSpec.scrapeInterval=e),label:e.t("monitoring.prometheus.config.scrape"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.scrape"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.evaluationInterval,"onUpdate:value":t[2]||(t[2]=e=>X.valuesContentJson.prometheus.prometheusSpec.evaluationInterval=e),label:e.t("monitoring.prometheus.config.evaluation"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.evaluation"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.retention,"onUpdate:value":t[3]||(t[3]=e=>X.valuesContentJson.prometheus.prometheusSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retention"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.retentionSize,"onUpdate:value":t[4]||(t[4]=e=>X.valuesContentJson.prometheus.prometheusSpec.retentionSize=e),label:e.t("monitoring.prometheus.config.retentionSize"),tooltip:e.t("harvester.setting.harvesterMonitoring.tips.retentionSize"),required:!0,mode:a.mode},null,8,["value","label","tooltip","mode"])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("h4",b,(0,l.toDisplayString)(e.t("monitoring.prometheus.config.resourceLimits")),1)])]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu,"onUpdate:value":t[5]||(t[5]=e=>X.valuesContentJson.prometheus.prometheusSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",y,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory,"onUpdate:value":t[6]||(t[6]=e=>X.valuesContentJson.prometheus.prometheusSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("div",N,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>X.valuesContentJson.prometheus.prometheusSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",V,[(0,l.createVNode)(se,{value:X.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory,"onUpdate:value":t[8]||(t[8]=e=>X.valuesContentJson.prometheus.prometheusSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(ae,{key:1,name:"nodeExporter",label:e.t("harvester.setting.harvesterMonitoring.section.prometheusNodeExporter"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(se,{value:ee.prometheusNodeExporter.resources.limits.cpu,"onUpdate:value":t[9]||(t[9]=e=>ee.prometheusNodeExporter.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(se,{value:ee.prometheusNodeExporter.resources.limits.memory,"onUpdate:value":t[10]||(t[10]=e=>ee.prometheusNodeExporter.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(se,{value:ee.prometheusNodeExporter.resources.requests.cpu,"onUpdate:value":t[11]||(t[11]=e=>ee.prometheusNodeExporter.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",x,[(0,l.createVNode)(se,{value:ee.prometheusNodeExporter.resources.requests.memory,"onUpdate:value":t[12]||(t[12]=e=>ee.prometheusNodeExporter.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled&&X.valuesContentJson.grafana.resources?((0,l.openBlock)(),(0,l.createBlock)(ae,{key:2,name:"grafana",label:e.t("harvester.setting.harvesterMonitoring.section.grafana"),weight:-3},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{disabled:!X.externalLinks.grafana.enabled,href:X.externalLinks.grafana.link,target:"_blank",rel:"noopener nofollow",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",_,[(0,l.createElementVNode)("div",D,[(0,l.createElementVNode)("div",U,[(0,l.createVNode)(le,{src:X.externalLinks.grafana.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(oe,{k:X.externalLinks.grafana.label},null,8,["k"])])]),t[24]||(t[24]=(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))])])],8,A)),[[ne,X.externalLinks.grafana.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]),(0,l.createElementVNode)("div",M,[(0,l.createElementVNode)("div",L,[(0,l.createVNode)(se,{value:X.valuesContentJson.grafana.resources.requests.cpu,"onUpdate:value":t[13]||(t[13]=e=>X.valuesContentJson.grafana.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",T,[(0,l.createVNode)(se,{value:X.valuesContentJson.grafana.resources.requests.memory,"onUpdate:value":t[14]||(t[14]=e=>X.valuesContentJson.grafana.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",I,[(0,l.createVNode)(se,{value:X.valuesContentJson.grafana.resources.limits.cpu,"onUpdate:value":t[15]||(t[15]=e=>X.valuesContentJson.grafana.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",R,[(0,l.createVNode)(se,{value:X.valuesContentJson.grafana.resources.limits.memory,"onUpdate:value":t[16]||(t[16]=e=>X.valuesContentJson.grafana.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createBlock)(ae,{key:3,name:"alertmanager",label:e.t("harvester.setting.harvesterMonitoring.section.alertmanager"),weight:-4},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(te,{value:X.valuesContentJson.alertmanager.enabled,"onUpdate:value":t[17]||(t[17]=e=>X.valuesContentJson.alertmanager.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),X.valuesContentJson.alertmanager.enabled?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,disabled:!X.externalLinks.alertmanager.enabled,href:X.externalLinks.alertmanager.link,target:"_blank",rel:"noopener noreferrer",class:"subtype-banner m-0 mt-10 mb-10"},[(0,l.createElementVNode)("div",P,[(0,l.createElementVNode)("div",q,[(0,l.createElementVNode)("div",F,[(0,l.createVNode)(le,{src:X.externalLinks.alertmanager.iconSrc},null,8,["src"])]),(0,l.createElementVNode)("h5",null,[(0,l.createElementVNode)("span",null,[(0,l.createVNode)(oe,{k:X.externalLinks.alertmanager.label},null,8,["k"])])]),t[25]||(t[25]=(0,l.createElementVNode)("div",{class:"flex-right"},[(0,l.createElementVNode)("i",{class:"icon icon-external-link mr-10"})],-1))])])],8,$)),[[ne,X.externalLinks.alertmanager.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]):(0,l.createCommentVNode)("",!0),X.valuesContentJson.alertmanager.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",G,[(0,l.createElementVNode)("div",K,[(0,l.createElementVNode)("div",j,[(0,l.createVNode)(se,{value:X.valuesContentJson.alertmanager.alertmanagerSpec.retention,"onUpdate:value":t[18]||(t[18]=e=>X.valuesContentJson.alertmanager.alertmanagerSpec.retention=e),label:e.t("monitoring.prometheus.config.retention"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",H,[(0,l.createElementVNode)("div",J,[(0,l.createVNode)(se,{value:X.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu,"onUpdate:value":t[19]||(t[19]=e=>X.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.cpu=e),label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",z,[(0,l.createVNode)(se,{value:X.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory,"onUpdate:value":t[20]||(t[20]=e=>X.valuesContentJson.alertmanager.alertmanagerSpec.resources.limits.memory=e),label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",Q,[(0,l.createElementVNode)("div",Y,[(0,l.createVNode)(se,{value:X.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu,"onUpdate:value":t[21]||(t[21]=e=>X.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.cpu=e),label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",W,[(0,l.createVNode)(se,{value:X.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory,"onUpdate:value":t[22]||(t[22]=e=>X.valuesContentJson.alertmanager.alertmanagerSpec.resources.requests.memory=e),label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode"])])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1})}var X=a(82451),ee=a.n(X),te=a(3514),ae=a.n(te),le=a(20246),oe=a.n(le),se=a(63557),re=a(26812),ne=a(5327),ie=a(21221),de=a(49115),ce=a(4335),ue=a(94877),pe=a(72706),me=a(20665);const ve="cattle-monitoring-system",he={prometheus:{prometheusSpec:{resources:{limits:{cpu:"1000m",memory:"3000Mi"},requests:{cpu:"750m",memory:"750Mi"}},evaluationInterval:"1m",scrapeInterval:"1m",retention:"5d",retentionSize:"50GiB"}},"prometheus-node-exporter":{resources:{limits:{cpu:"200m",memory:"180Mi"},requests:{cpu:"100m",memory:"30Mi"}}},grafana:{resources:{limits:{cpu:"200m",memory:"500Mi"},requests:{cpu:"100m",memory:"200Mi"}}},alertmanager:{enabled:!1,alertmanagerSpec:{retention:"120h",resources:{limits:{cpu:"1000m",memory:"600Mi"},requests:{cpu:"100m",memory:"100Mi"}}}}};var be={name:"EditAddonMonitoring",components:{LabeledInput:ne.o,RadioGroup:ie.z,LazyImage:de.A,Tabbed:ce.A,Tab:ue.A},mixins:[pe.A],async fetch(){const{$store:e,externalLinks:t}=this;if(!e.getters["harvester/schemaFor"](me.Hr))return;const a=await(0,se.kR)({endpoints:e.dispatch("harvester/findAll",{type:me.Hr})});if(!ae()(a.endpoints)){const e=t.alertmanager,l=t.grafana,o=t.prometheus,s=(0,re.jq)(a.endpoints,"id",`${ve}/rancher-monitoring-alertmanager`),r=(0,re.jq)(a.endpoints,"id",`${ve}/rancher-monitoring-grafana`),n=(0,re.jq)(a.endpoints,"id",`${ve}/rancher-monitoring-prometheus`);ae()(s)||ae()(s.subsets)||(e.enabled=!0),ae()(r)||ae()(r.subsets)||(l.enabled=!0),ae()(n)||ae()(n.subsets)||(o.enabled=!0)}},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){const e=a(41239),t=a(46945),l=this.$store.getters["currentCluster"];let o=he;try{o=ee()({},he,oe().load(this.value.spec.valuesContent))}catch(s){o=he,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:s.data||s},{root:!0})}return{valuesContentJson:o,externalLinks:{alertmanager:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${ve}/services/http:rancher-monitoring-alertmanager:9093/proxy`},grafana:{enabled:!1,iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${ve}/services/http:rancher-monitoring-grafana:80/proxy`},prometheus:{enabled:!1,iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:`/k8s/clusters/${l.id}/api/v1/namespaces/${ve}/services/http:rancher-monitoring-prometheus:9090/proxy`}}}},computed:{prometheusNodeExporter(){return this.valuesContentJson["prometheus-node-exporter"]}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=oe().dump(e)},deep:!0,immediate:!0}}},ge=(a(18813),a(47433));const fe=(0,ge.A)(be,[["render",Z],["__scopeId","data-v-077b6bf4"]]);var ye=fe},95627:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row mb-20"},n={class:"col span-6"},i={class:"col span-6"},d={class:"row mt-20"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"])])]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(h,{value:p.valuesContentJson.hostname,"onUpdate:value":t[1]||(t[1]=e=>p.valuesContentJson.hostname=e),"label-key":"harvester.addons.rancherVcluster.hostname",required:!0,mode:a.mode,placeholder:"rancher.$vip.nip.io"},null,8,["value","mode"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{value:p.valuesContentJson.rancherVersion,"onUpdate:value":t[2]||(t[2]=e=>p.valuesContentJson.rancherVersion=e),"label-key":"harvester.addons.rancherVcluster.rancherVersion",required:!0,disabled:!0},null,8,["value"])])]),(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(h,{value:p.valuesContentJson.bootstrapPassword,"onUpdate:value":t[3]||(t[3]=e=>p.valuesContentJson.bootstrapPassword=e),"label-key":"harvester.addons.rancherVcluster.password",mode:a.mode,required:!0,type:"password"},null,8,["value","mode"])])])],64)):(0,l.createCommentVNode)("",!0)])}var p=a(82451),m=a.n(p),v=a(20246),h=a.n(v),b=a(5327),g=a(21221);const f={hostname:"",rancherVersion:"",bootstrapPassword:""};var y={name:"EditAddonVcluster",components:{LabeledInput:b.o,RadioGroup:g.z},inheritAttrs:!1,props:{value:{type:Object,required:!0},mode:{type:String,required:!0},registerBeforeHook:{type:Function,required:!0}},data(){let e={};try{e=m()({},f,h().load(this.value.spec.valuesContent))}catch(t){e=f,this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:t.data||t},{root:!0})}return{valuesContentJson:e}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave")},methods:{willSave(){const e=[];return this.value.spec.enabled?(this.valuesContentJson.hostname||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.hostname")},!0)),this.valuesContentJson.bootstrapPassword||e.push(this.t("validation.required",{key:this.t("harvester.addons.rancherVcluster.password")},!0)),e.length>0?Promise.reject(e):Promise.resolve()):Promise.resolve()}},watch:{valuesContentJson:{handler(e){this.value.spec["valuesContent"]=h().dump(e)},deep:!0,immediate:!0}}},k=(a(11221),a(47433));const N=(0,k.A)(y,[["render",u],["__scopeId","data-v-b9cb7bba"]]);var V=N},32415:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var l=a(9274);const o={key:0},s={class:"row mt-10"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={key:0},p={key:0},m={class:"row mt-10"},v={class:"col span-6"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("RadioGroup"),k=(0,l.resolveComponent)("LabeledInput"),N=(0,l.resolveComponent)("LabeledSelect"),V=(0,l.resolveComponent)("Tab"),E=(0,l.resolveComponent)("Tabbed");return(0,l.openBlock)(),(0,l.createBlock)(E,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(V,{name:"basic",label:e.t("harvester.addons.vmImport.titles.basic"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{value:a.value.spec.enabled,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.enabled=e),class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels"]),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(k,{value:g.valuesContent.resources.limits.cpu,"onUpdate:value":[t[1]||(t[1]=e=>g.valuesContent.resources.limits.cpu=e),f.update],label:e.t("monitoring.prometheus.config.limits.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:g.valuesContent.resources.limits.memory,"onUpdate:value":[t[2]||(t[2]=e=>g.valuesContent.resources.limits.memory=e),f.update],label:e.t("monitoring.prometheus.config.limits.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(k,{value:g.valuesContent.resources.requests.cpu,"onUpdate:value":[t[3]||(t[3]=e=>g.valuesContent.resources.requests.cpu=e),f.update],label:e.t("monitoring.prometheus.config.requests.cpu"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:g.valuesContent.resources.requests.memory,"onUpdate:value":[t[4]||(t[4]=e=>g.valuesContent.resources.requests.memory=e),f.update],label:e.t("monitoring.prometheus.config.requests.memory"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])])]),t[8]||(t[8]=(0,l.createElementVNode)("br",null,null,-1)),(0,l.createElementVNode)("h2",null,(0,l.toDisplayString)(e.t("harvester.addons.vmImport.titles.pvc")),1),a.value.spec.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[(0,l.createVNode)(y,{value:g.valuesContent.pvcClaim.enabled,"onUpdate:value":[t[5]||(t[5]=e=>g.valuesContent.pvcClaim.enabled=e),f.update],class:"mb-20",name:"model",mode:a.mode,options:[!0,!1],labels:[e.t("generic.enabled"),e.t("generic.disabled")]},null,8,["value","mode","labels","onUpdate:value"]),g.valuesContent.pvcClaim.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{value:g.valuesContent.pvcClaim.size,"onUpdate:value":[t[6]||(t[6]=e=>g.valuesContent.pvcClaim.size=e),f.update],label:e.t("harvester.volume.size"),required:!0,mode:a.mode},null,8,["value","label","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(N,{value:g.valuesContent.pvcClaim.storageClassName,"onUpdate:value":[t[7]||(t[7]=e=>g.valuesContent.pvcClaim.storageClassName=e),f.update],options:f.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:a.mode,class:"mb-20"},null,8,["value","options","label","mode","onUpdate:value"])])])])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1})}var g=a(82451),f=a.n(g),y=a(20246),k=a.n(y),N=a(5327),V=a(4335),E=a(94877),w=a(21221),C=a(77562),S=a(72706),B=a(20665),x=a(63557);const A={resources:{requests:{cpu:"0.5",memory:"2Gi"},limits:{cpu:"2",memory:"4Gi"}},pvcClaim:{enabled:!1,size:"200Gi",storageClassName:""}};var _={name:"EditHarvesterLogging",components:{LabeledInput:N.o,Tabbed:V.A,Tab:E.A,RadioGroup:w.z,LabeledSelect:C.A},mixins:[S.A],props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:B.fJ})};await(0,x.kR)(t)},data(){const e=this.parseValuesContent();return{valuesContent:e}},computed:{storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](B.fJ),a=t.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a}},methods:{parseValuesContent(){try{return f()({},A,k().load(this.value.spec.valuesContent))}catch(e){return this.$store.dispatch("growl/fromError",{title:this.$store.getters["i18n/t"]("generic.notification.title.error"),err:e.data||e},{root:!0}),A}},update(){this.value.spec.valuesContent=k().dump(this.valuesContent)},setDefaultClassName(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](B.fJ).find((e=>e.isDefault));this.valuesContent.pvcClaim["storageClassName"]=this.valuesContent?.pvcClaim?.storageClassName||t?.metadata?.name||"longhorn",this.update()}},watch:{"valuesContent.pvcClaim.enabled"(e){e&&this.setDefaultClassName()}}},D=(a(27639),a(47433));const U=(0,D.A)(_,[["render",b],["__scopeId","data-v-7d4cbfa3"]]);var M=U},85019:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"mb-20"},s={class:"resource-yaml"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("YamlEditor"),p=(0,l.resolveComponent)("Tab"),m=(0,l.resolveComponent)("Tabbed"),v=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(v,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!0,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(m,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{name:"basics",label:e.t("harvester.host.tabs.basics"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(c,{value:n.type,"onUpdate:value":t[1]||(t[1]=e=>n.type=e),label:e.t("harvester.cloudTemplate.templateType"),disabled:!e.isCreate,options:i.types},null,8,["value","label","disabled","options"])]),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(u,{ref:"yamlUser",value:n.config,"onUpdate:value":t[2]||(t[2]=e=>n.config=e),class:"yaml-editor","editor-mode":"view"===e.mode?"VIEW_CODE":"EDIT_CODE",onOnChanges:i.update},null,8,["value","editor-mode","onOnChanges"])])])),_:1},8,["label"])])),_:1})])),_:1},8,["done-route","mode","resource","errors","apply-hooks","onFinish","onCancel"])}var n=a(4335),i=a(94877),d=a(22065),c=a(77562),u=a(11922),p=a(36316),m=a(72706),v=a(2602),h={name:"HarvesterEditCloudTemplate",emits:["update:value"],components:{Tab:i.A,Tabbed:n.A,YamlEditor:p.A,CruResource:d.A,LabeledSelect:c.A,NameNsDescription:u.A},mixins:[m.A],inheritAttrs:!1,data(){return{config:this.value.data?.cloudInit||"",type:this.value?.metadata?.labels?.[v.r.CLOUD_INIT]||"user"}},computed:{types(){return[{label:"User Data",value:"user"},{label:"Network Data",value:"network"}]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{update(){this.value.data={cloudInit:this.config}},updateBeforeSave(){this.isCreate&&(this.value.metadata.labels={...this.value.metadata.labels,[v.r.CLOUD_INIT]:this.type},this.value.data={cloudInit:this.config})}}},b=(a(59852),a(47433));const g=(0,b.A)(h,[["render",r],["__scopeId","data-v-65b4127d"]]);var f=g},13965:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o={key:3},s={class:"row"},r={class:"col span-12"},n={class:"row mt-10"},i={class:"col span-12"},d={class:"pull-left"},c={class:"pull-right"},u={key:0,class:"row mt-30"},p={class:"col flex span-12"},m={class:"row mt-10"},v={class:"col span-12"},h={class:"row mt-10"},b={key:0,class:"col span-6"},g={key:1,class:"col span-6"};function f(e,t,a,f,y,k){const N=(0,l.resolveComponent)("Banner"),V=(0,l.resolveComponent)("Tags"),E=(0,l.resolveComponent)("RadioGroup"),w=(0,l.resolveComponent)("BadgeState"),C=(0,l.resolveComponent)("LabelValue"),S=(0,l.resolveComponent)("LabeledInput"),B=(0,l.resolveComponent)("LabeledSelect"),x=(0,l.resolveComponent)("RadioButton"),A=(0,l.resolveComponent)("ModalWithCard"),_=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"disk","onUpdate:value":t[7]||(t[7]=(...e)=>k.update&&k.update(...e))},[t[9]||(t[9]=(0,l.createElementVNode)("div",{class:"mt-10"},null,-1)),k.mountedMessage&&k.isProvisioned?((0,l.openBlock)(),(0,l.createBlock)(N,{key:0,color:"error",label:k.mountedMessage},null,8,["label"])):(0,l.createCommentVNode)("",!0),k.isFormatting?((0,l.openBlock)(),(0,l.createBlock)(N,{key:1,color:"info",label:e.t("harvester.host.disk.fileSystem.formatting")},null,8,["label"])):k.isFormatted&&k.isLonghornV1&&!k.isCorrupted?((0,l.openBlock)(),(0,l.createBlock)(N,{key:2,color:"info",label:k.formattedBannerLabel},null,8,["label"])):(0,l.createCommentVNode)("",!0),a.value.isNew?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(V,{value:a.value.tags,"onUpdate:value":t[0]||(t[0]=e=>a.value.tags=e),label:e.t("harvester.host.disk.tags.label"),"add-label":e.t("harvester.host.disk.tags.addLabel"),mode:a.mode},null,8,["value","label","add-label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(E,{value:a.value.allowScheduling,"onUpdate:value":t[1]||(t[1]=e=>a.value.allowScheduling=e),name:"diskScheduling",label:e.t("harvester.host.disk.allowScheduling.label"),mode:a.mode,options:k.allowSchedulingOptions,row:!0},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",c,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.host.disk.conditions"))+": ",1),(0,l.withDirectives)((0,l.createVNode)(w,{color:"True"===e.readyCondition.status?"bg-success":"bg-error",icon:"True"===e.readyCondition.status?"icon-checkmark":"icon-warning",label:"Ready",class:"mr-10 ml-10 state"},null,8,["color","icon"]),[[_,e.readyCondition.message]]),(0,l.withDirectives)((0,l.createVNode)(w,{color:"True"===e.schedulableCondition.status&&k.targetDisk?.allowScheduling?"bg-success":"bg-error",icon:"True"===e.schedulableCondition.status&&k.targetDisk?.allowScheduling?"icon-checkmark":"icon-warning",label:"Schedulable",class:"mr-10 state"},null,8,["color","icon"]),[[_,k.schedulableTooltipMessage]]),k.provisionPhase.label?((0,l.openBlock)(),(0,l.createBlock)(w,{key:0,color:k.provisionPhase.color,icon:k.provisionPhase.icon,label:k.provisionPhase.label,class:"mr-10 state"},null,8,["color","icon","label"])):(0,l.createCommentVNode)("",!0)])])]),a.value.isNew?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(C,{name:e.t("harvester.host.disk.storageAvailable.label"),value:a.value.storageAvailable},null,8,["name","value"]),(0,l.createVNode)(C,{name:e.t("harvester.host.disk.storageScheduled.label"),value:a.value.storageScheduled},null,8,["name","value"]),(0,l.createVNode)(C,{name:e.t("harvester.host.disk.storageMaximum.label"),value:a.value.storageMaximum},null,8,["name","value"])])])),t[8]||(t[8]=(0,l.createElementVNode)("hr",{class:"mt-10"},null,-1))])),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(S,{value:a.value.displayName,"onUpdate:value":t[2]||(t[2]=e=>a.value.displayName=e),label:e.t("generic.name"),disabled:!0},null,8,["value","label"])])]),(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)("col span-"+(a.value.isNew?"6":"12"))},[(0,l.createVNode)(B,{value:y.provisioner,"onUpdate:value":t[3]||(t[3]=e=>y.provisioner=e),mode:a.mode,"label-key":"harvester.host.disk.provisioner","localized-label":!0,searchable:!0,options:k.provisioners,disabled:k.isProvisioned||!a.value.isNew,tooltip:k.provisionerTooltip,onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","mode","options","disabled","tooltip","onKeydown"])],2),a.value.isNew&&k.isLonghornV1&&!k.isFormatted||k.isCorrupted?((0,l.openBlock)(),(0,l.createElementBlock)("div",b,[(0,l.createVNode)(E,{value:a.value.forceFormatted,"onUpdate:value":t[4]||(t[4]=e=>a.value.forceFormatted=e),mode:a.mode,name:"forceFormatted","label-key":"harvester.host.disk.forceFormatted.label",labels:[e.t("generic.no"),e.t("harvester.host.disk.forceFormatted.yes")],options:[!1,!0],disabled:k.forceFormattedDisabled,"tooltip-key":"harvester.host.disk.forceFormatted.toolTip"},{1:(0,l.withCtx)((({option:e,listeners:t})=>[(0,l.createVNode)(x,(0,l.mergeProps)({label:e.label,val:e.value,value:a.value.forceFormatted,disabled:k.forceFormattedDisabled&&!a.value.forceFormatted},(0,l.toHandlers)(t)),null,16,["label","val","value","disabled"])])),_:1},8,["value","mode","labels","disabled"])])):(0,l.createCommentVNode)("",!0),a.value.isNew&&k.isLvm?((0,l.openBlock)(),(0,l.createElementBlock)("div",g,[(0,l.createVNode)(B,{value:a.value.lvmVolumeGroup,"onUpdate:value":t[5]||(t[5]=e=>a.value.lvmVolumeGroup=e),mode:a.mode,"label-key":"harvester.host.disk.lvmVolumeGroup.label","localized-label":!0,searchable:!1,taggable:!0,multiple:!1,required:!0,disabled:k.isProvisioned,options:k.lvmVolumeGroups,onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","mode","disabled","options","onKeydown"])])):(0,l.createCommentVNode)("",!0)]),y.isOpen?((0,l.openBlock)(),(0,l.createBlock)(A,{key:4,ref:y.randomStr,name:y.randomStr,width:"30%",onFinish:k.saveCreateVolumeGroup,onClose:k.hideCreateVolumeGroup},{title:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.host.disk.lvmVolumeGroup.label")),1)])),content:(0,l.withCtx)((()=>[(0,l.createVNode)(S,{value:y.volumeGroupDialog,"onUpdate:value":t[6]||(t[6]=e=>y.volumeGroupDialog=e),label:e.t("generic.name"),class:"mb-20",required:"",onKeydown:(0,l.withKeys)((0,l.withModifiers)((()=>{}),["prevent"]),["native","enter"])},null,8,["value","label","onKeydown"])])),_:1},8,["name","onFinish","onClose"])):(0,l.createCommentVNode)("",!0)],32)}var y=a(63557),k=a(20665),N=a(5327),V=a(92552),E=a(60018),w=a(89121),C=a(77562),S=a(21221),B=a(154),x=a(49306),A=a(32766),_=a(2602),D=a(89704),U=a(82877),M=a(74197),L=a(41594),T=a(71779);const O="_NEW";var I={components:{LabeledInput:N.o,LabeledSelect:C.A,LabelValue:V.A,BadgeState:E.j,Banner:w.l,RadioGroup:S.z,RadioButton:S.a,ModalWithCard:M.A,Tags:x.A},mixins:[B.A],props:{value:{type:Object,default:()=>({})},disks:{type:Array,default:()=>[]},node:{type:Object,default:()=>({})},mode:{type:String,default:"edit"}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,y.kR)({csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:k.Zq}),lvmVolumeGroups:this.$store.dispatch(`${e}/findAll`,{type:A.rk.LVM_VOLUME_GROUP})})},data(){let e=`${this.value.provisioner||k.lI}`;return e===k.lI&&(e=`${e}_${this.value.provisionerVersion||k.Zd}`),{provisioner:e,volumeGroupDialog:null,randomStr:(0,L.vx)(10).toLowerCase(),isOpen:!1}},computed:{provisioners(){const e=[],t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](k.Zq)||[];return a.forEach((({name:t})=>{switch(t){case k.lI:e.push({label:`harvester.host.disk.storage.longhorn.${k.Zd}.label`,value:`${t}_${k.Zd}`}),this.longhornSystemVersion!==k.SB&&this.value.provisionerVersion!==k.SB||e.push({label:`harvester.host.disk.storage.longhorn.${k.SB}.label`,value:`${t}_${k.SB}`,disabled:this.forceLonghornV1});break;case U.LVM_DRIVER:e.push({label:"harvester.host.disk.storage.lvm.label",value:t});break}})),e},lvmVolumeGroups(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](A.rk.LVM_VOLUME_GROUP)||[],a=t.filter((e=>e.spec.nodeName===this.node.name)).map((e=>e.spec.vgName));return a.unshift({label:this.t("harvester.host.disk.lvmVolumeGroup.create"),value:O}),a},targetDisk(){return this.disks.find((e=>e.name===this.value.name))},schedulableTooltipMessage(){const{name:e,path:t}=this.value;return this.targetDisk&&!this.targetDisk.allowScheduling&&e&&t?this.t("harvester.host.disk.allowScheduling.tooltip",{name:e,path:t}):this.schedulableCondition.message},allowSchedulingOptions(){return[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}]},evictionRequestedOptions(){return[{label:this.t("generic.yes"),value:!0},{label:this.t("generic.no"),value:!1}]},mountedMessage(){const e=this.blockDevice?.metadata?.state||{};return e?.error?e?.message:""},isProvisioned(){return this.blockDevice?.isProvisioned},forceFormattedDisabled(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt,t=this.blockDevice?.status?.deviceStatus?.fileSystem.type,a=["ext4","XFS"];return!!(e||this.blockDevice?.childParts?.length>0)||!a.includes(t)&&(!t||!this.canEditPath)},canEditPath(){return!!this.mountedMessage||!(!this.value.isNew||this.value.originPath)},isFormatted(){return!!this.blockDevice?.status?.deviceStatus?.fileSystem?.LastFormattedAt},formattedBannerLabel(){const e=this.blockDevice?.status?.deviceStatus?.fileSystem?.type,t=this.t("harvester.host.disk.lastFormattedAt.info");return e?`${t} ${this.t("harvester.host.disk.fileSystem.info",{system:e})}`:t},provisionPhase(){return this.blockDevice?.provisionPhase||{}},blockDevice(){const e=this.$store.getters["currentProduct"].inStore,t=this.value?.name;return this.$store.getters[`${e}/byId`](A.rk.BLOCK_DEVICE,`${D.LONGHORN_SYSTEM}/${t}`)||{}},isCorrupted(){return this.blockDevice?.status?.deviceStatus?.fileSystem?.corrupted},isFormatting(){return this.blockDevice.isFormatting},longhornSystemVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](k.oe.SETTINGS,D.LONGHORN_V2_DATA_ENGINE)||{};return"true"===t.value?k.SB:k.Zd},forceLonghornV1(){return"true"===this.node?.labels[_.r.DISABLE_LONGHORN_V2_ENGINE]},isLvm(){return this.value.provisioner===U.LVM_DRIVER},isLonghorn(){return this.value.provisioner===k.lI},isLonghornV1(){return this.isLonghorn&&this.value.provisionerVersion===k.Zd},provisionerTooltip(){return this.mode===T.G5&&this.isLonghorn&&this.longhornSystemVersion===k.SB&&this.forceLonghornV1?this.t("harvester.storage.storageClass.longhorn.versionTooltip"):null}},watch:{provisioner(e){this.randomStr=(0,L.vx)(10).toLowerCase();const[t,a]=e?.split("_");this.value.provisioner=t,t===k.lI?this.value.provisionerVersion=a||k.Zd:this.value.provisionerVersion=void 0},"value.lvmVolumeGroup"(e){e===O&&(this.value.lvmVolumeGroup=null,this.showCreateVolumeGroup())}},methods:{showCreateVolumeGroup(){this.volumeGroupDialog=null,this.isOpen=!0},hideCreateVolumeGroup(){this.isOpen=!1},saveCreateVolumeGroup(e){e(!0),this.value.lvmVolumeGroup=this.volumeGroupDialog,this.hideCreateVolumeGroup()},update(){this.$emit("update:value",this.value)}}},R=(a(94287),a(47433));const $=(0,R.A)(I,[["render",f],["__scopeId","data-v-30b402d6"]]);var P=$},65864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={key:0},s={class:"row"},r={class:"col span-6"},n={key:1},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-6"},m={class:"row mt-20"},v={class:"col span-6"},h={key:0,class:"col span-6 mt-20"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("Banner"),k=(0,l.resolveComponent)("RadioGroup"),N=(0,l.resolveComponent)("LabeledInput"),V=(0,l.resolveComponent)("Checkbox"),E=(0,l.resolveComponent)("LabeledSelect"),w=(0,l.resolveComponent)("NameNsDescription"),C=(0,l.resolveComponent)("ModalWithCard");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[a.inventory.warningMessages.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.inventory.warningMessages,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(y,{key:t,color:"error",label:e.text},null,8,["label"])))),128))])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(k,{value:g.enableInventory,"onUpdate:value":t[0]||(t[0]=e=>g.enableInventory=e),options:[{label:e.t("generic.enabled"),value:!0},{label:e.t("generic.disabled"),value:!1}],mode:a.mode,name:"enableInventory"},null,8,["value","options","mode"])])]),g.enableInventory?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(N,{value:g.value.spec.baseboardSpec.connection.host,"onUpdate:value":t[1]||(t[1]=e=>g.value.spec.baseboardSpec.connection.host=e),label:e.t("harvester.seeder.inventory.host.label"),placeholder:e.t("harvester.seeder.inventory.host.placeholder"),mode:a.mode,required:""},null,8,["value","label","placeholder","mode"]),(0,l.createVNode)(V,{value:g.value.spec.baseboardSpec.connection.insecureTLS,"onUpdate:value":t[2]||(t[2]=e=>g.value.spec.baseboardSpec.connection.insecureTLS=e),class:"mt-5",mode:a.mode,label:e.t("harvester.seeder.inventory.insecureTLS.label")},null,8,["value","mode","label"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(N,{value:g.value.spec.baseboardSpec.connection.port,"onUpdate:value":t[3]||(t[3]=e=>g.value.spec.baseboardSpec.connection.port=e),valueModifiers:{number:!0},label:e.t("harvester.seeder.inventory.port.label"),placeholder:e.t("harvester.seeder.inventory.port.placeholder"),mode:a.mode,required:""},null,8,["value","label","placeholder","mode"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(E,{value:f.selectedSecret,"onUpdate:value":t[4]||(t[4]=e=>f.selectedSecret=e),label:e.t("harvester.seeder.inventory.secret.label"),mode:a.mode,options:f.secretOption,required:""},null,8,["value","label","mode","options"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{value:g.value.spec.events.enabled,"onUpdate:value":t[5]||(t[5]=e=>g.value.spec.events.enabled=e),name:"enabled",options:[!0,!1],label:e.t("harvester.seeder.inventory.event.label"),labels:[e.t("generic.enabled"),e.t("generic.disabled")],mode:a.mode},null,8,["value","label","labels","mode"])])]),g.value.spec.events.enabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createVNode)(N,{value:g.value.spec.events.pollingInterval,"onUpdate:value":t[6]||(t[6]=e=>g.value.spec.events.pollingInterval=e),label:e.t("harvester.seeder.inventory.pollingInterval.label"),mode:a.mode},null,8,["value","label","mode"])])):(0,l.createCommentVNode)("",!0),g.isOpen?((0,l.openBlock)(),(0,l.createBlock)(C,{key:1,width:"80%",errors:g.errors,name:"secretModal",onFinish:f.saveSecret,onClose:f.cancel},{title:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.seeder.inventory.secret.create.title")),1)])),content:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{value:g.secret,namespaced:!0,mode:"create","onUpdate:value":t[7]||(t[7]=t=>e.$emit("update:value",t))},null,8,["value"]),(0,l.createVNode)(N,{value:f.username,"onUpdate:value":t[8]||(t[8]=e=>f.username=e),label:e.t("harvester.virtualMachine.input.username"),class:"mb-20",required:""},null,8,["value","label"]),(0,l.createVNode)(N,{value:f.password,"onUpdate:value":t[9]||(t[9]=e=>f.password=e),type:"password",label:e.t("harvester.virtualMachine.input.password"),class:"mb-20",required:""},null,8,["value","label"])])),_:1},8,["errors","onFinish","onClose"])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)])}var g=a(77562),f=a(5327),y=a(21221),k=a(34211),N=a(20665),V=a(74197),E=a(11922),w=a(89121),C=a(17146),S=a(26953);const B="_NEW";var x={name:"HarvesterSeeder",emits:["update:value"],components:{Checkbox:k.S,LabeledInput:f.o,LabeledSelect:g.A,RadioGroup:y.z,ModalWithCard:V.A,NameNsDescription:E.A,Banner:w.l},props:{mode:{type:String,required:!0},node:{type:Object,required:!0},registerAfterHook:{type:Function,required:!0},inventory:{type:Object,required:!0}},data(){const e=!!this.inventory?.id;return{enableInventory:e,value:this.inventory,secret:{},errors:[],newSecretSelected:!1,isOpen:!1}},created(){this.registerAfterHook(this.saveInventory,"saveInventory")},async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.secret=await this.$store.dispatch(`${e}/create`,{type:N.bB,data:{username:"",password:""},metadata:{namespace:"",name:"",describe:""}})},computed:{secretOption(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.bB).filter((e=>e.data?.username&&e.data?.password)).map((e=>({label:e.id,value:e.id})));return t.unshift({label:this.t("harvester.virtualMachine.createSSHKey"),value:B}),t},selectedSecret:{get(){const e=this.value.spec?.baseboardSpec?.connection?.authSecretRef?.namespace,t=this.value?.spec?.baseboardSpec?.connection?.authSecretRef?.name;return e&&t?`${e}/${t}`:""},set(e){if(e===B)this.newSecretSelected=!0;else{const[t,a]=e.split("/");this.value.spec.baseboardSpec.connection.authSecretRef["namespace"]=t,this.value.spec.baseboardSpec.connection.authSecretRef["name"]=a}}},username:{get(){return(0,C.u)(this.secret?.data?.username)},set(e){this.secret.data["username"]=(0,C.KA)(e)}},password:{get(){return(0,C.u)(this.secret?.data?.password)},set(e){this.secret.data["password"]=(0,C.KA)(e)}}},methods:{async saveInventory(){if(this.enableInventory){const e=[];return this.value.spec.baseboardSpec.connection.host||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.host.label")},!0)),this.value.spec.baseboardSpec.connection.port||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.port.label")},!0)),this.selectedSecret||e.push(this.t("validation.required",{key:this.t("harvester.seeder.inventory.secret.label")},!0)),e.length>0?Promise.reject((0,S.rz)(e)):(this.value.id||(this.value.metadata.annotations["metal.harvesterhci.io/local-node-name"]=this.node.id),this.value.metadata.annotations["metal.harvesterhci.io/local-inventory"]="true",await this.value.save())}return this.value.id?await this.value.remove():Promise.resolve()},show(){this.isOpen=!0},hide(){this.isOpen=!1,this.newSecretSelected=!1},cancel(){this.hide()},async saveSecret(e){if(this.errors=[],this.username||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.username")},!0)),this.password||this.errors.push(this.t("validation.required",{key:this.t("harvester.virtualMachine.input.password")},!0)),this.errors.length>0)e(!1);else try{const t=await this.secret.save();t.id&&this.secretOption.push({label:t.id,value:t.id}),this.selectedSecret=t.id,e(!0),this.cancel()}catch(t){this.errors=[t.message],e(!1)}}},watch:{newSecretSelected(e){e&&this.show()}}},A=a(47433);const _=(0,A.A)(x,[["render",b]]);var D=_},89704:function(e,t,a){"use strict";a.r(t),a.d(t,{LONGHORN_SYSTEM:function(){return z},LONGHORN_V2_DATA_ENGINE:function(){return Q},default:function(){return X}});var l=a(9274);const o={key:1,id:"node"},s={class:"content"},r={key:0,class:"row mb-20"},n={class:"col span-12"},i={key:0},d={key:1},c=["onClick"],u={key:1},p={key:1},m={key:2};function v(e,t,a,v,h,b){const g=(0,l.resolveComponent)("Loading"),f=(0,l.resolveComponent)("NameNsDescription"),y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("Tab"),N=(0,l.resolveComponent)("Tags"),V=(0,l.resolveComponent)("HarvesterDisk"),E=(0,l.resolveComponent)("ButtonDropdown"),w=(0,l.resolveComponent)("ArrayListGrouped"),C=(0,l.resolveComponent)("HarvesterKsmtuned"),S=(0,l.resolveComponent)("HarvesterSeeder"),B=(0,l.resolveComponent)("Banner"),x=(0,l.resolveComponent)("MessageLink"),A=(0,l.resolveComponent)("KeyValue"),_=(0,l.resolveComponent)("Tabbed"),D=(0,l.resolveComponent)("Footer");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(g,{key:0})):((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(f,{value:a.value,namespaced:!1,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(_,{ref:"tabbed",class:"mt-15","side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{name:"basics",weight:100,label:e.t("harvester.host.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{value:h.customName,"onUpdate:value":t[1]||(t[1]=e=>h.customName=e),label:e.t("harvester.host.detail.customName"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"]),(0,l.createVNode)(y,{value:h.consoleUrl,"onUpdate:value":t[2]||(t[2]=e=>h.consoleUrl=e),label:e.t("harvester.host.detail.consoleUrl"),class:"mb-20",mode:e.mode},null,8,["value","label","mode"])])),_:1},8,["label"]),b.hasBlockDevicesSchema?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,name:"disk",weight:80,label:e.t("harvester.host.tabs.storage")},{default:(0,l.withCtx)((()=>[b.longhornNode?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(N,{value:b.longhornNode.spec.tags,"onUpdate:value":t[3]||(t[3]=e=>b.longhornNode.spec.tags=e),label:e.t("harvester.host.tags.label"),"add-label":e.t("harvester.host.tags.addLabel"),mode:e.mode},null,8,["value","label","add-label","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(w,{value:h.newDisks,"onUpdate:value":t[5]||(t[5]=e=>h.newDisks=e),mode:e.mode,"initial-empty-row":!1},{default:(0,l.withCtx)((t=>[(0,l.createVNode)(V,{value:t.row.value,"onUpdate:value":e=>t.row.value=e,class:"mb-20",mode:e.mode,disks:h.disks,node:a.value},null,8,["value","onUpdate:value","mode","disks","node"])])),add:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(E,{key:0,"button-label":e.t("harvester.host.disk.add"),"dropdown-options":h.blockDeviceOpts,size:"sm",selectable:b.selectable,onClickAction:t[4]||(t[4]=e=>b.addDisk(e.value)),onDdButtonAction:b.ddButtonAction},{option:(0,l.withCtx)((e=>["group"===e.kind?((0,l.openBlock)(),(0,l.createElementBlock)("b",i,(0,l.toDisplayString)(e.label),1)):((0,l.openBlock)(),(0,l.createElementBlock)("div",d,(0,l.toDisplayString)(e.label),1))])),_:1},8,["button-label","dropdown-options","selectable","onDdButtonAction"]))])),"remove-button":(0,l.withCtx)((a=>[b.canRemove(a.row,a.i)&&!e.isView?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,type:"button",class:"btn role-link close btn-sm",onClick:()=>b.onRemove(a)},t[6]||(t[6]=[(0,l.createElementVNode)("i",{class:"icon icon-x"},null,-1)]),8,c)):((0,l.openBlock)(),(0,l.createElementBlock)("span",u))])),_:1},8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),b.hasKsmtunedSchema?((0,l.openBlock)(),(0,l.createBlock)(k,{key:1,name:"Ksmtuned",weight:70,label:e.t("harvester.host.tabs.ksmtuned")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(C,{mode:e.mode,node:a.value,"register-before-hook":e.registerBeforeHook},null,8,["mode","node","register-before-hook"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),b.hasAddonSchema?((0,l.openBlock)(),(0,l.createBlock)(k,{key:2,name:"seeder",weight:60,label:e.t("harvester.host.tabs.seeder")},{default:(0,l.withCtx)((()=>[b.seederEnabled&&b.hasInventorySchema?((0,l.openBlock)(),(0,l.createBlock)(S,{key:0,mode:e.mode,node:a.value,"register-after-hook":e.registerAfterHook,inventory:h.inventory},null,8,["mode","node","register-after-hook","inventory"])):b.seederEnabled&&!b.hasInventorySchema?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createVNode)(B,{color:"info",label:e.t("harvester.seeder.banner.noInventory")},null,8,["label"])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",m,[b.hasSeederAddon?((0,l.openBlock)(),(0,l.createBlock)(B,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(x,{to:b.toEnableSeederAddon,"prefix-label":"harvester.seeder.banner.enable.prefix","middle-label":"harvester.seeder.banner.enable.middle","suffix-label":"harvester.seeder.banner.enable.suffix"},null,8,["to"])])),_:1})):((0,l.openBlock)(),(0,l.createBlock)(B,{key:1,color:"warning",label:e.t("harvester.seeder.banner.noAddon")},null,8,["label"]))]))])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(k,{name:"labels","label-key":"harvester.host.tabs.labels"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{key:"labels",value:h.filteredLabels,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":b.updateHostLabels},null,8,["value","add-label","mode","onUpdate:value"])])),_:1})])),_:1},512),b.showFormattedWarning?((0,l.openBlock)(),(0,l.createBlock)(B,{key:0,color:"warning",label:e.t("harvester.host.disk.forceFormatted.toolTip")},null,8,["label"])):(0,l.createCommentVNode)("",!0)]),(0,l.createVNode)(D,{class:"footer",mode:e.mode,errors:e.errors,onSave:e.save,onDone:e.done},null,8,["mode","errors","onSave","onDone"])]))}var h=a(65359),b=a(4335),g=a(94877),f=a(81993),y=a(11922),k=a(5327),N=a(11331),V=a(74911),E=a(72706),w=a(2602),C=a(20665),S=a(63557),B=a(49844),x=a(26812),A=a(92590),_=a(26953),D=a(85905),U=a(61856),M=a(37752),L=a(66905),T=a(20652),O=a(84757),I=a(71779),R=a(73331),$=a(89121),P=a(32766),q=a(13965),F=a(65864),G=a(27547),K=a(49306),j=a(82877),H=a(46343),J=a.n(H);const z="longhorn-system",Q="longhorn-system/v2-data-engine";var Y={name:"HarvesterEditNode",emits:["update:value"],components:{Footer:f.A,Tabbed:b.A,Tab:g.A,LabeledInput:k.o,NameNsDescription:y.A,ArrayListGrouped:N.A,HarvesterDisk:q["default"],HarvesterKsmtuned:G["default"],ButtonDropdown:V.A,KeyValue:D.A,Banner:$.l,Tags:K.A,Loading:U.A,HarvesterSeeder:F["default"],MessageLink:M.A},mixins:[E.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:C.oe.NODES}),blockDevices:this.$store.dispatch(`${e}/findAll`,{type:P.rk.BLOCK_DEVICE}),addons:this.$store.dispatch(`${e}/findAll`,{type:P.rk.ADD_ONS}),secrets:this.$store.dispatch(`${e}/findAll`,{type:C.bB})};this.longhornV2LVMSupport&&(t.longhornV2DataEngine=this.$store.dispatch(`${e}/find`,{type:C.oe.SETTINGS,id:Q})),this.$store.getters[`${e}/schemaFor`](P.rk.INVENTORY)&&(t.inventories=this.$store.dispatch(`${e}/findAll`,{type:P.rk.INVENTORY})),await(0,S.kR)(t);const a=this.$store.getters[`${e}/all`](P.rk.BLOCK_DEVICE),l=a.filter((e=>{const t=e?.spec?.nodeName===this.value.id,a=(0,x.jq)(this.longhornDisks,"name",e.metadata.name);return e?.isProvisioned&&t&&!a})).map((e=>{const t=e?.status?.deviceStatus?.fileSystem?.corrupted;return{isNew:!0,name:e?.metadata?.name,originPath:e?.spec?.fileSystem?.mountPoint,path:e?.spec?.fileSystem?.mountPoint,blockDevice:e,displayName:e?.displayName,forceFormatted:!!t||(e?.spec?.fileSystem?.forceFormatted||!1),provisioner:e?.spec?.provisioner?.lvm?j.LVM_DRIVER:C.lI,provisionerVersion:e?.spec?.provisioner?.longhorn?.engineVersion||C.Zd,lvmVolumeGroup:e?.spec?.provisioner?.lvm?.vgName}})),o=[...this.longhornDisks,...l];this.disks=o,this.newDisks=(0,A.o8)(o),this.blockDeviceOpts=this.getBlockDeviceOpts();const s=this.$store.getters[`${e}/all`](P.rk.ADD_ONS),r=s.find((e=>e.id===`harvester-system/${L.Jo.HARVESTER_SEEDER}`)),n=!!r&&r?.spec?.enabled;if(n){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](P.rk.INVENTORY)||[],a=t.find((e=>e.id===`harvester-system/${this.value.id}`));a?this.inventory=await this.$store.dispatch(`${e}/clone`,{resource:a}):(this.inventory=await this.$store.dispatch(`${e}/create`,{type:P.rk.INVENTORY,metadata:{name:this.value.id,namespace:"harvester-system"}}),this.inventory.applyDefaults())}},data(){const e=this.value.metadata?.annotations?.[w.r.HOST_CUSTOM_NAME]||"",t=this.value.metadata?.annotations?.[w.r.HOST_CONSOLE_URL]||"";return{customName:e,consoleUrl:t,disks:[],newDisks:[],blockDevice:[],blockDeviceOpts:[],filteredLabels:(0,A.o8)(this.value.filteredSystemLabels),inventory:{},originValue:(0,A.o8)(this.value)}},computed:{...(0,h.L8)({t:"i18n/t"}),longhornV2LVMSupport(){return this.$store.getters["harvester-common/getFeatureEnabled"]("longhornV2LVMSupport")},removedDisks(){const e=this.disks.filter((e=>!(0,x.jq)(this.newDisks,"name",e.name)))||[];return e},longhornDisks(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](C.oe.NODES,`${z}/${this.value.id}`),a=t?.status?.diskStatus||{},l=t?.spec?.disks||{},o={increment:1024,minExponent:3,maxExponent:3,maxPrecision:2,suffix:O.jx},s=Object.keys(a).map((t=>{const s=this.$store.getters[`${e}/byId`](P.rk.BLOCK_DEVICE,`${z}/${t}`);return{...a[t],...l?.[t],name:t,isNew:!1,storageReserved:(0,B.Mo)(l[t]?.storageReserved,o),storageAvailable:(0,B.Mo)(a[t]?.storageAvailable,o),storageMaximum:(0,B.Mo)(a[t]?.storageMaximum,o),storageScheduled:(0,B.Mo)(a[t]?.storageScheduled,o),blockDevice:s,displayName:s?.displayName||t,forceFormatted:s?.spec?.fileSystem?.forceFormatted||!1,tags:l?.[t]?.tags||[],provisioner:s?.spec?.provisioner?.lvm?j.LVM_DRIVER:C.lI,provisionerVersion:s?.spec?.provisioner?.longhorn?.engineVersion||C.Zd,lvmVolumeGroup:s?.spec?.provisioner?.lvm?.vgName}}));return s},showFormattedWarning(){const e=this.newDisks.filter((e=>e.forceFormatted&&e.isNew&&e.provisionerVersion===C.Zd))||[];return e.length>0},hasKsmtunedSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](P.rk.KSTUNED)},hasBlockDevicesSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[`${e}/schemaFor`](P.rk.BLOCK_DEVICE)},longhornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.oe.NODES);return t.find((e=>e.id===`${z}/${this.value.id}`))},seederEnabled(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](P.rk.ADD_ONS),a=t.find((e=>e.id===`harvester-system/${L.Jo.HARVESTER_SEEDER}`));return!!a&&a?.spec?.enabled},toEnableSeederAddon(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${T.KR}-c-cluster-resource-namespace-id`,params:{resource:`${P.rk.ADD_ONS}`,namespace:"harvester-system",cluster:e,id:`${L.Jo.HARVESTER_SEEDER}`},query:{mode:I.G5}}},hasAddonSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](P.rk.ADD_ONS)},hasSeederAddon(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](P.rk.ADD_ONS);return t.find((e=>e.id===`harvester-system/${L.Jo.HARVESTER_SEEDER}`))},hasInventorySchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](P.rk.INVENTORY)}},watch:{customName(e){this.value.setAnnotation(w.r.HOST_CUSTOM_NAME,e)},consoleUrl(e){this.value.setAnnotation(w.r.HOST_CONSOLE_URL,e)},newDisks(){this.blockDeviceOpts=this.getBlockDeviceOpts()}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook&&(this.registerAfterHook(this.saveDisk),this.registerAfterHook(this.saveLonghornNode))},methods:{addDisk(e){const t=(0,x.jq)(this.removedDisks,"blockDevice.id",e);if(t)return this.newDisks.push(t);const a=this.$store.getters["currentProduct"].inStore,l=this.$store.getters[`${a}/byId`](P.rk.BLOCK_DEVICE,e),o=l?.spec?.fileSystem?.mountPoint,s=l?.status?.deviceStatus?.fileSystem?.LastFormattedAt;let r=!0;const n=["ext4","XFS"];l.childParts?.length>0?r=!0:(s||n.includes(l?.status?.deviceStatus?.fileSystem?.type))&&(r=!1);const i=l?.metadata?.name;this.newDisks.push({name:i,path:o,allowScheduling:!1,evictionRequested:!1,storageReserved:0,isNew:!0,originPath:l?.spec?.fileSystem?.mountPoint,blockDevice:l,displayName:l?.displayName,forceFormatted:r,provisioner:C.lI,provisionerVersion:C.Zd,lvmVolumeGroup:null})},async saveDisk(){const e=this.$store.getters["currentProduct"].inStore,t=this.newDisks.filter((e=>e.isNew)),a=this.disks.filter((e=>!(0,x.jq)(this.newDisks,"name",e.name)&&e.blockDevice));if(0===t.length&&0===a.length)return Promise.resolve();if(0!==t.length&&0===a.length){const a=t.filter((t=>{const a=this.$store.getters[`${e}/byId`](P.rk.BLOCK_DEVICE,`${z}/${t.name}`),{forceFormatted:l}=a.spec.fileSystem,{provisioner:o}=a.spec;return!(a.isProvisioned&&l===t.forceFormatted&&J()(o,t.provisioner))}));if(0===a.length)return Promise.resolve()}try{await Promise.all(t.map((t=>{const a=this.$store.getters[`${e}/byId`](P.rk.BLOCK_DEVICE,`${z}/${t.name}`);switch(a.spec.provision=!0,a.spec.fileSystem.forceFormatted=t.forceFormatted,t.provisioner){case C.lI:a.spec.provisioner={longhorn:{engineVersion:t.provisionerVersion}};break;case j.LVM_DRIVER:a.spec.provisioner={lvm:{vgName:t.lvmVolumeGroup}};break}return a.save()}))),await Promise.all(a.map((t=>{const a=this.$store.getters[`${e}/byId`](P.rk.BLOCK_DEVICE,`${z}/${t.name}`);return a.spec.provision=!1,a.save()}))),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.host.disk.notification.success",{name:this.value.metadata?.name||""})},{root:!0})}catch(l){return Promise.reject((0,_.rz)(l))}},canRemove(e){return!!e?.value?.blockDevice},onRemove(e){e.remove()},updateHostLabels(e){this.filteredLabels=e},selectable(e){return!e.disabled},getBlockDeviceOpts(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](P.rk.BLOCK_DEVICE),a=t.filter((e=>{const t=(0,x.jq)(e?.status?.conditions||[],"type","AddedToNode"),a=(0,x.jq)(this.newDisks,"name",e.metadata.name),l=(0,x.jq)(this.removedDisks,"name",e.metadata.name),o=e.status?.deviceStatus?.details?.deviceType;return"disk"===o&&"Active"===e?.status?.state&&!(((0,x.jq)(this.disks||[],"name",e.metadata.name)||e?.spec?.nodeName!==this.value.id||t&&"False"!==t?.status||e?.isProvisioned||a)&&!l)})).map((e=>{const t=e.spec?.devPath,a=e.status?.deviceStatus?.details?.deviceType,l=e.status?.deviceStatus?.capacity?.sizeBytes,o=(0,B.Mo)(l,{increment:1024,suffix:O.jx}),s=e.status?.deviceStatus?.parentDevice,r=this.newDisks.find((e=>e.blockDevice?.status?.deviceStatus?.parentDevice===t)),n=e.displayName;let i=`${n} (Type: ${a}, Size: ${o})`;return s&&(i=`- ${i}`),{label:i,value:e.id,action:this.addDisk,kind:s?"":"group",disabled:!!r,group:s||t,isParent:!!s}}));return(0,R.Ul)(a,["group","isParent","label"])},ddButtonAction(){this.blockDeviceOpts=this.getBlockDeviceOpts()},willSave(){const e=this.filteredLabels||{};this.value.metadata.labels={...this.value.metadata.labels,...e};const t=this.value.filteredSystemLabels;Object.keys(t).map((t=>{e[t]||delete this.value.metadata.labels[t]}))},async saveLonghornNode(){const e=this.$store.getters["currentProduct"].inStore,t=this.longhornNode?.spec?.disks||{};this.newDisks.map((e=>{(t[e.name]||{}).tags=e.tags,(t[e.name]||{}).allowScheduling=e.allowScheduling}));let a=0;const l=async()=>{try{await this.longhornNode.save()}catch(t){if(409!==t.status&&403!==t.status||!(a<3))return Promise.reject((0,_.rz)(t));a++,await this.$store.dispatch(`${e}/find`,{type:C.oe.NODES,id:this.longhornNode.id,opt:{force:!0}}),await new Promise((e=>setTimeout(e,"5000"))),await l()}};this.longhornNode&&await l()}}},W=(a(8612),a(47433));const Z=(0,W.A)(Y,[["render",v],["__scopeId","data-v-6b99f71c"]]);var X=Z},28355:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(9274);const o={class:"header mb-20"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("FileSelector"),d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("Tab"),p=(0,l.resolveComponent)("Tabbed"),m=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(m,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,class:"btn btn-sm bg-primary mt-10",label:e.t("generic.readFromFile"),accept:".pub",onSelected:n.onKeySelected},null,8,["label","onSelected"])):(0,l.createCommentVNode)("",!0)]),((0,l.openBlock)(),(0,l.createBlock)(d,{ref:"nd",key:r.randomString,value:a.value,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"])),(0,l.createVNode)(p,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{name:"basic",label:e.t("harvester.sshKey.tabs.basics"),weight:1,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:r.publicKey,"onUpdate:value":t[1]||(t[1]=e=>r.publicKey=e),type:"multiline",mode:e.mode,"min-height":160,label:e.t("harvester.sshKey.keypair"),required:""},null,8,["value","mode","label"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var r=a(4335),n=a(94877),i=a(22065),d=a(5327),c=a(11922),u=a(64779),p=a(41594),m=a(72706),v={name:"HarvesterEditKeypair",emits:["update:value"],components:{Tab:n.A,Tabbed:r.A,CruResource:i.A,LabeledInput:d.o,FileSelector:u.A,NameNsDescription:c.A},mixins:[m.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){return this.value.spec||(this.value.spec={},this.value.metadata={name:""}),{publicKey:this.value.spec.publicKey||"",randomString:""}},watch:{publicKey(e){const t=e.trim();this.value.spec.publicKey=t;const a=t.split(/\s+/);if(3===a.length&&!this.value.metadata.name){const e=a[2];this.randomString=(0,p.vx)(10).toLowerCase(),this.value.metadata.name=e.includes("@")?e.split("@")[0]:e}}},methods:{onKeySelected:(0,u.B)("publicKey")}},h=(a(54822),a(47433));const b=(0,h.A)(v,[["render",s],["__scopeId","data-v-392bdb63"]]);var g=b},70675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var l=a(85401),o=a(20665),s=a(24426),r={extends:s.A,created(){this.isCreate&&this.value.type===o.cm.CLUSTER_FLOW&&(this.value.metadata.namespace="cattle-logging-system"),this.registerBeforeHook(this.willSave,"willSave"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:l.Ri,value:a},{root:!0}),this.willSave()}))}};const n=r;var i=n},17733:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var l=a(85401),o=a(955),s={extends:o["default"],created(){this.isCreate&&(this.value.metadata.namespace="cattle-logging-system"),this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:l.Ri,value:a},{root:!0})}))}};const r=s;var n=r},65647:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Flow");return(0,l.openBlock)(),(0,l.createBlock)(n,(0,l.normalizeProps)((0,l.guardReactiveProps)(e.$attrs)),null,16)}var s=a(24426),r={components:{Flow:s.A}},n=a(47433);const i=(0,n.A)(r,[["render",o]]);var d=i},955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var l=a(9274);const o={class:"output"},s={class:"row"},r={class:"col span-6"},n={class:"row"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("NameNsDescription"),m=(0,l.resolveComponent)("Banner"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("YamlEditor"),g=(0,l.resolveComponent)("Labels"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createVNode)(y,{"done-route":e.doneRoute,mode:u.cruMode,resource:e.value,subtypes:[],"validation-passed":!0,errors:e.errors,"can-yaml":!0,onError:t[5]||(t[5]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,value:e.value,mode:e.mode,label:"generic.name","register-before-hook":e.registerBeforeHook,namespaced:e.value.type!==c.LOGGING.CLUSTER_OUTPUT,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","register-before-hook","namespaced"])),c.selectedProviders.length>1?((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("logging.output.tips.singleProvider")),1)])),_:1})):e.value.allProvidersSupported?((0,l.openBlock)(),(0,l.createBlock)(f,{key:3,ref:"tabbed","side-tabs":!0,onChanged:t[4]||(t[4]=e=>u.tabChanged(e))},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"Output",label:"Output",weight:2},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(v,{value:c.loggingType,"onUpdate:value":t[1]||(t[1]=e=>c.loggingType=e),class:"mb-20",options:u.outputTypeOptions,disabled:!e.isCreate,mode:e.mode,label:e.t("generic.type")},null,8,["value","options","disabled","mode","label"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.outputProvider,"onUpdate:value":t[2]||(t[2]=e=>u.outputProvider=e),label:"Output",options:c.providers,mode:e.mode},null,8,["value","options","mode"])])]),t[6]||(t[6]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(u.getComponent(c.selectedProvider)),{value:e.value.spec[c.selectedProvider],namespace:e.value.namespace,mode:e.mode},null,8,["value","namespace","mode"]))])),_:1}),(0,l.createVNode)(h,{name:"buffer",label:e.t("logging.output.buffer.label"),weight:1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{ref:"yaml",value:c.bufferYaml,"onUpdate:value":t[3]||(t[3]=e=>c.bufferYaml=e),scrolling:!1,"initial-yaml-values":c.initialBufferYaml,"editor-mode":e.isView?u.EDITOR_MODES.VIEW_CODE:u.EDITOR_MODES.EDIT_CODE,onOnReady:u.onYamlEditorReady},null,8,["value","initial-yaml-values","editor-mode","onOnReady"])])),_:1},8,["label"]),e.isView?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(h,{key:0,name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1}))])),_:1},512)):((0,l.openBlock)(),(0,l.createBlock)(m,{key:2,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("logging.output.tips.multipleProviders")),1)])),_:1}))])),_:1},8,["done-route","mode","resource","errors","onFinish","onCancel"])])}var c=a(72706),u=a(20665),p=a(4335),m=a(94877),v=a(22065),h=a(11922),b=a(55659),g=a(77562),f=a(89121),y=a(88782),k=a(71779),N=a(92590),V=a(46343),E=a.n(V),w=a(3514),C=a.n(w),S=a(20246),B=a.n(S),x=a(1195),A=a(36316),_=a(66905);const D="Logging/Event",U="Audit Only",M=[D,U];var L={emits:["update:value"],components:{Banner:f.l,CruResource:v.A,Labels:b.A,LabeledSelect:g.A,NameNsDescription:h.A,Tab:m.A,Tabbed:p.A,YamlEditor:A.A},mixins:[c.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["harvester/all"](u.yx),t=this.$store.getters["harvester/byId"](u.yx,u.cm.OUTPUT),a=await t.fetchResourceFields();let l="";C()(this.value.spec[this.selectedProvider]?.buffer)?a&&(l=(0,x.mH)(e,`io.banzaicloud.logging.v1beta1.Output.spec.${this.selectedProvider}.buffer`,{},!0,1,"",u.cm.OUTPUT),l=l.substring(l.indexOf("\n")+1).replace(/# {2}/g,"#")):l=B().dump(this.value.spec[this.selectedProvider].buffer),l.length&&(this.bufferYaml=l,this.initialBufferYaml=l,this.$refs.yaml.updateValue(this.bufferYaml))},data(){this.isCreate&&(this.value.metadata.namespace="default"),(0,N.hZ)(this.value,"spec",this.value.spec||{});const e=y.PROVIDERS.map((e=>({...e,value:e.name,label:this.t(e.labelKey)}))),t=e.filter((e=>{const t=this.value.spec[e.name],a="forward"===e.name?t?.servers?.[0]||{}:t;return!C()(a)&&!E()(a,e.default)})),a=t?.[0]?.value||e[0].value,l=e.find((e=>e.name===a))?.default||e[0].default;return this.mode!==k.nW&&(0,N.hZ)(this.value.spec,a,this.value.spec[a]||(0,N.o8)(l)),{bufferYaml:"",initialBufferYaml:"",providers:e,selectedProvider:a,hasMultipleProvidersSelected:t.length>1,selectedProviders:t,LOGGING:u.cm,loggingType:this.value.loggingType!==_.UQ.AUDIT?D:U}},computed:{EDITOR_MODES(){return A.j},enabledProviders(){return this.providers.filter((e=>e.enabled))},cruMode(){return this.selectedProviders.length>1||!this.value.allProvidersSupported?k.nW:this.mode},outputTypeOptions(){return M},outputProvider:{get(){return this.selectedProvider},set(e){this.selectedProvider=e;const t=this.providers.find((t=>t.name===e))?.default||{};this.value.spec={[e]:this.value.spec[e]||(0,N.o8)(t)}}}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){return a(28431)(`./${e}`).default},launch(e){this.$refs.tabbed.select(e.name)},willSave(){const e=B().load(this.bufferYaml);C()(e)?delete this.value.spec[this.selectedProvider]["buffer"]:this.value.spec[this.selectedProvider].buffer=e,this.loggingType===U&&(this.value.spec["loggingRef"]="harvester-kube-audit-log-ref")},tabChanged({tab:e}){"buffer"===e.name&&this.$nextTick((()=>{this.$refs.yaml&&(this.$refs.yaml.refresh(),this.$refs.yaml.focus())}))},onYamlEditorReady(e){e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.execCommand("unfold")}}},T=(a(93459),a(47433));const O=(0,T.A)(L,[["render",d]]);var I=O},11682:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var l=a(9274);const o=["disabled","tooltip"],s={key:0,class:"icon icon-info"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("Loading"),c=(0,l.resolveComponent)("NameNsDescription"),u=(0,l.resolveComponent)("RouteConfig"),p=(0,l.resolveComponent)("Tab"),m=(0,l.resolveComponent)("router-link"),v=(0,l.resolveComponent)("ResourceTable"),h=(0,l.resolveComponent)("Tabbed"),b=(0,l.resolveComponent)("ActionMenu"),g=(0,l.resolveComponent)("CruResource"),f=(0,l.resolveDirective)("clean-tooltip");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(g,{key:1,class:"route","done-route":e.doneRoute,errors:e.errors,mode:e.mode,resource:e.value,subtypes:[],"cancel-event":!0,onError:t[2]||(t[2]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:e.value,mode:e.mode,namespaced:e.isNamespaced,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","namespaced"]),(0,l.createVNode)(h,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{label:e.t("monitoring.route.label"),weight:1,name:"route"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{value:e.value.spec.route,mode:e.mode,"receiver-options":n.receiverOptions},null,8,["value","mode","receiver-options"])])),_:1},8,["label"]),(0,l.createVNode)(p,{label:e.t("alertmanagerConfigReceiver.receivers"),weight:2,name:"receivers"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{headers:n.receiverTableHeaders,schema:n.receiverSchema,rows:e.value.spec.receivers||[],"get-custom-detail-link":i.getReceiverDetailLink,"table-actions":!1,"custom-actions":e.value.receiverActions,onClickedActionButton:i.setActionMenuState},{"header-button":(0,l.withCtx)((()=>[n.createReceiverLink&&n.createReceiverLink.name?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,to:e.mode!==n.create?n.createReceiverLink:{}},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{class:"btn role-primary",disabled:e.mode===n.create,tooltip:e.t("monitoring.alertmanagerConfig.disabledReceiverButton")},[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("monitoring.receiver.addReceiver"))+" ",1),e.mode===n.create?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("i",s,null,512)),[[f,e.t("monitoring.alertmanagerConfig.disabledReceiverButton")]]):(0,l.createCommentVNode)("",!0)],8,o)])),_:1},8,["to"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["headers","schema","rows","get-custom-detail-link","custom-actions","onClickedActionButton"])])),_:1},8,["label"])])),_:1}),(0,l.createVNode)(b,{"custom-actions":n.receiverActions,open:n.receiverActionMenuIsOpen,"use-custom-target-element":!0,"custom-target-element":n.actionMenuTargetElement,"custom-target-event":n.actionMenuTargetEvent,onClose:t[1]||(t[1]=e=>n.receiverActionMenuIsOpen=!1),onGoToEdit:i.goToEdit,onGoToEditYaml:i.goToEditYaml,onPromptRemove:i.promptRemove},null,8,["custom-actions","open","custom-target-element","custom-target-event","onGoToEdit","onGoToEditYaml","onPromptRemove"])])),_:1},8,["done-route","errors","mode","resource","onFinish","onCancel"]))}var n=a(22065),i=a(72706),d=a(4335),c=a(94877),u=a(20665),p=a(61856),m=a(11922),v=a(36316),h=a(83235);const b={class:"icon icon-info"},g={class:"row mb-20"},f={class:"col span-6"},y={class:"row mb-20"},k={class:"col span-6"},N={class:"label"},V={class:"icon icon-info"},E={class:"row mb-20"},w={class:"col span-6"},C={class:"col span-6"},S={class:"row mb-20"},B={class:"col span-6"},x={class:"row mt-20 mb-20"},A={class:"col span-4"},_={class:"col span-4"},D={class:"col span-4"};function U(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Banner"),i=(0,l.resolveComponent)("LabeledSelect"),d=(0,l.resolveComponent)("ArrayList"),c=(0,l.resolveComponent)("LabeledInput"),u=(0,l.resolveComponent)("ArrayListGrouped"),p=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,[t[6]||(t[6]=(0,l.createTextVNode)(" Receiver ")),(0,l.withDirectives)((0,l.createElementVNode)("i",b,null,512),[[p,e.t("monitoring.alertmanagerConfig.receiverTooltip")]])]),(0,l.createVNode)(n,{color:"info",label:e.t("monitoring.alertmanagerConfig.routeInfo")},null,8,["label"]),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(i,{value:a.value.receiver,"onUpdate:value":t[0]||(t[0]=e=>a.value.receiver=e),mode:a.mode,options:a.receiverOptions},null,8,["value","mode","options"])])]),t[7]||(t[7]=(0,l.createElementVNode)("h3",null,"Grouping",-1)),(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("div",k,[(0,l.createElementVNode)("span",N,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("monitoringRoute.groups.addGroupByLabel'"))+" ",1),(0,l.withDirectives)((0,l.createElementVNode)("i",V,null,512),[[p,e.t("monitoringRoute.groups.groupByTooltip")]])]),(0,l.createVNode)(d,{value:a.value.groupBy,"onUpdate:value":t[1]||(t[1]=e=>a.value.groupBy=e),class:"mt-10",mode:a.mode,"initial-empty-row":!0},null,8,["value","mode"])])]),t[8]||(t[8]=(0,l.createElementVNode)("h3",null,"Waiting and Intervals",-1)),(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createVNode)(c,{value:a.value.groupWait,"onUpdate:value":t[2]||(t[2]=e=>a.value.groupWait=e),label:e.t("monitoringRoute.wait.label"),mode:a.mode},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(c,{value:a.value.groupInterval,"onUpdate:value":t[3]||(t[3]=e=>a.value.groupInterval=e),label:e.t("monitoringRoute.interval.label"),mode:a.mode},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",B,[(0,l.createVNode)(c,{value:a.value.repeatInterval,"onUpdate:value":t[4]||(t[4]=e=>a.value.repeatInterval=e),label:e.t("monitoringRoute.repeatInterval.label"),mode:a.mode},null,8,["value","label","mode"])])]),t[9]||(t[9]=(0,l.createElementVNode)("h3",null,"Matchers",-1)),(0,l.createVNode)(u,{value:a.value.matchers,"onUpdate:value":t[5]||(t[5]=e=>a.value.matchers=e),class:"mt-20",mode:a.mode,"add-label":e.t("monitoringRoute.matching.addMatcher"),"default-add-value":{matchers:[]}},{default:(0,l.withCtx)((t=>[(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",A,[(0,l.createVNode)(c,{value:t.row.value.name,"onUpdate:value":e=>t.row.value.name=e,label:e.t("monitoringRoute.matching.name"),tooltip:e.t("monitoringRoute.matching.nameTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",_,[(0,l.createVNode)(c,{value:t.row.value.value,"onUpdate:value":e=>t.row.value.value=e,label:e.t("monitoringRoute.matching.value"),tooltip:e.t("monitoringRoute.matching.valueTooltip"),mode:a.mode},null,8,["value","onUpdate:value","label","tooltip","mode"])]),(0,l.createElementVNode)("div",D,[(0,l.createVNode)(i,{value:t.row.value.matchType,"onUpdate:value":e=>t.row.value.matchType=e,label:e.t("monitoringRoute.matching.matchType"),mode:a.mode,options:s.matchTypes},null,8,["value","onUpdate:value","label","mode","options"])])])])),_:1},8,["value","mode","add-label"])])}var M=a(61520),L=a(89121),T=a(5327),O=a(77562),I=a(71779),R=a(11331),$={components:{ArrayList:M.A,Banner:L.l,ArrayListGrouped:R.A,LabeledInput:T.o,LabeledSelect:O.A},props:{mode:{type:String,required:!0},value:{type:Object,required:!0},receiverOptions:{type:Array,required:!0}},data(){return this.value["matchers"]=this.value.matchers||[],this.value["groupBy"]=this.value.groupBy||[],{isView:I.nW,matchTypes:[{label:"Match Equal",value:"="},{label:"Match Not Equal",value:"!="},{label:"Match Regexp",value:"=~"},{label:"Match Not Regexp",value:"!~"}]}}},P=a(47433);const q=(0,P.A)($,[["render",U]]);var F=q,G=a(60712),K=a(57948),j={emits:["update:value"],components:{ActionMenu:K.A,CruResource:n.A,Loading:p.A,NameNsDescription:m.A,ResourceTable:G.A,RouteConfig:F,Tab:c.A,Tabbed:d.A},mixins:[i.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=this.value.id,a=await this.$store.dispatch(`${e}/find`,{type:u.Rp.ALERTMANAGERCONFIG,id:t});this.alertmanagerConfigId=t,this.alertmanagerConfigResource=a,this.alertmanagerConfigDetailRoute=a._detailLocation;const l=a.availableActions,o=a.getReceiverActions(l);this.receiverActions=o},data(){this.value.applyDefaults();const e={},t=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_RECEIVER_SPEC),a=this.$store.getters["harvester/schemaFor"](u.Rp.SPOOFED.ALERTMANAGERCONFIG_ROUTE_SPEC),l=(this.value?.spec?.receivers||[]).map((e=>e.name));return{actionMenuTargetElement:null,actionMenuTargetEvent:null,config:I.au,create:I.YQ,createReceiverLink:this.value.getCreateReceiverRoute(),defaultReceiverValues:e,receiverActionMenuIsOpen:!1,receiverTableHeaders:[{name:"name",labelKey:"tableHeaders.name",value:"name",sort:["nameSort"],formatter:"LinkDetail",canBeVariable:!0},{name:"type",labelKey:"tableHeaders.type",value:"name",formatter:"ReceiverIcons",canBeVariable:!0}],newReceiverType:null,receiverActions:[],receiverOptions:l,receiverTypes:h.RECEIVERS_TYPES,routeSchema:a,receiverSchema:t,selectedReceiverName:"",selectedRowValue:null,view:I.nW}},computed:{editorMode(){return this.mode===I.nW?v.j.VIEW_CODE:v.j.EDIT_CODE}},methods:{translateReceiverTypes(){return this.receiverTypes.map((e=>({...e,label:this.t(e.label)})))},getReceiverDetailLink(e){if(e&&e.name)return this.value.getReceiverDetailLink(e.name)},toggleReceiverActionMenu(){this.receiverActionMenuIsOpen=!0},setActionMenuState(e){const{event:t,targetElement:a}=e;if(!t||!a)throw new Error("Could not find action menu target element.");this.actionMenuTargetElement=a,this.actionMenuTargetEvent=t,this.selectedReceiverName=a.id.split("+").slice(2).join(""),this.toggleReceiverActionMenu()},goToEdit(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverConfigRoute(this.selectedReceiverName,I.G5))},goToEditYaml(){this.$router.push(this.alertmanagerConfigResource.getEditReceiverYamlRoute(this.selectedReceiverName,I.G5))},promptRemove(){const e=this.selectedReceiverName,t=this.alertmanagerConfigResource.spec.receivers||[],a=t.filter((t=>t.name!==e));this.alertmanagerConfigResource.spec.receivers=a,this.alertmanagerConfigResource.save(...arguments)}}};a(65548);const H=(0,P.A)(j,[["render",r],["__scopeId","data-v-34ffb89b"]]);var J=H},95516:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row mt-10"},n={class:"col span-6"},i={key:0,class:"row mt-10"},d={class:"col span-6"},c={key:1,class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("NameNsDescription"),g=(0,l.resolveComponent)("LabeledSelect"),f=(0,l.resolveComponent)("LabeledInput"),y=(0,l.resolveComponent)("Tab"),k=(0,l.resolveComponent)("RadioGroup"),N=(0,l.resolveComponent)("Tabbed"),V=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(V,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:h.saveNetwork},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{ref:"nd",value:a.value,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(N,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{value:v.type,"onUpdate:value":t[1]||(t[1]=e=>v.type=e),class:"mb-20",options:h.networkType,mode:e.mode,label:e.t("harvester.fields.type"),required:""},null,8,["value","options","mode","label"]),h.isUntaggedNetwork?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(f,{key:0,value:v.config.vlan,"onUpdate:value":[t[2]||(t[2]=e=>v.config.vlan=e),h.input],valueModifiers:{number:!0},class:"mb-20",required:"",type:"number",placeholder:"e.g. 1-4094",label:e.t("tableHeaders.networkVlan"),mode:e.mode},null,8,["value","label","mode","onUpdate:value"])),(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(g,{value:v.config.bridge,"onUpdate:value":t[3]||(t[3]=e=>v.config.bridge=e),class:"mb-20",label:e.t("harvester.network.clusterNetwork.label"),required:"",options:h.clusterNetworkOptions,mode:e.mode,placeholder:e.t("harvester.network.clusterNetwork.selectPlaceholder")},null,8,["value","label","options","mode","placeholder"])])])])),_:1},8,["label"]),h.isUntaggedNetwork?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(y,{key:0,name:"layer3Network",label:e.t("harvester.network.tabs.layer3Network"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(k,{value:v.layer3Network.mode,"onUpdate:value":t[4]||(t[4]=e=>v.layer3Network.mode=e),name:"layer3NetworkMode",label:e.t("harvester.network.layer3Network.mode.label"),mode:e.mode,options:h.modeOptions},null,8,["value","label","mode","options"])])]),"auto"===v.layer3Network.mode?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(f,{value:v.layer3Network.serverIPAddr,"onUpdate:value":t[5]||(t[5]=e=>v.layer3Network.serverIPAddr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.serverIPAddr.label"),mode:e.mode},null,8,["value","label","mode"])])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(f,{value:v.layer3Network.cidr,"onUpdate:value":t[6]||(t[6]=e=>v.layer3Network.cidr=e),class:"mb-20",label:e.t("harvester.network.layer3Network.cidr.label"),placeholder:e.t("harvester.network.layer3Network.cidr.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(f,{value:v.layer3Network.gateway,"onUpdate:value":t[7]||(t[7]=e=>v.layer3Network.gateway=e),class:"mb-20",label:e.t("harvester.network.layer3Network.gateway.label"),placeholder:e.t("harvester.network.layer3Network.gateway.placeholder"),mode:e.mode,required:""},null,8,["value","label","placeholder","mode"])])]))])),_:1},8,["label"]))])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])}var v=a(4335),h=a(94877),b=a(22065),g=a(5327),f=a(21221),y=a(11922),k=a(77562),N=a(2602),V=a(72706),E=a(63557),w=a(32766),C=a(41837);const{L2VLAN:S,UNTAGGED:B}=C.AW,x="auto",A="manual";var _={emits:["update:value"],components:{Tab:h.A,Tabbed:v.A,CruResource:b.A,LabeledInput:g.o,NameNsDescription:y.A,RadioGroup:f.z,LabeledSelect:k.A},mixins:[V.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){const e=JSON.parse(this.value.spec.config),t=this.value?.metadata?.annotations||{},a=JSON.parse(t[N.r.NETWORK_ROUTE]||"{}");(e.bridge||"").endsWith("-br")&&(e.bridge=e.bridge.slice(0,-3));const l=this.value.vlanType||S;return{config:e,type:l,layer3Network:{mode:a.mode||x,serverIPAddr:a.serverIPAddr||"",cidr:a.cidr||"",gateway:a.gateway||""}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,E.kR)({clusterNetworks:this.$store.dispatch(`${e}/findAll`,{type:w.rk.CLUSTER_NETWORK})})},created(){this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},computed:{modeOptions(){return[{label:this.t("harvester.network.layer3Network.mode.auto"),value:x},{label:this.t("harvester.network.layer3Network.mode.manual"),value:A}]},clusterNetworkOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](w.rk.CLUSTER_NETWORK)||[];return t.map((e=>{const t=!e.isReady;return{label:t?`${e.id} (${this.t("generic.notReady")})`:e.id,value:e.id,disabled:t}}))},networkType(){return[S,B]},isUntaggedNetwork(){return this.isView?this.value.vlanType===B:this.type===B}},methods:{async saveNetwork(e){const t=[];if(this.config.vlan||this.isUntaggedNetwork||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("tableHeaders.networkVlan")})),this.config.bridge||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.clusterNetwork.label")})),this.layer3Network.mode===A&&(this.layer3Network.gateway||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.gateway.label")})),this.layer3Network.cidr||t.push(this.$store.getters["i18n/t"]("validation.required",{key:this.t("harvester.network.layer3Network.cidr.label")}))),t.length>0)return e(!1),this.errors=t,!1;this.value.setAnnotation(N.r.NETWORK_ROUTE,JSON.stringify(this.layer3Network)),await this.save(e)},input(e){if(""===e)return void(this.config.vlan="");const t=Number(e);this.config.vlan=t>4094?4094:t<1?1:t},updateBeforeSave(){this.config.name=this.value.metadata.name,this.isUntaggedNetwork&&delete this.config.vlan,this.value.spec.config=JSON.stringify({...this.config,bridge:`${this.config.bridge}-br`})}}},D=a(47433);const U=(0,D.A)(_,[["render",m]]);var M=U},18796:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"banner"},s={class:"mb-30"},r={class:"row mb-30"},n={class:"col span-6"},i={class:"col span-6"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("MessageLink"),m=(0,l.resolveComponent)("Banner"),v=(0,l.resolveComponent)("RadioGroup"),h=(0,l.resolveComponent)("LabeledSelect"),b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("Tab"),f=(0,l.resolveComponent)("Tabbed"),y=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(y,{"done-route":e.doneRoute,resource:a.value,mode:a.mode,errors:e.errors,"apply-hooks":e.applyHooks,"validation-passed":u.canSave,onFinish:e.save,onError:t[6]||(t[6]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[u.isBackupTargetUnAvailable?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,color:"error"},{default:(0,l.withCtx)((()=>[u.isEmptyValue?((0,l.openBlock)(),(0,l.createBlock)(p,{key:0,to:u.toBackupTargetSetting,target:e._blank,"prefix-label":"harvester.backup.message.noSetting.prefix","middle-label":"harvester.backup.message.noSetting.middle","suffix-label":"harvester.schedule.message.noSetting.suffix"},null,8,["to","target"])):((0,l.openBlock)(),(0,l.createBlock)(p,{key:1,to:u.toBackupTargetSetting,"prefix-label":"harvester.backup.message.errorTip.prefix","middle-label":"harvester.backup.message.errorTip.middle"},{suffix:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("harvester.backup.message.errorTip.suffix"))+" "+(0,l.toDisplayString)(u.errorMessage),1)])),_:1},8,["to"]))])),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:a.value.spec.vmbackup.type,"onUpdate:value":t[0]||(t[0]=e=>a.value.spec.vmbackup.type=e),name:"model",options:u.scheduleTypeOptions,labels:[e.t("harvester.schedule.type.backup"),e.t("harvester.schedule.type.snapshot")],disabled:e.isEdit||e.isView,mode:a.mode,row:"",onInput:u.onTypeChange},null,8,["value","options","labels","disabled","mode","onInput"])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(h,{value:a.value.metadata.namespace,"onUpdate:value":t[1]||(t[1]=e=>a.value.metadata.namespace=e),label:e.t("nameNsDescription.namespace.label"),options:u.namespaces,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","options","disabled"])]),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{value:a.value.spec.vmbackup.source.name,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.vmbackup.source.name=e),label:e.t("harvester.schedule.virtualMachine.title"),placeholder:e.t("harvester.schedule.virtualMachine.placeholder"),options:u.vmOptions,required:"",disabled:u.isBackupTargetUnAvailable||e.isEdit||e.isView},null,8,["value","label","placeholder","options","disabled"])])])]),(0,l.createVNode)(f,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(g,{name:"basics",label:e.t("harvester.network.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{value:a.value.spec.cron,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.cron=e),class:"mb-30",type:"cron",required:"",mode:a.mode,label:e.t("harvester.schedule.cron"),placeholder:"0 * * * *",disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","mode","label","disabled"]),(0,l.createVNode)(b,{value:a.value.spec.retain,"onUpdate:value":t[4]||(t[4]=e=>a.value.spec.retain=e),valueModifiers:{number:!0},class:"mb-30",min:2,max:250,type:"number",label:e.t("harvester.schedule.retain.label"),required:"",tooltip:e.t("harvester.schedule.retain.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView},null,8,["value","label","tooltip","disabled"]),(0,l.createVNode)(b,{value:a.value.spec.maxFailure,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.maxFailure=e),valueModifiers:{number:!0},class:"mb-30",min:2,type:"number",label:e.t("harvester.schedule.maxFailure.label"),required:"",tooltip:e.t("harvester.schedule.maxFailure.tooltip"),disabled:u.isBackupTargetUnAvailable||e.isView,onInput:u.validateFailure},null,8,["value","label","tooltip","disabled","onInput"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","apply-hooks","validation-passed","onFinish"])}var c=a(21221),u=a(89121),p=a(5327),m=a(22065),v=a(4335),h=a(94877),b=a(37752),g=a(77562),f=a(72706),y=a(37021),k=a.n(y);function N(e=""){try{const t=k().toString(e);return!!t}catch(t){return!1}}var V=a(20652),E=a(63557),w=a(32766),C=a(73331),S=a(41837),B=a(71779),x={name:"CreateVMSchedule",components:{CruResource:m.A,Tabbed:v.A,Tab:h.A,RadioGroup:c.z,LabeledInput:p.o,LabeledSelect:g.A,MessageLink:b.A,Banner:u.l},mixins:[f.A],inheritAttrs:!1,async fetch(){const e=await(0,E.kR)({settings:this.$store.dispatch("harvester/findAll",{type:w.rk.SETTING}),vms:this.$store.dispatch("harvester/findAll",{type:w.rk.VM})});this.allVms=e.vms,this.settings=e.settings},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}},data(){if(this.mode===B.YQ){const e=this.$store.getters["defaultNamespace"],t=this.$route.query?.vmNamespace||e,a=this.$route.query?.vmName;delete this.value.metadata.annotations,delete this.value.metadata.labels,this.value["metadata"]={namespace:t,name:a?`svmbackup-${a}`:""},this.value.spec||(this.value["spec"]={cron:"",retain:8,maxFailure:4,vmbackup:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:a||""},type:S.aS.BACKUP}})}return{settings:[]}},computed:{backupTargetResource(){return this.settings.find((e=>"backup-target"===e.id))},isEmptyValue(){return this.getBackupTargetValueIsEmpty(this.backupTargetResource)},canUpdate(){return this?.backupTargetResource?.canUpdate},errorMessage(){return this.backupTargetResource?.errMessage},canSave(){return!!this.value.spec.cron&&N(this.value.spec.cron)&&!!this.value.metadata.name&&!!this.value.metadata.namespace&&!!this.value.spec.retain&&!!this.value.spec.maxFailure},isBackupTargetUnAvailable(){return this.value.spec.vmbackup.type===S.aS.BACKUP&&(this.errorMessage||this.isEmptyValue)&&this.canUpdate},vmOptions(){const e=this.$store.getters["harvester/all"](w.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace)),t=e.map((e=>({label:e.nameDisplay,value:e.name})));return(0,C.Ul)(t,"label")},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,C.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t},toBackupTargetSetting(){const{cluster:e}=this.$router?.currentRoute?.params||{};return{name:`${V.KR}-c-cluster-resource-id`,params:{resource:`${w.rk.SETTING}`,cluster:e,id:"backup-target"},query:{mode:B.G5}}},scheduleTypeOptions(){return[S.aS.BACKUP,S.aS.SNAPSHOT]}},watch:{"value.metadata.namespace"(){this.value.spec.vmbackup.source.name=""},"value.spec.vmbackup.source.name"(e){this.value.metadata.name=`svm${this.value.spec.vmbackup.type}-${e}`}},methods:{onTypeChange(e){this.value.metadata.name=`svm${e}-${this.value.spec.vmbackup.source.name}`},getBackupTargetValueIsEmpty(e){let t=!0;if(e?.value)try{const a=JSON.parse(e?.value);t=!a.type}catch(a){}return t},validateFailure(e){this.value.spec.retain&&e>this.value.spec.retain&&(this.value.spec["maxFailure"]=this.value.spec.retain)}}},A=a(47433);const _=(0,A.A)(x,[["render",d]]);var D=_},41398:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={class:"filled-height"};function s(e,t,a,s,r,n){const i=(0,l.resolveComponent)("Loading"),d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("Tab"),u=(0,l.resolveComponent)("Labels"),p=(0,l.resolveComponent)("Tabbed"),m=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("form",o,[e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,mode:e.mode,"validation-passed":!0,"selected-subtype":e.value._type,resource:e.value,errors:e.errors,onFinish:n.saveSecret,onError:t[2]||(t[2]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!r.isCloud,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","namespaced"]),t[3]||(t[3]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),r.isCloud?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(n.cloudComponent),{key:0,ref:"cloudComponent","driver-name":n.driverName,value:e.value,mode:e.mode,"hide-sensitive-data":n.hideSensitiveData},null,8,["driver-name","value","mode","hide-sensitive-data"])):((0,l.openBlock)(),(0,l.createBlock)(p,{key:1,"side-tabs":!0,"default-tab":"data"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{name:"data",label:n.dataLabel,weight:99},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(n.dataComponent),{value:e.value,mode:e.mode,"hide-sensitive-data":n.hideSensitiveData},null,8,["value","mode","hide-sensitive-data"]))])),_:1},8,["label"]),(0,l.createVNode)(c,{name:"labels","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode},null,8,["value","mode"])])),_:1})])),_:1}))])),_:1},8,["mode","selected-subtype","resource","errors","onFinish"]))])}var r=a(86310),n=a(20665),i=a(72706),d=a(11922),c=a(5327),u=a(77562),p=a(22065),m=a(71779),v=a(61856),h=a(4335),b=a(94877),g=a(55659),f=a(85401),y=a(55190),k=a(26812),N=a(9981),V=a(77085),E=a(41594),w={name:"CruSecret",emits:["update:value"],components:{LabeledInput:c.o,LabeledSelect:u.A,Loading:v.A,NameNsDescription:d.A,CruResource:p.A,Tabbed:h.A,Tab:b.A,Labels:g.A,SelectIconGrid:V.A},mixins:[i.A],inheritAttrs:!1,async fetch(){this.isCloud&&(this.nodeDrivers=await this.$store.dispatch("management/findAll",{type:n.Mc.NODE_DRIVER}))},data(){const e=this.$route.query[m.Sd]===m.Qp,t=this.mode===m.G5&&this.value._type===r.J.CLOUD_CREDENTIAL,a=this.realMode===m.dT&&this.liveValue._type===r.J.CLOUD_CREDENTIAL,l=e||t||a;e&&(this.value.metadata.namespace=n.eo,this.value.metadata["name"]="",this.value["data"]={});const o=[{label:"Custom",value:"custom"},{label:"divider",disabled:!0,kind:"divider"}];return Object.values(r.J).forEach((e=>{o.push({label:e,value:e})})),this.mode===m.YQ&&(this.value["_type"]=r.J.OPAQUE),{isCloud:l,nodeDrivers:null,secretTypes:o,secretType:this.value._type,initialSecretType:this.value._type}},computed:{typeKey(){if(this.isCloud)return"cloud";switch(this.value._type){case r.J.TLS:return"tls";case r.J.BASIC:return"basic";case r.J.DOCKER_JSON:return"registry";case r.J.SSH:return"ssh"}return"generic"},dataComponent(){return a(48254)(`./${this.typeKey}`).default},driverName(){const e=this.value.metadata?.annotations?.[y.qt.CREDENTIAL_DRIVER];return e},cloudComponent(){const e=this.driverName,t=this.$store.getters["plugins/credentialDrivers"];return t.includes(e)?(0,N.qq)(e):(0,N.qq)("generic")},namespaces(){return this.$store.getters["cluster/all"](n.CU).map((e=>({label:e.nameDisplay,value:e.id})))},hideSensitiveData(){return this.$store.getters["prefs/get"](f.qv)},dataLabel(){switch(this.value._type){case r.J.TLS:return this.t("secret.certificate.certificate");case r.J.SSH:return this.t("secret.ssh.keys");case r.J.BASIC:return this.t("secret.authentication");default:return this.t("secret.data")}}},created(){this.registerAfterHook((()=>{const e=this.$store.getters["allNamespaces"],t=e.find((e=>"default"===e.id)),a=t?.id||e?.[0]?.id||"";this.value.$dispatch("prefs/set",{key:f.Ri,value:a},{root:!0})}))},methods:{async saveSecret(e){if(this.errors&&(0,k.IU)(this.errors),"function"===typeof this.$refs.cloudComponent?.test)try{const t=await this.$refs.cloudComponent.test();if(!t||t?.errors)return this.errors=t?.errors?t.errors:["Authentication test failed, please check your credentials"],void e(!1)}catch(t){return this.errors=[t],void e(!1)}return this.save(e)},typeDisplay(e,t){if(e===y.qt.CREDENTIAL_DRIVER)return this.$store.getters["i18n/withFallback"](`cluster.provider."${t}"`,null,t);{const t=e.replace(/^kubernetes.io\//,"");return this.$store.getters["i18n/withFallback"](`secret.types."${e}"`,null,t)}},initialDisplayFor(e){const t=((0,E.TF)(this.typeDisplay(e)||"").replace(/[^A-Z]/g,"")||e).substr(0,3);return this.$store.getters["i18n/withFallback"](`secret.initials."${e}"`,null,t)},selectCustomType(e){"custom"!==e&&(this.value["_type"]=e)}}},C=a(47433);const S=(0,C.A)(w,[["render",s]]);var B=S},56726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o={key:0,class:"edit-help"},s={class:"edit-change mt-20"},r=["disabled"],n={class:"mt-20"},i={key:0},d={key:1},c={key:2},u={key:3},p={key:4};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("LabeledSelect"),g=(0,l.resolveComponent)("RadioGroup"),f=(0,l.resolveComponent)("TextAreaAutoGrow"),y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("CruResource"),N=(0,l.resolveDirective)("clean-html"),V=(0,l.resolveDirective)("t");return(0,l.openBlock)(),(0,l.createBlock)(k,{class:"route",errors:v.errors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"cancel-event":!0,onError:t[6]||(t[6]=e=>v.errors=e),onFinish:h.saveSettings,onCancel:h.done},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("h4",null,null,512),[[N,v.description]]),v.editHelp?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("h5",o,null,512)),[[N,v.editHelp]]):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",s,[(0,l.withDirectives)((0,l.createElementVNode)("h5",null,null,512),[[V,"advancedSettings.edit.changeSetting"]]),(0,l.createElementVNode)("button",{disabled:!v.canReset,type:"button",class:"btn role-primary",onClick:t[0]||(t[0]=(...e)=>h.useDefault&&h.useDefault(...e))},(0,l.toDisplayString)(e.t("advancedSettings.edit.useDefault")),9,r)]),(0,l.createElementVNode)("div",n,["import"===v.setting.from?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[v.hasCustomComponent?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(v.customComponent),{key:0,ref:"settingComp",value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),"register-before-hook":e.registerBeforeHook,mode:e.mode},null,40,["value","register-before-hook","mode"])):(0,l.createCommentVNode)("",!0)])):"enum"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createVNode)(b,{value:e.value.value,"onUpdate:value":t[2]||(t[2]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value"),"localized-label":!0,mode:e.mode,options:v.enumOptions},null,8,["value","label","mode","options"])])):"boolean"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createVNode)(g,{value:e.value.value,"onUpdate:value":t[3]||(t[3]=t=>e.value.value=t),name:"settings_value",labels:[e.t("advancedSettings.edit.trueOption"),e.t("advancedSettings.edit.falseOption")],options:["true","false"]},null,8,["value","labels"])])):"multiline"===v.setting.kind||"json"===v.setting.kind?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[(0,l.createVNode)(f,{value:e.value.value,"onUpdate:value":t[4]||(t[4]=t=>e.value.value=t),"min-height":254},null,8,["value"])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createVNode)(y,{value:e.value.value,"onUpdate:value":t[5]||(t[5]=t=>e.value.value=t),label:e.t("advancedSettings.edit.value")},null,8,["value","label"])]))])])),_:1},8,["errors","mode","resource","onFinish","onCancel"])}var v=a(22065),h=a(21221),b=a(5327),g=a(77562),f=a(57848),y=a(72706),k=a(50889),N={components:{CruResource:v.A,LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:h.z,TextAreaAutoGrow:f.V},mixins:[y.A],inheritAttrs:!1,data(){const e=this.$store.getters["i18n/t"],t=k.gh[this.value.id]||k.LP[this.value.id];let l=[];"enum"===t.kind&&(l=t.options.map((e=>({label:`advancedSettings.enum.harv-${this.value.id}.${e}`,value:e}))));const o=t.canReset||!!this.value.default||this.value.canReset;void 0===this.value.value&&(this.value["value"]=null),this.value.value=this.value.value||this.value.default||"";const s=this.value.value,r=this.value?.type?.includes("harvesterhci"),n=a(26190).keys().map((e=>e.replace(/(\.\/)|(.vue)/g,"")));return{setting:t,description:e(r?`advancedSettings.descriptions.harv-${this.value.id}`:`advancedSettings.descriptions.${this.value.id}`),editHelp:e(`advancedSettings.editHelp.${this.value.id}`),enumOptions:l,canReset:o,errors:[],hasCustomComponent:!1,customComponent:null,customSettingComponents:n,oldValue:s}},computed:{doneLocationOverride(){return this.value.doneOverride}},created(){let e=!1;const t=this.customSettingComponents.includes(this.value.id);if(t)try{e=a(88292)(`./${this.value.id}.vue`).default}catch{}else{const t=this.$route.params.resource,l=this.value.metadata.name;try{e=a(80373)(`./${t}/${l}.vue`).default}catch{}}this.hasCustomComponent=!!e,this.customComponent=e,this.registerAfterHook((()=>{this.value.id===k.EP.RANCHER_MANAGER_SUPPORT&&this.$store.commit("isRancherInHarvester","true"===this.value.value)}))},methods:{done(){this.$router.go(-1)},async saveSettings(e){const t=this.$store.getters["i18n/t"];if("json"===this.setting.kind&&this.value.default)try{JSON.parse(this.value.value),this.errors=[]}catch(a){return this.errors=[t("advancedSettings.edit.invalidJSON")],e(!1)}this.value.metadata.name===k.EP.CLUSTER_REGISTRATION_URL&&this.oldValue&&this.value.value!==this.oldValue&&await this.clusterRegistrationUrlTip(),this.save(e)},clusterRegistrationUrlTip(){return new Promise((e=>{this.$store.dispatch("harvester/promptModal",{component:"MessageBox",callback:t=>{"ok"===t&&e()},contentKey:"harvester.setting.clusterRegistrationUrl.message"},{root:!0})}))},useDefault(e){e&&e.srcElement&&e.srcElement.blur(),this.value.id===k.EP.VLAN?(this.value.enable=!1,this.value.config&&(this.value.config.defaultPhysicalNIC="")):this.value.value=this.value.default||"","function"===typeof this.$refs.settingComp?.useDefault&&this.$refs.settingComp.useDefault()}}},V=(a(97596),a(47433));const E=(0,V.A)(N,[["render",m],["__scopeId","data-v-01b4cf42"]]);var w=E},39808:function(e,t,a){"use strict";a.r(t),a.d(t,{LVM_TOPOLOGY_LABEL:function(){return O},default:function(){return G}});var l=a(9274);const o={class:"row mt-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-20"},i={class:"col span-6"},d={class:"box"},c={class:"row"},u={class:"col span-4 key"},p={class:"col span-8 value"},m={class:"row custom-headers"},v={class:"col span-4 key"},h={class:"col span-8 value"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("Loading"),k=(0,l.resolveComponent)("NameNsDescription"),N=(0,l.resolveComponent)("LabeledSelect"),V=(0,l.resolveComponent)("Tab"),E=(0,l.resolveComponent)("RadioGroup"),w=(0,l.resolveComponent)("LabeledInput"),C=(0,l.resolveComponent)("Tags"),S=(0,l.resolveComponent)("ArrayList"),B=(0,l.resolveComponent)("Tabbed"),x=(0,l.resolveComponent)("CruResource");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(y,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(x,{key:1,"done-route":e.doneRoute,mode:e.mode,resource:e.value,subtypes:[],"validation-passed":!0,"apply-hooks":e.applyHooks,errors:e.errors,onError:t[6]||(t[6]=t=>e.errors=t),onFinish:e.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{namespaced:!1,value:e.value,mode:e.mode,"register-before-hook":e.registerBeforeHook,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","register-before-hook"]),(0,l.createVNode)(N,{value:g.provisioner,"onUpdate:value":t[1]||(t[1]=e=>g.provisioner=e),label:"Provisioner",options:f.provisioners,"localized-label":!0,mode:f.modeOverride,searchable:!0,taggable:!0,class:"mb-20"},null,8,["value","options","mode"]),(0,l.createVNode)(B,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(V,{name:"parameters",label:e.t("storageClass.parameters.label"),weight:2},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(f.getComponent(g.provisioner)),{key:g.provisioner,value:e.value,mode:f.modeOverride,"real-mode":e.realMode},null,8,["value","mode","real-mode"]))])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"customize",label:e.t("storageClass.customize.label")},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(E,{value:e.value.reclaimPolicy,"onUpdate:value":t[2]||(t[2]=t=>e.value.reclaimPolicy=t),name:"reclaimPolicy",label:e.t("storageClass.customize.reclaimPolicy.label"),mode:f.modeOverride,options:g.reclaimPolicyOptions},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(E,{value:e.value.allowVolumeExpansion,"onUpdate:value":t[3]||(t[3]=t=>e.value.allowVolumeExpansion=t),name:"allowVolumeExpansion",label:e.t("storageClass.customize.allowVolumeExpansion.label"),mode:f.modeOverride,options:g.allowVolumeExpansionOptions},null,8,["value","label","mode","options"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(E,{value:e.value.volumeBindingMode,"onUpdate:value":t[4]||(t[4]=t=>e.value.volumeBindingMode=t),name:"volumeBindingMode",label:e.t("storageClass.customize.volumeBindingMode.label"),mode:f.modeOverride,options:g.volumeBindingModeOptions,disabled:g.provisioner===g.LVM_DRIVER},null,8,["value","label","mode","options","disabled"])])])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"allowedTopologies",label:e.t("harvester.storage.allowedTopologies.title"),weight:-1,tooltip:e.t("harvester.storage.allowedTopologies.tooltip")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(S,{value:g.allowedTopologies,"onUpdate:value":t[5]||(t[5]=e=>g.allowedTopologies=e),"default-add-value":g.defaultAddValue,"initial-empty-row":!0,"show-header":!0,mode:f.modeOverride},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createTextVNode)((0,l.toDisplayString)(e.t("generic.key"))+" ",1),t[7]||(t[7]=(0,l.createElementVNode)("span",{class:"required"},"*",-1))]),(0,l.createElementVNode)("div",p,(0,l.toDisplayString)(e.t("generic.value")),1)])])])),columns:(0,l.withCtx)((t=>[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(w,{value:t.row.value.key,"onUpdate:value":e=>t.row.value.key=e,required:!0,mode:f.modeOverride},null,8,["value","onUpdate:value","mode"])]),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(C,{value:t.row.value.values,"onUpdate:value":e=>t.row.value.values=e,"add-label":e.t("generic.add"),mode:f.modeOverride},null,8,["value","onUpdate:value","add-label","mode"])])])])),_:1},8,["value","default-add-value","mode"])])),_:1},8,["label","tooltip"])])),_:1})])),_:1},8,["done-route","mode","resource","apply-hooks","errors","onFinish","onCancel"]))}var g=a(72706),f=a(22065),y=a(11922),k=a(61520),N=a(94877),V=a(4335),E=a(21221),w=a(45408),C=a(77562),S=a(61856),B=a(71779),x=a(58784),A=a(20665),_=a(63557),D=a(92590),U=a(32766),M=a(49306),L=a(15908),T=a(82877);const O="topology.lvm.csi/node",I="longhorn-system/v2-data-engine",R="Immediate",$="WaitForFirstConsumer";var P={name:"HarvesterStorage",emits:["update:value"],components:{ArrayList:k.A,CruResource:f.A,LabeledSelect:C.A,LabeledInput:w.A,NameNsDescription:y.A,RadioGroup:E.z,Tab:N.A,Tabbed:V.A,Loading:S.A,Tags:M.A},mixins:[g.A],inheritAttrs:!1,data(){const e=[{label:this.t("storageClass.customize.reclaimPolicy.delete"),value:"Delete"},{label:this.t("storageClass.customize.reclaimPolicy.retain"),value:"Retain"}],t=[{label:this.t("generic.enabled"),value:!0},{label:this.t("generic.disabled"),value:!1}],a=[{label:this.t("storageClass.customize.volumeBindingMode.now"),value:R},{label:this.t("harvester.storage.customize.volumeBindingMode.later"),value:$}],l=(0,D.o8)(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key!==O));this.value["parameters"]=this.value.parameters||{},this.value["provisioner"]=this.value.provisioner||A.lI,this.value["allowVolumeExpansion"]=this.value.allowVolumeExpansion||t[0].value,this.value["reclaimPolicy"]=this.value.reclaimPolicy||e[0].value,this.value.provisioner===A.lI&&(this.value["parameters"]["dataEngine"]=this.value.longhornVersion,this.value["volumeBindingMode"]=this.value.volumeBindingMode||R),this.value.provisioner===T.LVM_DRIVER&&(this.value["volumeBindingMode"]=this.value.volumeBindingMode||$);let o=`${this.value.provisioner||A.lI}`;return o===A.lI&&(o=`${o}_${this.value.longhornVersion}`),{LVM_DRIVER:T.LVM_DRIVER,reclaimPolicyOptions:e,allowVolumeExpansionOptions:t,volumeBindingModeOptions:a,mountOptions:[],STORAGE_CLASS:A.fJ,provisioner:o,allowedTopologies:l,defaultAddValue:{key:"",values:[]}}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={namespaces:this.$store.dispatch(`${e}/findAll`,{type:A.CU}),storages:this.$store.dispatch(`${e}/findAll`,{type:A.fJ}),longhornNodes:this.$store.dispatch(`${e}/findAll`,{type:A.oe.NODES}),csiDrivers:this.$store.dispatch(`${e}/findAll`,{type:U.Zq})};this.value.longhornV2LVMSupport&&(t.longhornV2DataEngine=this.$store.dispatch(`${e}/find`,{type:A.oe.SETTINGS,id:I})),this.value.volumeEncryptionFeatureEnabled&&(t.secrets=this.$store.dispatch(`${e}/findAll`,{type:A.bB})),await(0,_.kR)(t)},computed:{showUnsupportedStorage:(0,x.r$)(x.Wt),inStore(){return this.$store.getters["currentProduct"].inStore},modeOverride(){return this.isCreate?B.YQ:B.nW},provisioners(){const e=[],t=this.$store.getters["currentProduct"].inStore,a=this.$store.getters[`${t}/all`](U.Zq)||[];return a.forEach((({name:t})=>{switch(t){case A.lI:e.push({label:`harvester.storage.storageClass.longhorn.${L.DATA_ENGINE_V1}.label`,value:`${t}_${L.DATA_ENGINE_V1}`}),this.longhornSystemVersion!==L.DATA_ENGINE_V2&&this.value.longhornVersion!==L.DATA_ENGINE_V2||e.push({label:`harvester.storage.storageClass.longhorn.${L.DATA_ENGINE_V2}.label`,value:`${t}_${L.DATA_ENGINE_V2}`});break;case T.LVM_DRIVER:e.push({label:"harvester.storage.storageClass.lvm.label",value:t});break}})),e},schema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/schemaFor`](A.fJ)},longhornSystemVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](A.oe.SETTINGS,I)||{};return"true"===t.value?L.DATA_ENGINE_V2:L.DATA_ENGINE_V1}},watch:{provisioner(e){const[t,a]=e?.split("_");let l={};if(t===T.LVM_DRIVER){const e=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key!==O));e.length>0?this.value["allowedTopologies"]=[{matchLabelExpressions:e}]:delete this.value.allowedTopologies,this.value["volumeBindingMode"]=$}t===A.lI&&(l={dataEngine:a},this.value["volumeBindingMode"]=R),this.value["provisioner"]=t,this.value["allowVolumeExpansion"]=this.value.provisioner===A.lI,this.value["parameters"]=l}},created(){this.registerBeforeHook(this.willSave,"willSave")},methods:{getComponent(e){try{return a(6232)(`./${e}`).default}catch{return a(43868)["default"]}},willSave(){Object.keys(this.value.parameters).forEach((e=>{null!==this.value.parameters[e]&&""!==this.value.parameters[e]||delete this.value.parameters[e]})),this.formatAllowedTopoloties()},formatAllowedTopoloties(){const e=this.allowedTopologies.filter((e=>e.key!==O)),t=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).filter((e=>e.key===O));if(!e||0===e.length)return void(t.length>0?this.value.allowedTopologies=[{matchLabelExpressions:t}]:delete this.value.allowedTopologies);const a=e.filter((e=>!!e.key.trim()&&e.values.length>0&&!e.values.find((e=>!e.trim()))));a.length>0&&(this.value.allowedTopologies=[{matchLabelExpressions:[...a,...t]}])}}},q=(a(83219),a(47433));const F=(0,q.A)(P,[["render",b],["__scopeId","data-v-4918df50"]]);var G=F},43868:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createBlock)(n,{value:a.value.parameters,"onUpdate:value":t[0]||(t[0]=e=>a.value.parameters=e),"add-label":e.t("storageClass.custom.addLabel"),"read-allowed":!1,mode:a.mode},null,8,["value","add-label","mode"])}var s=a(85905),r={components:{KeyValue:s.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0}}},n=a(47433);const i=(0,n.A)(r,[["render",o]]);var d=i},30050:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"},u={key:0,class:"text-muted"},p={class:"row mt-20"},m={class:"row mt-20"},v={key:0,class:"row mt-20"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("LabeledSelect"),N=(0,l.resolveComponent)("RadioGroup"),V=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(y,{value:f.numberOfReplicas,"onUpdate:value":t[0]||(t[0]=e=>f.numberOfReplicas=e),label:e.t("harvester.storage.parameters.numberOfReplicas.label"),required:!0,mode:a.mode,min:"1",max:"3",type:"number"},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(y,{value:a.value.parameters.staleReplicaTimeout,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.staleReplicaTimeout=e),label:e.t("harvester.storage.parameters.staleReplicaTimeout.label"),required:!0,mode:a.mode,type:"number"},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:f.nodeSelector,"onUpdate:value":t[2]||(t[2]=e=>f.nodeSelector=e),label:e.t("harvester.storage.parameters.nodeSelector.label"),options:f.nodeTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(e.t("harvester.storage.parameters.nodeSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:f.diskSelector,"onUpdate:value":t[3]||(t[3]=e=>f.diskSelector=e),label:e.t("harvester.storage.parameters.diskSelector.label"),options:f.diskTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",u,(0,l.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:a.value.parameters.migratable,"onUpdate:value":t[4]||(t[4]=e=>a.value.parameters.migratable=e),name:"layer3NetworkMode",label:e.t("harvester.storage.parameters.migratable.label"),mode:a.mode,options:f.migratableOptions},null,8,["value","label","mode","options"])]),a.value.volumeEncryptionFeatureEnabled?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(N,{value:f.volumeEncryption,"onUpdate:value":t[5]||(t[5]=e=>f.volumeEncryption=e),name:"volumeEncryption",label:e.t("harvester.storage.volumeEncryption"),mode:a.mode,options:f.volumeEncryptionOptions},null,8,["value","label","mode","options"])]),"true"===a.value.parameters.encrypted?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(k,{value:f.secret,"onUpdate:value":t[6]||(t[6]=e=>f.secret=e),label:e.t("harvester.storage.secret"),options:f.secretOptions,mode:a.mode},null,8,["value","label","options","mode"])])])):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(V,{value:f.parameters,"onUpdate:value":t[7]||(t[7]=e=>f.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var g=a(85905),f=a(77562),y=a(5327),k=a(75933),N=a(20665),V=a(71779),E=a(66905),w=a(92590),C=a(26812),S=a(15908);const{CSI_PROVISIONER_SECRET_NAME:B,CSI_PROVISIONER_SECRET_NAMESPACE:x,CSI_NODE_PUBLISH_SECRET_NAME:A,CSI_NODE_PUBLISH_SECRET_NAMESPACE:_,CSI_NODE_STAGE_SECRET_NAME:D,CSI_NODE_STAGE_SECRET_NAMESPACE:U}=E.Et;var M={name:"DriverLonghornIOV1",components:{KeyValue:g.A,LabeledSelect:f.A,LabeledInput:y.o,RadioGroup:k.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},data(){return this.realMode===V.YQ&&(this.value["parameters"]={numberOfReplicas:"3",staleReplicaTimeout:"30",diskSelector:null,nodeSelector:null,encrypted:"false",migratable:"true",dataEngine:S.DATA_ENGINE_V1}),{}},computed:{secrets(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.bB);return t.filter((e=>!1===e.isSystem))},longhornNodes(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](N.oe.NODES)},nodeTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.tags||[];return(0,C.sb)([...e,...a])}),[])},diskTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.disks,l=Object.keys(a).reduce(((e,t)=>{const l=a[t]?.tags||[];return(0,C.sb)([...e,...l])}),[]);return(0,C.sb)([...e,...l])}),[])},isView(){return this.mode===V.nW},migratableOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},secretOptions(){return this.secrets.map((e=>e.id))},volumeEncryptionOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},parameters:{get(){const e=(0,w.o8)(this.value?.parameters)||{},t=["numberOfReplicas","staleReplicaTimeout","diskSelector","nodeSelector","migratable",...this.value.volumeEncryptionFeatureEnabled?["encrypted","dataEngine"]:[]];return[...t,...Object.values(E.Et)].forEach((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}},volumeEncryption:{set(e){this.value["parameters"]={...this.value.parameters,encrypted:e}},get(){return this.value?.parameters?.encrypted||"false"}},secret:{get(){const e=this.value.parameters[x],t=this.value.parameters[B];return e&&t?`${e}/${t}`:""},set(e){const[t,a]=e.split("/");this.value["parameters"]={...this.value.parameters,[B]:a,[A]:a,[D]:a,[x]:t,[_]:t,[U]:t}}},nodeSelector:{get(){const e=this.value?.parameters?.nodeSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.nodeSelector=(e||[]).join(",")}},diskSelector:{get(){const e=this.value?.parameters?.diskSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.diskSelector=(e||[]).join(",")}},numberOfReplicas:{get(){return this.value?.parameters?.numberOfReplicas},set(e){e>=1&&e<=3&&(this.value.parameters.numberOfReplicas=String(e))}}}},L=(a(20545),a(47433));const T=(0,L.A)(M,[["render",b],["__scopeId","data-v-8c848812"]]);var O=T},42822:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"},u={key:0,class:"text-muted"},p={class:"row mt-20"},m={class:"row mt-20"},v={key:0,class:"row mt-20"},h={class:"col span-6"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("LabeledInput"),k=(0,l.resolveComponent)("LabeledSelect"),N=(0,l.resolveComponent)("RadioGroup"),V=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(y,{value:f.numberOfReplicas,"onUpdate:value":t[0]||(t[0]=e=>f.numberOfReplicas=e),label:e.t("harvester.storage.parameters.numberOfReplicas.label"),required:!0,mode:a.mode,min:"1",max:"3",type:"number"},null,8,["value","label","mode"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(y,{value:a.value.parameters.staleReplicaTimeout,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.staleReplicaTimeout=e),label:e.t("harvester.storage.parameters.staleReplicaTimeout.label"),required:!0,mode:a.mode,type:"number"},null,8,["value","label","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(k,{value:f.nodeSelector,"onUpdate:value":t[2]||(t[2]=e=>f.nodeSelector=e),label:e.t("harvester.storage.parameters.nodeSelector.label"),options:f.nodeTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(e.t("harvester.storage.parameters.nodeSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(k,{value:f.diskSelector,"onUpdate:value":t[3]||(t[3]=e=>f.diskSelector=e),label:e.t("harvester.storage.parameters.diskSelector.label"),options:f.diskTags,taggable:!0,multiple:!0,mode:a.mode},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",u,(0,l.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(N,{value:a.value.parameters.migratable,"onUpdate:value":t[4]||(t[4]=e=>a.value.parameters.migratable=e),name:"layer3NetworkMode",label:e.t("harvester.storage.parameters.migratable.label"),mode:a.mode,options:f.migratableOptions,disabled:!a.value.thirdPartyStorageFeatureEnabled},null,8,["value","label","mode","options","disabled"])]),(0,l.createElementVNode)("div",m,[(0,l.createVNode)(N,{value:f.volumeEncryption,"onUpdate:value":t[5]||(t[5]=e=>f.volumeEncryption=e),name:"volumeEncryption",label:e.t("harvester.storage.volumeEncryption"),mode:a.mode,options:f.volumeEncryptionOptions,disabled:!0},null,8,["value","label","mode","options"])]),"true"===a.value.parameters.encrypted?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(k,{value:f.secret,"onUpdate:value":t[6]||(t[6]=e=>f.secret=e),label:e.t("harvester.storage.secret"),options:f.secretOptions,mode:a.mode},null,8,["value","label","options","mode"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(V,{value:f.parameters,"onUpdate:value":t[7]||(t[7]=e=>f.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var g=a(85905),f=a(77562),y=a(5327),k=a(75933),N=a(20665),V=a(71779),E=a(66905),w=a(92590),C=a(26812),S=a(15908);const B=["numberOfReplicas","staleReplicaTimeout","diskSelector","nodeSelector","migratable","encrypted","dataEngine"],{CSI_PROVISIONER_SECRET_NAME:x,CSI_PROVISIONER_SECRET_NAMESPACE:A,CSI_NODE_PUBLISH_SECRET_NAME:_,CSI_NODE_PUBLISH_SECRET_NAMESPACE:D,CSI_NODE_STAGE_SECRET_NAME:U,CSI_NODE_STAGE_SECRET_NAMESPACE:M}=E.Et;var L={name:"DriverLonghornIOV2",components:{KeyValue:g.A,LabeledSelect:f.A,LabeledInput:y.o,RadioGroup:k.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},data(){return this.realMode===V.YQ&&(this.value["parameters"]={numberOfReplicas:"3",staleReplicaTimeout:"30",diskSelector:null,nodeSelector:null,encrypted:"false",migratable:this.value.thirdPartyStorageFeatureEnabled?"true":"false",dataEngine:S.DATA_ENGINE_V2}),{}},computed:{secrets(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](N.bB);return t.filter((e=>!1===e.isSystem))},longhornNodes(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](N.oe.NODES)},nodeTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.tags||[];return(0,C.sb)([...e,...a])}),[])},diskTags(){return(this.longhornNodes||[]).reduce(((e,t)=>{const a=t.spec?.disks,l=Object.keys(a).reduce(((e,t)=>{const l=a[t]?.tags||[];return(0,C.sb)([...e,...l])}),[]);return(0,C.sb)([...e,...l])}),[])},isView(){return this.mode===V.nW},migratableOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},secretOptions(){return this.secrets.map((e=>e.id))},volumeEncryptionOptions(){return[{label:this.t("generic.yes"),value:"true"},{label:this.t("generic.no"),value:"false"}]},parameters:{get(){const e=(0,w.o8)(this.value?.parameters)||{};return B.forEach((t=>{delete e[t]})),Object.values(E.Et).forEach((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}},volumeEncryption:{set(e){this.value["parameters"]={...this.value.parameters,encrypted:e}},get(){return this.value?.parameters?.encrypted||"false"}},secret:{get(){const e=this.value.parameters[A],t=this.value.parameters[x];return e&&t?`${e}/${t}`:""},set(e){const[t,a]=e.split("/");this.value["parameters"]={...this.value.parameters,[x]:a,[_]:a,[U]:a,[A]:t,[D]:t,[M]:t}}},nodeSelector:{get(){const e=this.value?.parameters?.nodeSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.nodeSelector=(e||[]).join(",")}},diskSelector:{get(){const e=this.value?.parameters?.diskSelector;return(e||"").includes(",")?e.split(","):e?[e]:[]},set(e){this.value.parameters.diskSelector=(e||[]).join(",")}},numberOfReplicas:{get(){return this.value?.parameters?.numberOfReplicas},set(e){e>=1&&e<=3&&(this.value.parameters.numberOfReplicas=String(e))}}}},T=(a(88198),a(47433));const O=(0,T.A)(L,[["render",b],["__scopeId","data-v-1618b260"]]);var I=O},14257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(9274);const o={class:"row mt-10"},s={class:"col span-6"},r={key:0,class:"text-muted"},n={class:"row mt-10"},i={class:"col span-6"},d={key:0,class:"text-muted"},c={class:"col span-6"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:p.node,"onUpdate:value":t[0]||(t[0]=e=>p.node=e),label:e.t("harvester.storage.parameters.node.label"),options:m.nodes,mode:a.mode,required:!0},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",r,(0,l.toDisplayString)(e.t("harvester.storage.parameters.diskSelector.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:a.value.parameters.vgName,"onUpdate:value":t[1]||(t[1]=e=>a.value.parameters.vgName=e),label:e.t("harvester.storage.parameters.lvmVolumeGroup.label"),options:m.volumeGroups,mode:a.mode,required:!0},{"no-options":(0,l.withCtx)((({searching:t})=>[t?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(e.t("harvester.storage.parameters.lvmVolumeGroup.no-options",null,!0)),1))])),_:1},8,["value","label","options","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(v,{value:a.value.parameters.type,"onUpdate:value":t[2]||(t[2]=e=>a.value.parameters.type=e),label:e.t("harvester.storage.parameters.lvmVolumeGroupType.label"),options:p.volumeGroupTypes,mode:a.mode,required:!0},null,8,["value","label","options","mode"])])]),(0,l.createVNode)(h,{value:m.parameters,"onUpdate:value":t[3]||(t[3]=e=>m.parameters=e),"add-label":e.t("storageClass.longhorn.addLabel"),"read-allowed":!1,mode:a.mode,class:"mt-10"},null,8,["value","add-label","mode"])])}var p=a(85905),m=a(77562),v=a(63557),h=a(92590),b=a(32766),g=a(20665),f=a(39808);const y=["type","vgName"],k=[{matchLabelExpressions:[{key:f.LVM_TOPOLOGY_LABEL,values:[]}]}];var N={components:{KeyValue:p.A,LabeledSelect:m.A},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},realMode:{type:String,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,v.kR)({nodes:this.$store.dispatch(`${e}/findAll`,{type:g.NW}),lvmVolumeGroups:this.$store.dispatch(`${e}/findAll`,{type:b.rk.LVM_VOLUME_GROUP})})},data(){const e=(this.value.allowedTopologies?.[0]?.matchLabelExpressions||[]).find((e=>e.key===f.LVM_TOPOLOGY_LABEL))?.values[0];return{volumeGroupTypes:["striped","dm-thin"],node:e}},watch:{node(e){delete this.value.parameters.vgName;const t=[...k];t[0].matchLabelExpressions[0].values=[e],this.value.allowedTopologies=t}},computed:{nodes(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](g.NW)||[];return t.filter((e=>e.labels[f.LVM_TOPOLOGY_LABEL]===e.name)).map((e=>e.name))},volumeGroups(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](b.rk.LVM_VOLUME_GROUP)||[];return t.filter((e=>e.spec.nodeName===this.node)).map((e=>e.spec.vgName))},parameters:{get(){const e=(0,h.o8)(this.value?.parameters)||{};return y.map((t=>{delete e[t]})),e},set(e){Object.assign(this.value.parameters,e)}}}},V=(a(5648),a(47433));const E=(0,V.A)(N,[["render",u],["__scopeId","data-v-6afc4f36"]]);var w=E},57717:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("Checkbox"),g=(0,l.resolveComponent)("Footer");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!u.restoreNewVm,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","disabled","label","options"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,l.createVNode)(v,{value:u.backupName,"onUpdate:value":t[3]||(t[3]=e=>u.backupName=e),class:"mb-20",label:e.t("harvester.backup.restore.backup"),options:p.backupOption},null,8,["value","label","options"]),u.restoreNewVm?((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:u.restoreResource.spec.keepMacAddress,"onUpdate:value":t[4]||(t[4]=e=>u.restoreResource.spec.keepMacAddress=e),type:"checkbox",label:e.t("harvester.backup.restore.keepMacAddress")},null,8,["value","label"])):(0,l.createCommentVNode)("",!0),u.restoreNewVm?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:u.deletionPolicy,"onUpdate:value":t[5]||(t[5]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,l.createVNode)(g,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(81993),p=a(21221),m=a(5327),v=a(18842),h=a(77562),b=a(72706),g=a(63557),f=a(26953),y=a(73331),k=a(92590),N=a(32766),V=a(41837);const E={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:N.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"delete"}};var w={name:"CreateRestore",components:{Checkbox:v.A,Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:h.A},mixins:[b.A],async fetch(){await(0,g.kR)({backups:this.$store.dispatch("harvester/findAll",{type:N.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,k.o8)(E),l="new"===e||void 0===e;return{backupName:t,restoreNewVm:l,restoreResource:a,name:"",description:"",deletionPolicy:"delete",namespace:""}},computed:{backupOption(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type!==V.aS.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"delete",label:"Delete"},{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.backupName,t=this.$store.getters["harvester/all"](N.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},backupNamespace(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.find((e=>e.metadata.name===this.backupName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["allNamespaces"],t=(0,y.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t}},watch:{backupName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},backupNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.backupNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:N.rk.VM}})}catch(a){this.errors=(0,f.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.backupName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM,delete this.restoreResource.spec.keepMacAddress)}},componentTitle(){return"restoreVM"}},C=(a(4008),a(47433));const S=(0,C.A)(w,[["render",c],["__scopeId","data-v-dcf8e7de"]]);var B=S},17361:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var l=a(9274);const o={class:"row mb-20 mt-20"},s={class:"col span-12"},r={key:2},n={key:2,class:"fileName mt-5"},i={class:"row"},d={class:"col span-6"},c=["onUpdate:modelValue","disabled","placeholder","onInput"];function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("NameNsDescription"),h=(0,l.resolveComponent)("RadioGroup"),b=(0,l.resolveComponent)("LabeledInput"),g=(0,l.resolveComponent)("LabeledSelect"),f=(0,l.resolveComponent)("Tab"),y=(0,l.resolveComponent)("Select"),k=(0,l.resolveComponent)("KeyValue"),N=(0,l.resolveComponent)("Tabbed"),V=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(V,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"can-yaml":!!m.showEditAsYaml,"apply-hooks":e.applyHooks,onFinish:m.saveImage,onError:t[11]||(t[11]=t=>e.errors=t)},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{ref:"nd",value:a.value,mode:e.mode,label:e.t("generic.name"),"name-key":"spec.displayName","onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","label"]),(0,l.createVNode)(N,(0,l.mergeProps)(e.$attrs,{class:"mt-15","side-tabs":!0}),{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{name:"basic",label:e.t("harvester.image.tabs.basics"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(h,{key:0,value:m.sourceType,"onUpdate:value":t[1]||(t[1]=e=>m.sourceType=e),name:"model",options:m.radioGroupOptions,labels:[e.t("harvester.image.sourceType.download"),e.t("harvester.image.sourceType.upload"),e.t("harvester.image.sourceType.encrypt"),e.t("harvester.image.sourceType.decrypt")],mode:e.mode},null,8,["value","options","labels","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:a.value.spec.sourceType,"onUpdate:value":t[2]||(t[2]=e=>a.value.spec.sourceType=e),mode:e.mode,class:"mb-20",disabled:e.isEdit,"label-key":"harvester.image.source"},null,8,["value","mode","disabled"])),"download"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(b,{key:1,value:a.value.spec.url,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.url=e),mode:e.mode,disabled:e.isEdit,class:"mb-20 labeled-input--tooltip",required:"","label-key":"harvester.image.url",tooltip:e.t("harvester.image.urlTip",{},!0)},null,8,["value","mode","disabled","tooltip"])):"upload"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[e.isView?((0,l.openBlock)(),(0,l.createBlock)(b,{key:0,value:m.imageName,"onUpdate:value":t[4]||(t[4]=e=>m.imageName=e),mode:e.mode,class:"mt-20","label-key":"harvester.image.fileName"},null,8,["value","mode"])):(0,l.createCommentVNode)("",!0),e.isCreate?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,type:"button",class:"btn role-primary",onClick:t[6]||(t[6]=(...e)=>m.selectFile&&m.selectFile(...e))},[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.t("harvester.image.uploadFile")),1),(0,l.withDirectives)((0,l.createElementVNode)("input",{id:"file",ref:"file",type:"file",accept:".qcow, .qcow2, .raw, .img, .iso",onChange:t[5]||(t[5]=e=>m.handleFileUpload())},null,544),[[l.vShow,!1]])])):(0,l.createCommentVNode)("",!0),m.uploadFileName?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[t[12]||(t[12]=(0,l.createElementVNode)("span",{class:"icon icon-file"},null,-1)),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(m.uploadFileName),1)])):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0),"download"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(b,{key:3,value:a.value.spec.checksum,"onUpdate:value":t[7]||(t[7]=e=>a.value.spec.checksum=e),mode:e.mode,disabled:e.isEdit,"label-key":"harvester.image.checksum",tooltip:e.t("harvester.image.checksumTip")},null,8,["value","mode","disabled","tooltip"])):(0,l.createCommentVNode)("",!0),"clone"===a.value.spec.sourceType?((0,l.openBlock)(),(0,l.createBlock)(g,{key:4,value:m.sourceImage,"onUpdate:value":t[8]||(t[8]=e=>m.sourceImage=e),options:m.sourceImageOptions,label:e.t("harvester.image.sourceImage"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])):(0,l.createCommentVNode)("",!0)])])])),_:1},8,["label"]),(0,l.createVNode)(f,{name:"storage",label:e.t("harvester.storage.label"),weight:89,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(g,{value:m.storageClassName,"onUpdate:value":t[9]||(t[9]=e=>m.storageClassName=e),options:m.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,disabled:e.isEdit,class:"mb-20"},null,8,["value","options","label","mode","disabled"])])])])),_:1},8,["label"]),(0,l.createVNode)(f,{name:"labels",label:e.t("labels.labels.title"),weight:2,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{key:"labels",ref:"labels",value:a.value.labels,"add-label":e.t("labels.addLabel"),mode:e.mode,"pad-left":!1,"read-allowed":!1,"value-can-be-empty":!0,onFocusKey:m.focusKey,"onUpdate:value":t[10]||(t[10]=e=>a.value.setLabels(e))},{value:(0,l.withCtx)((({row:t,keyName:a,valueName:o,queueUpdate:s})=>[m.internalAnnotations(t)?((0,l.openBlock)(),(0,l.createBlock)(y,{key:0,value:t[o],"onUpdate:value":[e=>t[o]=e,s],mode:e.mode,searchable:!0,clearable:!1,options:m.calculateOptions(t[a])},null,8,["value","onUpdate:value","mode","options"])):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>t[o]=e,disabled:e.isView,type:"text",placeholder:e.t("keyValue.valuePlaceholder"),autocorrect:"off",autocapitalize:"off",spellcheck:"false",onInput:s},null,40,c)),[[l.vModelDynamic,t[o]]])])),_:1},8,["value","add-label","mode","onFocusKey"])])),_:1},8,["label"])])),_:1},16)])),_:1},8,["done-route","resource","mode","errors","can-yaml","apply-hooks","onFinish"])}var p=a(22065),m=a(4335),v=a(94877),h=a(5327),b=a(85905),g=a(11922),f=a(21221),y=a(44863),k=a(77562),N=a(72706),V=a(2602),E=a(26953),w=a(63557),C=a(20665),S=a(52880),B=a(48249),x=a(32766),A=a(82877);const _="encrypt",D="decrypt",U="clone",M="download",L="upload",T="raw_qcow2",O="longhorn";var I={name:"EditImage",inheritAttrs:!1,emits:["update:value"],components:{Tab:v.A,Tabbed:m.A,KeyValue:b.A,Select:y.A,CruResource:p.A,LabeledInput:h.o,NameNsDescription:g.A,RadioGroup:f.z,LabeledSelect:k.A},mixins:[N.A],props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await(0,w.kR)({images:this.$store.dispatch(`${e}/findAll`,{type:x.rk.IMAGE}),storageClasses:this.$store.dispatch(`${e}/findAll`,{type:C.fJ})}),this["storageClassName"]=this.storageClassName||this.defaultStorageClassName(),this.images=this.$store.getters[`${e}/all`](x.rk.IMAGE),this.storages=this.$store.getters[`${e}/all`](C.fJ);const{securityParameters:t}=this.value.spec;if(t){const e=`${t.sourceImageNamespace}/${t.sourceImageName}`;this.selectedImage=this.images.find((t=>t.id===e))}},data(){const{image:e,sourceType:t,cryptoOperation:a}=this.$route.query||{};if(this.value.spec||(this.value["spec"]={sourceType:t||M}),e&&a){const t=JSON.parse(e);this.value.spec.securityParameters={cryptoOperation:a,sourceImageName:t.metadata.name,sourceImageNamespace:t.metadata.namespace}}return this.value.metadata.name||(this.value.metadata.generateName="image-"),{selectedImage:null,storageClasses:[],images:[],url:this.value.spec.url,files:[],resource:"",headers:{},fileUrl:"",file:""}},computed:{uploadFileName(){return this.file?.name||""},imageName(){return this.value?.metadata?.annotations?.[V.r.IMAGE_NAME]||"-"},isCreateEdit(){return this.isCreate||this.isEdit},showEditAsYaml(){return this.value.spec.sourceType===M||this.value.spec.sourceType===U},radioGroupOptions(){return this.value.volumeEncryptionFeatureEnabled?[M,L,_,D]:[M,L]},encryptedStorageClasses(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.fJ);return t.filter((e=>e.isEncrypted))},nonEncryptedStorageClasses(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.fJ);return t.filter((e=>!e.isEncrypted))},storageClassOptions(){const e=this.value.spec?.securityParameters?.cryptoOperation===_?this.encryptedStorageClasses:this.nonEncryptedStorageClasses,t=this.value.thirdPartyStorageFeatureEnabled?e.filter((e=>!e.parameters?.backingImage)):e.filter((e=>!e.parameters?.backingImage&&e.provisioner!==A.LVM_DRIVER));return t.map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[]},storageClassName:{get(){return this.value.metadata.annotations[V.r.STORAGE_CLASS]},set(e){this.value.metadata.annotations[V.r.STORAGE_CLASS]=e,this.value.thirdPartyStorageFeatureEnabled&&(this.value.spec.targetStorageClassName=e)}},sourceImageOptions(){let e=[];return this.value.spec.sourceType!==U?e:(e=this.value.spec.securityParameters.cryptoOperation===_?this.images.filter((e=>!e.isEncrypted)):this.images.filter((e=>e.isEncrypted)),e.map((e=>e.displayNameWithNamespace)))},sourceImage:{get(){return this.selectedImage?this.selectedImage.displayNameWithNamespace:""},set(e){this.selectedImage=this.images.find((t=>t.displayNameWithNamespace===e)),this.value.spec.securityParameters.sourceImageName=this.selectedImage?.metadata.name||"",this.value.spec.securityParameters.sourceImageNamespace=this.selectedImage?.metadata.namespace||""}},sourceType:{get(){return this.value.spec.sourceType===U?this.value.spec?.securityParameters?.cryptoOperation:this.value.spec.sourceType},set(e){e===D||e===_?(this.value.spec.sourceType=U,this.value.spec["securityParameters"]={cryptoOperation:e,sourceImageName:"",sourceImageNamespace:this.value.metadata.namespace},this.selectedImage=null):(delete this.value.spec["securityParameters"],this.value.spec.sourceType=e)}}},watch:{"value.spec.url"(e){const t=e.trim();this.setImageLabels(t)},"value.spec.sourceType"(){this["file"]=null,this.url="",this.$refs?.file?.value&&(this.$refs.file.value=null)},"value.spec.securityParameters.cryptoOperation"(){this.value.spec?.securityParameters?.cryptoOperation===_?this.storageClassName=this.encryptedStorageClasses[0]?.name||"":this.storageClassName=this.defaultStorageClassName()},storageClassName(e){const t=this.storages.find((t=>t.id===e));t&&this.value.thirdPartyStorageFeatureEnabled&&(this.value.spec.backend=t.isLonghornV1?"backingimage":"cdi")}},methods:{async saveImage(e){if(this.value.spec.displayName=(this.value.spec.displayName||"").trim(),this.isEdit)return await this.handleEditImage(e);if(this.value.spec.sourceType===L&&this.isCreate)try{this.value.spec.url="";const t=this.file;this.value.metadata.annotations[V.r.IMAGE_NAME]=t?.name;const a=await this.value.save();a.uploadImage(t),e(!0),this.done()}catch(t){this.errors=(0,E.rz)(t),e(!1)}else this.value.spec.url=this.value.spec.url?.trim()||"",this.save(e)},async handleEditImage(e){try{const t=[{op:"replace",path:"/metadata/labels",value:this.value.metadata.labels},{op:"replace",path:"/metadata/annotations",value:this.value.metadata.annotations}];await this.value.patch(t),e(!0),this.done()}catch(t){this.errors=(0,E.rz)(t),e(!1)}},setImageLabels(e){const t=e?.split("/")?.pop()||e,a=t?.split(".")?.pop()?.toLowerCase();if(S.Vi.includes(a)){const e="iso"===a?a:T;this.addLabel(V.r.IMAGE_SUFFIX,e),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:t,selected:this.value.metadata.namespace})}const l=this.getOSType(e);l&&this.addLabel(V.r.OS_TYPE,l.value)},addLabel(e,t){const a=this.$refs.labels.rows;a.map(((t,a)=>{t.key===e&&this.$refs.labels.remove(a)})),this.$refs.labels.add(e,t)},handleFileUpload(){const e=this.$refs.file.files[0];this.file=e,this.setImageLabels(e?.name),this.value.spec.displayName||this.$refs.nd.changeNameAndNamespace({text:e?.name,selected:this.value.metadata.namespace}),this.setImageLabels()},selectFile(){this.$refs.file.value=null,this.$refs.file.click()},internalAnnotations(e){const t=[V.r.OS_TYPE,V.r.IMAGE_SUFFIX];return t.find((t=>t===e.key))},calculateOptions(e){return e===V.r.OS_TYPE?B.OS:e===V.r.IMAGE_SUFFIX?[{label:"ISO",value:"iso"},{label:"raw/qcow2",value:T}]:[]},focusKey(){this.$refs.key.focus()},getOSType(e){if(e)return B.OS.find((t=>t.match?!!t.match.find((t=>e.toLowerCase().includes(t)))&&t.value:!!e.toLowerCase().includes(t.value.toLowerCase())&&t.value))},defaultStorageClassName(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](C.fJ).find((e=>e.isDefault));return t?t.isEncrypted?O:t?.metadata?.name:O}}},R=(a(70585),a(47433));const $=(0,R.A)(I,[["render",u],["__scopeId","data-v-1d4328c1"]]);var P=$},94089:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var l=a(9274);const o={class:"mb-20"},s={class:"row mb-20"},r={class:"col span-6"},n={class:"col span-6"},i={class:"row mb-20"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mb-20"},p={key:0},m={class:"row mb-20"},v={class:"col span-6"};function h(e,t,a,h,b,g){const f=(0,l.resolveComponent)("NameNsDescription"),y=(0,l.resolveComponent)("Checkbox"),k=(0,l.resolveComponent)("CpuMemory"),N=(0,l.resolveComponent)("SSHKey"),V=(0,l.resolveComponent)("Tab"),E=(0,l.resolveComponent)("Volume"),w=(0,l.resolveComponent)("Network"),C=(0,l.resolveComponent)("NodeScheduling"),S=(0,l.resolveComponent)("PodAffinity"),B=(0,l.resolveComponent)("t"),x=(0,l.resolveComponent)("Banner"),A=(0,l.resolveComponent)("KeyValue"),_=(0,l.resolveComponent)("LabeledSelect"),D=(0,l.resolveComponent)("Reserved"),U=(0,l.resolveComponent)("UnitInput"),M=(0,l.resolveComponent)("CloudConfig"),L=(0,l.resolveComponent)("Tabbed"),T=(0,l.resolveComponent)("CruResource"),O=(0,l.resolveDirective)("t");return b.templateSpec&&e.spec?((0,l.openBlock)(),(0,l.createBlock)(T,{key:0,"done-route":e.doneRoute,resource:a.value,"can-yaml":!1,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:g.saveVMT},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{value:b.templateValue,mode:g.realTemplateMode,"name-label":"harvester.vmTemplate.nameNsDescription.name",namespaced:!0,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:templateValue",t))},null,8,["value","mode"]),b.templateId?((0,l.openBlock)(),(0,l.createBlock)(y,{key:0,value:b.isDefaultVersion,"onUpdate:value":t[1]||(t[1]=e=>b.isDefaultVersion=e),class:"mb-20",label:e.t("tableHeaders.defaultVersion"),type:"checkbox",mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(L,{"side-tabs":!0,onChanged:g.onTabChanged},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(V,{name:"Basics",label:e.t("harvester.vmTemplate.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{cpu:e.cpu,memory:e.memory,disabled:g.isConfig,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","disabled","onUpdateCpuMemory"]),(0,l.createElementVNode)("div",o,[(0,l.createVNode)(N,{value:e.sshKey,"onUpdate:value":t[2]||(t[2]=t=>e.sshKey=t),"create-namespace":!0,namespace:b.templateValue.metadata.namespace,"disable-create":e.isView,mode:e.mode,"onUpdate:sshKey":e.updateSSHKey},null,8,["value","namespace","disable-create","mode","onUpdate:sshKey"])])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(E,{value:e.diskRows,"onUpdate:value":t[3]||(t[3]=t=>e.diskRows=t),mode:e.mode,namespace:a.value.metadata.namespace,"existing-volume-disabled":!0},null,8,["value","mode","namespace"])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{value:e.networkRows,"onUpdate:value":t[4]||(t[4]=t=>e.networkRows=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(C,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,l.createVNode)(V,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(S,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"labels",label:e.t("generic.labels"),weight:-9},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(x,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{k:"harvester.virtualMachine.labels.banner"})])),_:1}),(0,l.createVNode)(A,{key:"labels",value:a.value.labels,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[5]||(t[5]=e=>a.value.setLabels(e))},null,8,["value","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"instanceLabel",label:e.t("harvester.tab.instanceLabel"),weight:-10},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(x,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{k:"harvester.virtualMachine.instanceLabels.banner"})])),_:1}),(0,l.createVNode)(A,{key:"instance-labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":e.toggler,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[6]||(t[6]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(V,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-99},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(_,{value:e.runStrategy,"onUpdate:value":t[7]||(t[7]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createVNode)(_,{value:e.osType,"onUpdate:value":t[8]||(t[8]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",mode:e.mode,options:e.OS},null,8,["value","mode","options"])])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(_,{value:e.maintenanceStrategy,"onUpdate:value":t[9]||(t[9]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(D,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,l.createElementVNode)("div",u,[e.showAdvanced?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,role:"button",onClick:t[10]||(t[10]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[O,"harvester.generic.showMore"]]):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:1,role:"button",onClick:t[11]||(t[11]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[O,"harvester.generic.showMore"]])]),e.showAdvanced?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(U,{value:e.terminationGracePeriodSeconds,"onUpdate:value":t[12]||(t[12]=t=>e.terminationGracePeriodSeconds=t),suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,onChange:e.updateTerminationGracePeriodSeconds},null,8,["value","suffix","label","mode","onChange"])])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(M,{ref:"yamlEditor",mode:e.mode,"user-script":e.userScript,namespace:b.templateValue.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData},null,8,["mode","user-script","namespace","network-script","onUpdateUserData","onUpdateNetworkData"]),t[21]||(t[21]=(0,l.createElementVNode)("div",{class:"spacer"},null,-1)),a.value.cpuPinningFeatureEnabled?((0,l.openBlock)(),(0,l.createBlock)(y,{key:1,value:e.cpuPinning,"onUpdate:value":t[13]||(t[13]=t=>e.cpuPinning=t),class:"check",type:"checkbox","tooltip-key":"harvester.virtualMachine.cpuPinning.tooltip","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["value","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(y,{value:e.installUSBTablet,"onUpdate:value":t[14]||(t[14]=t=>e.installUSBTablet=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.enableUsb"),mode:e.mode},null,8,["value","label","mode"]),(0,l.createVNode)(y,{value:e.installAgent,"onUpdate:value":t[15]||(t[15]=t=>e.installAgent=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(y,{value:e.tpmEnabled,"onUpdate:value":t[16]||(t[16]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),a.value.tpmPersistentStateFeatureEnabled&&e.tpmEnabled?((0,l.openBlock)(),(0,l.createBlock)(y,{key:2,value:e.tpmPersistentStateEnabled,"onUpdate:value":t[17]||(t[17]=t=>e.tpmPersistentStateEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.tpmPersistentState"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(y,{value:e.efiEnabled,"onUpdate:value":t[18]||(t[18]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),a.value.efiPersistentStateFeatureEnabled&&e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(y,{key:3,value:e.efiPersistentStateEnabled,"onUpdate:value":t[19]||(t[19]=t=>e.efiPersistentStateEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.efiPersistentState"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(y,{key:4,value:e.secureBoot,"onUpdate:value":t[20]||(t[20]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])):(0,l.createCommentVNode)("",!0)}var b=a(65359),g=a(4335),f=a(94877),y=a(34211),k=a(22065),N=a(11922),V=a(77562),E=a(89121),w=a(85905),C=a(15319),S=a(32841),B=a(63418),x=a(41594),A=a(71779),_=a(2602),D=a(72706),U=a(54348),M=a(32766),L=a(48249),T=a(14869),O=a(24830),I=a(8746),R=a(46324),$=a(81559),P=a(59026),q={name:"HarvesterEditVMTemplate",emits:["update:templateValue"],components:{Tab:f.A,SSHKey:P["default"],Volume:O["default"],Tabbed:g.A,Network:I["default"],Checkbox:y.S,CpuMemory:R["default"],CruResource:k.A,CloudConfig:$["default"],LabeledSelect:V.A,NameNsDescription:N.A,NodeScheduling:C.A,PodAffinity:S.A,Reserved:T["default"],UnitInput:B.A,Banner:E.l,KeyValue:w.A},mixins:[D.A,L.Ay],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){this.mode===A.G5&&this.value.cleanForNew();const e=this.value.templateId||this.$route.query.templateId;return{templateId:e,templateValue:null,templateSpec:null,versionName:"",description:"",defaultVersion:null,isDefaultVersion:!1}},computed:{...(0,b.L8)({t:"i18n/t"}),isConfig(){return this.$route.query?.as===A.au||this.isView},realTemplateMode(){return this.templateId?A.nW:this.mode},secretNamePrefix(){return this.templateValue?.metadata?.name}},watch:{templateId:{async handler(e){const t=await this.$store.dispatch("harvester/findAll",{type:M.rk.VM_TEMPLATE});let a=t.find((t=>t.id===e))||null,l=a?.spec;a||(l={description:"",defaultVersionId:""},a=await this.$store.dispatch("harvester/create",{metadata:{name:"",namespace:""},spec:l,type:M.rk.VM_TEMPLATE})),this.templateValue=a,this.templateSpec=l},immediate:!0}},created(){this.registerAfterHook((async()=>{if(this.isDefaultVersion){const t=await this.$store.dispatch("harvester/findAll",{type:M.rk.VM_VERSION,opt:{force:!0}}),a=t.find((e=>e?.metadata?.annotations?.[_.r.TEMPLATE_VERSION_CUSTOM_NAME]===this.customName));if(a)try{this.templateValue.defaultVersionId=a.id;const e=[{op:"replace",path:"/spec/defaultVersionId",value:a.id}];await this.templateValue.patch(e,{url:this.templateValue.linkFor("view")})}catch(e){return Promise.reject(new Error(e.message))}}}))},mounted(){this.imageId=this.diskRows[0]?.image||""},methods:{async saveVMT(e){this.parseVM();const t=await this.$store.dispatch("harvester/findAll",{type:M.rk.VM_TEMPLATE}),a=t.find((e=>e.metadata.name===this.templateValue.metadata.name));try{if(this.templateId)a.save();else{if(!this.templateValue?.metadata?.name)return this.errors=[this.t("validation.required",{key:this.t("harvester.vmTemplate.nameNsDescription.name")})],void e(!1);await this.templateValue.save()}this.value.cleanForNew(),this.customName=(0,x.vx)(10),this.value.metadata["annotations"]={...this.value.metadata.annotations,[_.r.TEMPLATE_VERSION_CUSTOM_NAME]:this.customName};const t=this.templateValue.metadata.name||a.metadata.name,l=this.templateValue.metadata.namespace||a.metadata.namespace;this.isCreate&&(this.value.metadata.namespace=l),this.value.spec["templateId"]=`${l}/${t}`;const o=await this.value.save();await this.saveSecret(o),await this.applyHooks(U.Mz),this.done()}catch(l){this.errors=[l],e(!1)}},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()}}},F=a(47433);const G=(0,F.A)(q,[["render",h]]);var K=G},91128:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={id:"restore"},s={class:"content"},r={class:"mb-20"},n={class:"row"},i={class:"col span-6"},d={class:"col span-6"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("RadioGroup"),v=(0,l.resolveComponent)("LabeledSelect"),h=(0,l.resolveComponent)("LabeledInput"),b=(0,l.resolveComponent)("Footer");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(m,{value:u.restoreNewVm,"onUpdate:value":t[0]||(t[0]=e=>u.restoreNewVm=e),name:"model",options:[!0,!1],labels:[e.t("harvester.backup.restore.createNew"),e.t("harvester.backup.restore.replaceExisting")],disabled:p.disableExisting,mode:e.mode},null,8,["value","labels","disabled","mode"])]),(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(v,{value:u.namespace,"onUpdate:value":t[1]||(t[1]=e=>u.namespace=e),disabled:!0,label:e.t("nameNsDescription.namespace.label"),options:p.namespaces},null,8,["value","label","options"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(h,{value:u.name,"onUpdate:value":t[2]||(t[2]=e=>u.name=e),disabled:!u.restoreNewVm,label:e.t("harvester.backup.restore.virtualMachineName"),placeholder:e.t("nameNsDescription.name.placeholder"),class:"mb-20"},null,8,["value","disabled","label","placeholder"])])]),(0,l.createVNode)(v,{value:u.snapshotName,"onUpdate:value":t[3]||(t[3]=e=>u.snapshotName=e),class:"mb-20",label:e.t("harvester.vmSnapshot.snapshot"),options:p.snapshotOption},null,8,["value","label","options"]),u.restoreNewVm?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,value:u.deletionPolicy,"onUpdate:value":t[4]||(t[4]=e=>u.deletionPolicy=e),label:e.t("harvester.backup.restore.deletePreviousVolumes"),options:p.deletionPolicyOption},null,8,["value","label","options"]))]),(0,l.createVNode)(b,{mode:"create",class:"footer",errors:e.errors,onSave:p.saveRestore,onDone:p.cancelAction},null,8,["errors","onSave","onDone"])])}var u=a(81993),p=a(21221),m=a(5327),v=a(77562),h=a(72706),b=a(63557),g=a(26953),f=a(20665),y=a(73331),k=a(92590),N=a(32766),V=a(41837);const E={apiVersion:"harvesterhci.io/v1beta1",kind:"VirtualMachineRestore",metadata:{name:"",namespace:""},type:N.rk.RESTORE,spec:{target:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:""},virtualMachineBackupName:"",newVM:!0,deletionPolicy:"retain"}};var w={name:"CreateRestore",components:{Footer:u.A,RadioGroup:p.z,LabeledInput:m.o,LabeledSelect:v.A},mixins:[h.A],async fetch(){await(0,b.kR)({backups:this.$store.dispatch("harvester/findAll",{type:N.rk.BACKUP}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})})},data(){const e=this.$route.query?.restoreMode,t=this.$route.query?.resourceName,a=(0,k.o8)(E),l="new"===e||void 0===e;return{snapshotName:t,restoreNewVm:l,restoreResource:a,name:"",description:"",deletionPolicy:"retain",namespace:""}},computed:{snapshotOption(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.filter((e=>{const t=this.restoreNewVm||e.attachVmExisting;return t&&e?.status?.readyToUse&&e.spec?.type===V.aS.SNAPSHOT})).map((e=>({label:e.metadata.name,value:e.metadata.name})))},deletionPolicyOption(){return[{value:"retain",label:"Retain"}]},currentBackupResource(){const e=this.snapshotName,t=this.$store.getters["harvester/all"](N.rk.BACKUP);return t.find((t=>t.name===e))},disableExisting(){return!this.currentBackupResource?.attachVmExisting},snapshotNamespace(){const e=this.$store.getters["harvester/all"](N.rk.BACKUP);return e.find((e=>e.metadata.name===this.snapshotName))?.metadata?.namespace},namespaces(){const e=this.$store.getters["currentStore"](f.CU),t=this.$store.getters[`${e}/all`](f.CU),a=this.$store.getters["systemNamespaces"],l=(0,y.Ul)(t.filter((e=>!a.includes(e.metadata.name))).map((e=>({label:e.nameDisplay,value:e.id}))),"label");return l}},watch:{snapshotName:{handler(e){this.currentBackupResource&&(this.restoreNewVm||(this.name=this?.currentBackupResource?.attachVM)),this.restoreResource.spec.virtualMachineBackupName=e},immediate:!0},restoreNewVm(e){this.name=e?"":this?.currentBackupResource?.attachVM},snapshotNamespace:{handler(e){this.namespace=e},immediate:!0}},methods:{cancelAction(){this.$router.go(-1)},async saveRestore(e){this.update();const t=await this.$store.dispatch("harvester/create",this.restoreResource);t.metadata.namespace=this.namespace,t.spec.virtualMachineBackupNamespace=this.snapshotNamespace;try{await t.save(),e(!0),this.$router.push({name:this.doneRoute,params:{resource:N.rk.VM}})}catch(a){this.errors=(0,g.rz)(a)||a,e(!1)}},update(){this.restoreResource.metadata.generateName=`restore-${this.snapshotName}-`,this.name&&(this.restoreResource.spec.target.name=this.name),this.restoreNewVm?(delete this.restoreResource.spec.deletionPolicy,this.restoreResource.spec.newVM=!0):(this.restoreResource.spec.deletionPolicy=this.deletionPolicy,delete this.restoreResource.spec.newVM)}},componentTitle(){return"restoreVM"}},C=(a(38673),a(47433));const S=(0,C.A)(w,[["render",c],["__scopeId","data-v-6c93c587"]]);var B=S},82347:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("LabeledSelect"),d=(0,l.resolveComponent)("UnitInput"),c=(0,l.resolveComponent)("Banner"),u=(0,l.resolveComponent)("Tab"),p=(0,l.resolveComponent)("LabeledInput"),m=(0,l.resolveComponent)("SortableTable"),v=(0,l.resolveComponent)("ResourceTabs"),h=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(h,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"generate-yaml":r.generateYaml,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(v,{value:e.value,"onUpdate:value":t[16]||(t[16]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{name:"basic",label:e.t("harvester.volume.tabs.basics"),weight:3,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:s.source,"onUpdate:value":[t[1]||(t[1]=e=>s.source=e),r.update],label:e.t("harvester.volume.source"),options:r.sourceOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"]),r.isVMImage?((0,l.openBlock)(),(0,l.createBlock)(i,{key:0,value:s.imageId,"onUpdate:value":[t[2]||(t[2]=e=>s.imageId=e),r.updateImage],label:e.t("harvester.volume.image"),options:r.imageOption,disabled:!e.isCreate,required:"",mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0),r.isBlank?((0,l.openBlock)(),(0,l.createBlock)(i,{key:1,value:e.value.spec.storageClassName,"onUpdate:value":[t[3]||(t[3]=t=>e.value.spec.storageClassName=t),r.update],options:r.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),mode:e.mode,class:"mb-20",disabled:!e.isCreate},null,8,["value","options","label","mode","disabled","onUpdate:value"])):(0,l.createCommentVNode)("",!0),r.showVolumeMode?((0,l.openBlock)(),(0,l.createBlock)(i,{key:2,value:e.value.spec.volumeMode,"onUpdate:value":[t[4]||(t[4]=t=>e.value.spec.volumeMode=t),r.update],label:e.t("harvester.volume.volumeMode"),options:r.volumeModeOptions,required:"",disabled:!e.isCreate,mode:e.mode,class:"mb-20"},null,8,["value","label","options","disabled","mode","onUpdate:value"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(d,{value:s.storage,"onUpdate:value":[t[5]||(t[5]=e=>s.storage=e),r.update],label:e.t("harvester.volume.size"),"input-exponent":3,"output-modifier":!0,increment:1024,mode:e.mode,disabled:e.value?.isLonghornV2&&r.isEdit,required:"",class:"mb-20",suffix:s.GIBIBYTE},null,8,["value","label","mode","disabled","suffix","onUpdate:value"]),e.value?.isLonghornV2&&r.isEdit?((0,l.openBlock)(),(0,l.createBlock)(c,{key:3,color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.t("harvester.volume.longhorn.disableResize")),1)])),_:1})):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"]),e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,name:"details",label:e.t("harvester.volume.tabs.details"),weight:2.5,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:r.frontendDisplay,"onUpdate:value":t[6]||(t[6]=e=>r.frontendDisplay=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.frontend")},null,8,["value","mode","label"]),(0,l.createVNode)(p,{value:r.attachedNode,"onUpdate:value":t[7]||(t[7]=e=>r.attachedNode=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.attachedNode")},null,8,["value","mode","label"]),(0,l.createVNode)(p,{value:r.endpoint,"onUpdate:value":t[8]||(t[8]=e=>r.endpoint=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.endpoint")},null,8,["value","mode","label"]),(0,l.createVNode)(i,{value:r.diskTags,"onUpdate:value":t[9]||(t[9]=e=>r.diskTags=e),multiple:!0,label:e.t("harvester.volume.diskTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,l.createVNode)(i,{value:r.nodeTags,"onUpdate:value":t[10]||(t[10]=e=>r.nodeTags=e),multiple:!0,label:e.t("harvester.volume.nodeTags"),options:[],disabled:!0,mode:e.mode,class:"mb-20"},null,8,["value","label","mode"]),(0,l.createVNode)(p,{value:r.lastBackup,"onUpdate:value":t[11]||(t[11]=e=>r.lastBackup=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackup")},null,8,["value","mode","label"]),(0,l.createVNode)(p,{value:r.lastBackupAt,"onUpdate:value":t[12]||(t[12]=e=>r.lastBackupAt=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.lastBackupAt")},null,8,["value","mode","label"]),(0,l.createVNode)(p,{value:r.replicasNumber,"onUpdate:value":t[13]||(t[13]=e=>r.replicasNumber=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.replicasNumber")},null,8,["value","mode","label"])])),_:1},8,["label"])),e.isCreate?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(u,{key:1,name:"instances",label:e.t("harvester.volume.tabs.snapshots"),weight:2,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,(0,l.mergeProps)(e.$attrs,{headers:r.snapshotHeaders,"default-sort-by":"age",rows:e.value.relatedVolumeSnapshotCounts,"key-field":"_key"}),null,16,["headers","rows"])])),_:1},8,["label"])),!e.isCreate&&e.value.spec.dataSource?((0,l.openBlock)(),(0,l.createBlock)(u,{key:2,name:"datasource",label:e.t("harvester.volume.tabs.datasource"),weight:1,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:r.dataSourceKind,"onUpdate:value":t[14]||(t[14]=e=>r.dataSourceKind=e),class:"mb-20",mode:e.mode,disabled:!0,label:e.t("harvester.volume.kind")},null,8,["value","mode","label"]),(0,l.createVNode)(p,{value:e.value.spec.dataSource.name,"onUpdate:value":t[15]||(t[15]=t=>e.value.spec.dataSource.name=t),mode:e.mode,disabled:!0,label:e.t("nameNsDescription.name.label")},null,8,["value","mode","label"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","generate-yaml","apply-hooks","onFinish"])}var s=a(94877),r=a(49934),n=a(22065),i=a(63418),d=a(50324),c=a(77562),u=a(5327),p=a(11922),m=a(89121),v=a(63557),h=a(92590),b=a(20665),g=a(73331),f=a(1195),y=a(71779),k=a(72706),N=a(2602),V=a(49263),E=a(66905),w=a(32766),C=a(82877),S=a(15908),B=a(84757),x=a(41837),A={name:"HarvesterVolume",emits:["update:value"],components:{Banner:m.l,Tab:s.A,UnitInput:i.A,CruResource:n.A,SortableTable:r.A,ResourceTabs:d.A,LabeledSelect:c.A,LabeledInput:u.o,NameNsDescription:p.A},mixins:[k.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={images:this.$store.dispatch(`${e}/findAll`,{type:w.rk.IMAGE}),snapshots:this.$store.dispatch(`${e}/findAll`,{type:w.qY}),storages:this.$store.dispatch(`${e}/findAll`,{type:b.fJ}),pvs:this.$store.dispatch(`${e}/findAll`,{type:b.PV})};this.$store.getters[`${e}/schemaFor`](b.oe.VOLUMES)&&(t.longhornVolumes=this.$store.dispatch(`${e}/findAll`,{type:b.oe.VOLUMES})),this.$store.getters[`${e}/schemaFor`](b.oe.ENGINES)&&(t.longhornEngines=this.$store.dispatch(`${e}/findAll`,{type:b.oe.ENGINES}));const a=await(0,v.kR)(t);this.snapshots=a.snapshots,this.images=a.images;const l=this.$store.getters["harvester/all"](b.fJ).find((e=>e.isDefault));this.value.spec["storageClassName"]=this.value?.spec?.storageClassName||l?.metadata?.name||"longhorn"},data(){this.mode===y.YQ&&(this.value.spec.volumeMode=x.vU.BLOCK,this.value.spec.accessModes=["ReadWriteMany"]);const e=this.value?.spec?.resources?.requests?.storage||null,t=(0,h.Jt)(this.value,`metadata.annotations."${N.r.IMAGE_ID}"`),a=t?"url":"blank";return{source:a,storage:e,imageId:t,snapshots:[],images:[],GIBIBYTE:B.Wl}},created(){this.registerBeforeHook(this.willSave,"willSave")},computed:{isBlank(){return"blank"===this.source},isEdit(){return this.mode===y.G5},isVMImage(){return"url"===this.source},longhornV2LVMSupport(){return this.$store.getters["harvester-common/getFeatureEnabled"]("longhornV2LVMSupport")},sourceOption(){return[{value:"blank",label:this.t("harvester.volume.sourceOptions.new")},{value:"url",label:this.t("harvester.volume.sourceOptions.vmImage")}]},interfaceOption(){return E.$z},volumeModeOptions(){return Object.values(x.vU)},imageOption(){return(0,g.Ul)(this.images.filter((e=>e.isReady)).map((e=>({label:`${e.metadata.namespace}/${e.spec.displayName}`,value:e.id}))),"label")},snapshotHeaders(){return[V.c4,V.o_,V.CU,{name:"size",labelKey:"tableHeaders.size",value:"status.restoreSize",sort:"size",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"left",formatter:"Checked"},V.K]},dataSourceKind(){return E.$E[this.value.spec?.dataSource?.kind]},storageClasses(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](b.fJ)},isLonghornStorageClass(){const e=this.storageClasses.find((e=>e.name===this.value?.spec?.storageClassName))||{};return e&&e.isLonghorn},showVolumeMode(){return!(!this.value.thirdPartyStorageFeatureEnabled||this.isVMImage||!1===!!this.value?.spec?.storageClassName)&&!this.isLonghornStorageClass},storageClassOptions(){return this.storageClasses.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[]},frontend(){return this.value.longhornVolume?.spec?.frontend},frontendDisplay(){const e=["blockdev"];return e.includes(this.frontend)?this.t(`harvester.volume.${this.frontend}`):this.frontend},attachedNode(){return this.value.longhornVolume?.spec?.nodeID},endpoint(){return this.value.longhornEngine?.status?.endpoint},diskTags(){return this.value.longhornVolume?.spec?.diskSelector},nodeTags(){return this.value.longhornVolume?.spec?.nodeSelector},replicasNumber(){return this.value.longhornVolume?.spec?.numberOfReplicas},lastBackup(){return this.value.longhornVolume?.status?.lastBackup},lastBackupAt(){return this.value.longhornVolume?.status?.lastBackupAt},rebuildStatus(){return this.value.longhornEngine?.status?.rebuildStatus}},watch:{source(e){"url"===e&&(this.setBlockVolumeMode(),this.deleteVolumeForVmAnnotation())},"value.spec.storageClassName"(){this.isLonghornStorageClass&&(this.setBlockVolumeMode(),this.deleteVolumeForVmAnnotation())},"value.spec.volumeMode"(e){e===x.vU.FILE_SYSTEM?this.setVolumeForVmAnnotation():e===x.vU.BLOCK&&this.deleteVolumeForVmAnnotation()}},methods:{setBlockVolumeMode(){this.value.spec.volumeMode=x.vU.BLOCK},setVolumeForVmAnnotation(){this.value.setAnnotation(N.r.VOLUME_FOR_VM,"true")},deleteVolumeForVmAnnotation(){this.value?.metadata?.annotations?.[N.r.VOLUME_FOR_VM]&&delete this.value.metadata.annotations[N.r.VOLUME_FOR_VM]},getAccessMode(){if(!this.longhornV2LVMSupport)return["ReadWriteMany"];const e=this.value.spec.storageClassName,t=this.storageClasses.find((t=>t.name===e));let a=this.value.isLvm||!this.value.thirdPartyStorageFeatureEnabled&&this.value.isLonghornV2;return t&&(a=t.provisioner===C.LVM_DRIVER||!this.value.thirdPartyStorageFeatureEnabled&&t.parameters?.dataEngine===S.DATA_ENGINE_V2),a?["ReadWriteOnce"]:["ReadWriteMany"]},willSave(){this.update()},update(){let e="",t=this.value.spec.storageClassName;if(this.isVMImage&&this.imageId){const a=this.$store.getters["harvester/all"](w.rk.IMAGE);e={...this.value.metadata.annotations,[N.r.IMAGE_ID]:this.imageId},t=a?.find((e=>this.imageId===e.id))?.storageClassName}else e={...this.value.metadata.annotations};const a={...this.value.spec,resources:{requests:{storage:this.storage}},storageClassName:t,accessModes:this.getAccessMode()};this.value.setAnnotations(e),this.value["spec"]=a},updateImage(){if(this.isVMImage&&this.imageId){const e=this.images?.find((e=>this.imageId===e.id)),t=Math.max(e?.status?.size,e?.status?.virtualSize);t&&(this.storage=`${Math.ceil(t/1024/1024/1024)}${B.Wl}`)}this.update()},generateYaml(){const e=(0,f.Kq)(this.value);return e}}},_=a(47433);const D=(0,_.A)(A,[["render",o]]);var U=D},69305:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={key:0,class:"row"},d={class:"col span-12"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("NameNsDescription"),v=(0,l.resolveComponent)("LabeledInput"),h=(0,l.resolveComponent)("Tab"),b=(0,l.resolveComponent)("ResourceTabs"),g=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(g,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{value:e.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(b,{value:e.value,"onUpdate:value":t[4]||(t[4]=t=>e.value=t),class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics"),class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(v,{value:p.size,"onUpdate:value":t[1]||(t[1]=e=>p.size=e),label:e.t("harvester.snapshot.size"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(v,{value:p.targetVolume,"onUpdate:value":t[2]||(t[2]=e=>p.targetVolume=e),label:e.t("harvester.snapshot.targetVolume"),class:"mt-20",disabled:!0},null,8,["value","label"])])]),p.isImageVolume?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{value:p.imageName,"onUpdate:value":t[3]||(t[3]=e=>p.imageName=e),label:e.t("harvester.snapshot.image"),class:"mt-20",disabled:!0},null,8,["value","label"])])])):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["value","mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","onFinish"])])}var u=a(94877),p=a(22065),m=a(50324),v=a(5327),h=a(11922),b=a(92590),g=a(72706),f=a(55190),y=a(32766),k={name:"HarvesterSnapshot",emits:["update:value"],components:{LabeledInput:v.o,Tab:u.A,ResourceTabs:m.A,CruResource:p.A,NameNsDescription:h.A},mixins:[g.A],inheritAttrs:!1,computed:{volume(){return this.volumes.find((e=>e.metadata.name===this.targetVolume))},size(){return this.value?.status?.restoreSize},isImageVolume(){return!!(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)},imageName(){const e=this.$store.getters["harvester/all"](y.rk.IMAGE).find((e=>e.id===(0,b.Jt)(this.value,`metadata.annotations."${f.rk.IMAGE_ID}"`)));return e?.spec?.displayName},targetVolume(){return this.value?.spec?.source?.persistentVolumeClaimName}}},N=a(47433);const V=(0,N.A)(k,[["render",c]]);var E=V},93987:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var l=a(9274);const o={class:"compat-matrix"},s={class:"device-col node-names"},r={class:"blank-corner"},n={class:"text-right"};function i(e,t,a,i,d,c){const u=(0,l.resolveDirective)("clean-tooltip");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,(0,l.toDisplayString)(e.t("harvester.devices.matrixDeviceClaimName")),1),(0,l.createElementVNode)("div",null,(0,l.toDisplayString)(e.t("harvester.devices.matrixHostName")),1)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(c.allNodeNames,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:t},[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e),1)])))),128))]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.enabledDevices,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:t},[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["compat-cell device-label",{"text-muted":c.noneAvailable(e)}])},[(0,l.createTextVNode)((0,l.toDisplayString)(e.metadata.name),1)],2)),[[u,c.deviceTooltip(e)]]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(c.allNodeNames,((t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:a,class:(0,l.normalizeClass)(["compat-cell",{"has-device":c.nodeHasDevice(t,e)}])},null,2)))),128))])))),128))])}var d=a(65359),c={props:{enabledDevices:{type:Array,required:!0},devicesByNode:{type:Object,required:!0},devicesInUse:{type:Object,default:()=>{}}},computed:{...(0,d.L8)({t:"i18n/t"}),allNodeNames(){return Object.keys(this.devicesByNode)},allDeviceIds(){return Object.keys(this.uniqueDevices)}},methods:{nodeNameFromId(e){return this.devicesByNode[e]?.name},nodeHasDevice(e,t){return t.status.nodeName===e},noneAvailable(e){const t=e.metadata?.name;return!!this.devicesInUse[t]},deviceTooltip(e){return`${e?.status?.resourceName}<br/>${e?.status?.description}`}}},u=(a(91950),a(47433));const p=(0,u.A)(c,[["render",i]]);var m=p},7060:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var l=a(9274);const o={key:0,class:"row"},s={class:"col span-12"},r={key:1},n={class:"row"},i={class:"col span-12"},d={class:"row"},c={class:"col span-6"},u={class:"text-label"},p={key:0,class:"row"},m={class:"col span-12 text-muted"},v={key:1,class:"text-error"},h={key:2,class:"row mt-20"},b={class:"col span-12"},g={class:"row mt-20"},f={class:"col span-12"};function y(e,t,a,y,k,N){const V=(0,l.resolveComponent)("Banner"),E=(0,l.resolveComponent)("t"),w=(0,l.resolveComponent)("LabeledSelect"),C=(0,l.resolveComponent)("CompatibilityMatrix"),S=(0,l.resolveComponent)("DeviceList"),B=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[k.oldFormatDevices.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(V,{color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("p",null,null,512),[[B,e.t("harvester.pci.oldFormatDevices.help",{oldFormatDevicesHTML:N.oldFormatDevicesHTML},!0)]])])),_:1})])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(V,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(E,{k:"harvester.pci.howToUseDevice"})])),_:1}),k.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(V,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(E,{k:"harvester.pci.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),N.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(w,{value:k.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>k.selectedDevices=e),label:"Available PCI Devices",searchable:"",multiple:"",taggable:"",options:N.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,[(0,l.createTextVNode)((0,l.toDisplayString)(e.value)+" ",1),(0,l.createElementVNode)("span",u,"("+(0,l.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","options","mode"])])]),N.compatibleNodes.length&&k.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[t[3]||(t[3]=(0,l.createTextVNode)(" Compatible hosts: ")),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<N.compatibleNodes.length-1?", ":""),1)))),128))])])):k.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,(0,l.toDisplayString)(e.t("harvester.pci.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{k.showMatrix=!k.showMatrix,e.target.blur()})},(0,l.toDisplayString)(k.showMatrix?e.t("harvester.pci.hideCompatibility"):e.t("harvester.pci.showCompatibility")),1),k.showMatrix?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(C,{"enabled-devices":N.enabledDevices,"devices-by-node":N.devicesByNode,"devices-in-use":N.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",g,[(0,l.createElementVNode)("div",f,[(0,l.createVNode)(S,{schema:k.pciDeviceSchema,devices:k.pciDevices,onSubmit:t[2]||(t[2]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])]))])}var k=a(71779),N=a(63557),V=a(77562),E=a(39812),w=a(65079),C=a.n(w),S=a(92590),B=a(32766),x=a(79428),A=a(93987),_={name:"VirtualMachinePCIDevices",components:{LabeledSelect:V.A,DeviceList:x["default"],CompatibilityMatrix:A["default"],Banner:E.A},props:{mode:{type:String,default:k.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={pciDevices:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_DEVICE}),claims:this.$store.dispatch("harvester/findAll",{type:B.rk.PCI_CLAIM}),vms:this.$store.dispatch("harvester/findAll",{type:B.rk.VM})},t=await(0,N.kR)(e);for(const r in t)this[r]=t[r];const a=[],l=[],o=this.value?.domain?.devices?.hostDevices||[],s=this.otherDevices(o).map((({name:e})=>e));o.forEach((({name:e,deviceName:t})=>{const o=(t||"").split("/")?.[1];o&&e.includes(o)&&!s.includes(e)?l.push(e):this.enabledDevices.find((t=>t?.metadata?.name===e))&&a.push(e)})),l.length>0?this.oldFormatDevices=l:this.selectedDevices=a},data(){return{pciDevices:[],claims:[],vms:[],selectedDevices:[],pciDeviceSchema:this.$store.getters["harvester/schemaFor"](B.rk.PCI_DEVICE),showMatrix:!1,oldFormatDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,S.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{enabledDevices(){return this.pciDevices.filter((e=>e.isEnabled&&e.claimedByMe))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{C()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.status.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.resourceName})))},oldFormatDevicesHTML(){return this.oldFormatDevices.map((e=>`<li>${e}</li>`)).join("")}},methods:{otherDevices(e){return e.filter((e=>!this.pciDevices.find((t=>e.name===t.name))))},nodeNameFromUid(e){for(const t in this.uniqueDevices){const a=this.uniqueDevices[t].nodes,l=a.find((t=>t.systemUUID===e));if(l)return l.name}}}},D=a(47433);const U=(0,D.A)(_,[["render",y]]);var M=U},14869:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createBlock)(n,{value:s.memory,"onUpdate:value":[t[0]||(t[0]=e=>s.memory=e),r.change],label:e.t("harvester.virtualMachine.input.reservedMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,suffix:s.MEBIBYTE},null,8,["value","label","mode","suffix","onUpdate:value"])}var s=a(63418),r=a(84757),n={name:"HarvesterReserved",emits:["updateReserved"],components:{UnitInput:s.A},props:{reservedMemory:{type:String,default:null},mode:{type:String,default:"create"}},data(){return{MEBIBYTE:r.gJ,memory:this.reservedMemory}},watch:{reservedMemory(e){this.memory=e}},methods:{change(){const{memory:e}=this;this.$emit("updateReserved",{memory:e})}}},i=a(47433);const d=(0,i.A)(n,[["render",o]]);var c=d},10707:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={class:"text-label"},d={key:0,class:"row"},c={class:"col span-12 text-muted"},u={key:1,class:"text-error"},p={key:2,class:"row mt-20"},m={class:"col span-12"},v={class:"row mt-20"},h={class:"col span-12"};function b(e,t,a,b,g,f){const y=(0,l.resolveComponent)("t"),k=(0,l.resolveComponent)("Banner"),N=(0,l.resolveComponent)("LabeledSelect"),V=(0,l.resolveComponent)("CompatibilityMatrix"),E=(0,l.resolveComponent)("DeviceList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(k,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{k:"harvester.usb.howToUseDevice"})])),_:1}),g.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(y,{k:"harvester.usb.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),f.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(N,{value:g.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>g.selectedDevices=e),label:e.t("harvester.usb.available"),searchable:"",multiple:"",taggable:"",options:f.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,[(0,l.createTextVNode)((0,l.toDisplayString)(e.value)+" ",1),(0,l.createElementVNode)("span",i,"("+(0,l.toDisplayString)(e.displayLabel)+")",1)])])),_:1},8,["value","label","options","mode"])])]),f.compatibleNodes.length&&g.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("div",c,[t[3]||(t[3]=(0,l.createTextVNode)(" Compatible hosts: ")),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(f.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:e},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<f.compatibleNodes.length-1?", ":""),1)))),128))])])):g.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,(0,l.toDisplayString)(e.t("harvester.usb.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-sm role-link pl-0",onClick:t[1]||(t[1]=e=>{g.showMatrix=!g.showMatrix,e.target.blur()})},(0,l.toDisplayString)(g.showMatrix?e.t("harvester.usb.hideCompatibility"):e.t("harvester.usb.showCompatibility")),1),g.showMatrix?((0,l.openBlock)(),(0,l.createElementBlock)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createVNode)(V,{"enabled-devices":f.enabledDevices,"devices-by-node":f.devicesByNode,"devices-in-use":f.devicesInUse},null,8,["enabled-devices","devices-by-node","devices-in-use"])])])):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(E,{schema:g.deviceSchema,devices:g.devices,onSubmit:t[2]||(t[2]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var g=a(71779),f=a(63557),y=a(32766),k=a(49263),N=a(77562),V=a(39812),E=a(93987),w=a(34529),C=a(65079),S=a.n(C),B=a(92590),x={name:"VirtualMachineUSBDevices",components:{Banner:V.A,CompatibilityMatrix:E["default"],DeviceList:w["default"],LabeledSelect:N.A},props:{mode:{type:String,default:g.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:y.rk.USB_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:y.rk.VM})},t=await(0,f.kR)(e);for(const a in t)this[a]=t[a];this.selectedDevices=(this.value?.domain?.devices?.hostDevices||[]).map((({name:e})=>e)).filter((e=>this.enabledDevices.find((t=>t?.metadata?.name===e))))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](y.rk.USB_DEVICE),deviceHeaders:[{...k.c4},k.X0],devices:[],vms:[],selectedDevices:[],showMatrix:!1}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=t?.status?.resourceName;return{deviceName:a,name:t?.metadata.name}})),a=[...this.otherDevices(this.value.domain.devices.hostDevices||[]),...t];(0,B.hZ)(this.value.domain.devices,"hostDevices",a)}},computed:{deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.status.nodeName===t?.status.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name,displayLabel:e?.status?.description})))},enabledDevices(){return this.devices.filter((e=>e.status.enabled))},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.status?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{S()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a?.status.nodeName!==e}))})),e}},methods:{otherDevices(e){return e.filter((e=>!this.devices.find((t=>e.name===t.name))))}}},A=a(47433);const _=(0,A.A)(x,[["render",b]]);var D=_},92200:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-6"},i={key:0,class:"row"},d={class:"col span-12 text-muted"},c={key:1,class:"text-error"},u={class:"row mt-20"},p={class:"col span-12"};function m(e,t,a,m,v,h){const b=(0,l.resolveComponent)("t"),g=(0,l.resolveComponent)("Banner"),f=(0,l.resolveComponent)("LabeledSelect"),y=(0,l.resolveComponent)("VGpuDeviceList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(g,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{k:"harvester.vgpu.howToUseDevice"})])),_:1}),v.selectedDevices.length>0?((0,l.openBlock)(),(0,l.createBlock)(g,{key:0,color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{k:"harvester.vgpu.deviceInTheSameHost"})])),_:1})):(0,l.createCommentVNode)("",!0)])]),h.enabledDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(f,{value:v.selectedDevices,"onUpdate:value":t[0]||(t[0]=e=>v.selectedDevices=e),label:"Available vGPU Devices",searchable:"",multiple:"",taggable:"",options:h.deviceOpts,mode:a.mode},{option:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(e.value),1)])),_:1},8,["value","options","mode"])])]),h.compatibleNodes.length&&v.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("div",d,[t[2]||(t[2]=(0,l.createTextVNode)(" Compatible hosts: ")),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(h.compatibleNodes,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t},(0,l.toDisplayString)(e)+(0,l.toDisplayString)(t<h.compatibleNodes.length-1?", ":""),1)))),128))])])):v.selectedDevices.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,(0,l.toDisplayString)(e.t("harvester.vgpu.impossibleSelection")),1)):(0,l.createCommentVNode)("",!0)],64)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[(0,l.createVNode)(y,{schema:v.deviceSchema,devices:v.devices,onSubmit:t[1]||(t[1]=(0,l.withModifiers)((()=>{}),["prevent"]))},null,8,["schema","devices"])])])])}var v=a(71779),h=a(63557),b=a(77562),g=a(39812),f=a(65079),y=a.n(f),k=a(92590),N=a(32766),V=a(33212),E=a(26812),w={name:"VirtualMachineVGpuDevices",components:{Banner:g.A,LabeledSelect:b.A,VGpuDeviceList:V["default"]},props:{mode:{type:String,default:v.G5},value:{type:Object,default:()=>{}},vm:{type:Object,default:()=>{}}},async fetch(){const e={devices:this.$store.dispatch("harvester/findAll",{type:N.rk.VGPU_DEVICE}),vms:this.$store.dispatch("harvester/findAll",{type:N.rk.VM})},t=await(0,h.kR)(e);for(const l in t)this[l]=t[l];const a=this.vm.isOff?[...(this.value?.domain?.devices?.gpus||[]).map((({name:e})=>e))]:[...Object.values(this.vm?.provisionedVGpus).reduce(((e,t)=>[...e,...t]),[])];(0,E.sb)(a).forEach((e=>{this.enabledDevices.find((t=>t?.metadata?.name===e))&&this.selectedDevices.push(e)}))},data(){return{deviceSchema:this.$store.getters["harvester/schemaFor"](N.rk.VGPU_DEVICE),devices:[],vms:[],selectedDevices:[]}},watch:{selectedDevices(e){const t=e.map((e=>{const t=this.enabledDevices.find((t=>t.metadata.name===e)),a=`nvidia.com/${t?.status?.configureVGPUTypeName?.replace(/\s+/g,"_")}`;return{deviceName:a,name:t?.metadata.name}}));(0,k.hZ)(this.value.domain.devices,"gpus",t)}},computed:{enabledDevices(){return this.devices.filter((e=>e.isEnabled))||[]},devicesInUse(){const e=this.vms.reduce(((e,t)=>(t.metadata.name===this.vm?.metadata?.name||t.hostDevices.forEach((a=>{e[a.name]={usedBy:[t.metadata.name]}})),e)),{});return e},devicesByNode(){return this.enabledDevices?.reduce(((e,t)=>{const a=t.spec?.nodeName;return a&&(e[a]?e[a].push(t):e[a]=[]),e}),{})},compatibleNodes(){const e=[...Object.keys(this.devicesByNode)];return this.selectedDevices.forEach((t=>{y()(e,(e=>{const a=this.enabledDevices.find((e=>e.metadata.name===t));return a.spec.nodeName!==e}))})),e},deviceOpts(){const e=this.enabledDevices.filter((e=>{if(this.selectedDevices.length>0){const t=this.enabledDevices.find((e=>e.metadata.name===this.selectedDevices[0]));return!this.devicesInUse[e?.metadata.name]&&e.spec.nodeName===t.spec.nodeName}return!this.devicesInUse[e?.metadata.name]}));return e.map((e=>({value:e?.metadata.name,label:e?.metadata.name})))}}},C=a(47433);const S=(0,C.A)(w,[["render",m]]);var B=S},5282:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ie}});var l=a(9274);const o={key:2,class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"},n={class:"row mb-20"},i={class:"col span-6"},d={class:"col span-6"},c={class:"row mb-20"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mb-20"},v={key:0,class:"mb-20"},h={class:"row mb-20"},b={class:"col span-6"},g={class:"col span-6"},f={class:"row mb-20"},y={class:"col span-6"},k={key:1};function N(e,t,a,N,V,E){const w=(0,l.resolveComponent)("RadioGroup"),C=(0,l.resolveComponent)("LabeledInput"),S=(0,l.resolveComponent)("NameNsDescription"),B=(0,l.resolveComponent)("Checkbox"),x=(0,l.resolveComponent)("LabeledSelect"),A=(0,l.resolveComponent)("CpuMemory"),_=(0,l.resolveComponent)("SSHKey"),D=(0,l.resolveComponent)("Tab"),U=(0,l.resolveComponent)("Volume"),M=(0,l.resolveComponent)("Network"),L=(0,l.resolveComponent)("NodeScheduling"),T=(0,l.resolveComponent)("PodAffinity"),O=(0,l.resolveComponent)("PciDevices"),I=(0,l.resolveComponent)("VGpuDevices"),R=(0,l.resolveComponent)("UsbDevices"),$=(0,l.resolveComponent)("AccessCredentials"),P=(0,l.resolveComponent)("t"),q=(0,l.resolveComponent)("Banner"),F=(0,l.resolveComponent)("KeyValue"),G=(0,l.resolveComponent)("Reserved"),K=(0,l.resolveComponent)("UnitInput"),j=(0,l.resolveComponent)("CloudConfig"),H=(0,l.resolveComponent)("MessageLink"),J=(0,l.resolveComponent)("Tabbed"),z=(0,l.resolveComponent)("RestartVMDialog"),Q=(0,l.resolveComponent)("CruResource"),Y=(0,l.resolveDirective)("t");return e.spec?((0,l.openBlock)(),(0,l.createBlock)(Q,{key:0,id:"vm","done-route":e.doneRoute,resource:a.value,"cancel-event":!0,mode:e.mode,"validation-passed":E.isValidationPassed,"can-yaml":!!V.isSingle,errors:e.errors,"generate-yaml":E.generateYaml,"apply-hooks":e.applyHooks,onFinish:E.saveVM,onCancel:E.cancelAction},{default:(0,l.withCtx)((()=>[e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(w,{key:0,value:V.isSingle,"onUpdate:value":t[0]||(t[0]=e=>V.isSingle=e),class:"mb-20 vm-radio-group",name:"createInstanceMode",options:[!0,!1],labels:[e.t("harvester.virtualMachine.instance.single.label"),e.t("harvester.virtualMachine.instance.multiple.label")]},null,8,["value","labels"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(S,{value:a.value,mode:e.mode,"has-extra":!V.isSingle,"name-label":E.nameLabel,namespaced:!0,"name-placeholder":V.isSingle?"nameNsDescription.name.placeholder":"harvester.virtualMachine.instance.multiple.nameNsDescription","extra-columns":V.isSingle?[]:["type"],"onUpdate:value":t[2]||(t[2]=t=>e.$emit("update:value",t))},{type:(0,l.withCtx)((()=>[V.isSingle?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(C,{key:0,value:V.count,"onUpdate:value":[t[1]||(t[1]=e=>V.count=e),E.validateCount],valueModifiers:{number:!0},min:2,type:"number",label:e.t("harvester.virtualMachine.instance.multiple.count"),required:""},null,8,["value","label","onUpdate:value"]))])),_:1},8,["value","mode","has-extra","name-label","name-placeholder","extra-columns"]),e.isCreate?((0,l.openBlock)(),(0,l.createBlock)(B,{key:1,value:V.useTemplate,"onUpdate:value":t[3]||(t[3]=e=>V.useTemplate=e),class:"check mb-20",type:"checkbox","label-key":"harvester.virtualMachine.useTemplate.label"},null,8,["value"])):(0,l.createCommentVNode)("",!0),V.useTemplate?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(x,{value:V.templateId,"onUpdate:value":[t[4]||(t[4]=e=>V.templateId=e),E.updateTemplateId],"label-key":"harvester.virtualMachine.useTemplate.template.label",options:E.templateOptions},null,8,["value","options","onUpdate:value"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(x,{value:V.templateVersionId,"onUpdate:value":t[5]||(t[5]=e=>V.templateVersionId=e),"label-key":"harvester.virtualMachine.useTemplate.version.label",options:E.versionOptions},null,8,["value","options"])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(J,{"side-tabs":!0,onChanged:E.onTabChanged},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{name:"basics",label:e.t("harvester.virtualMachine.detail.tabs.basics")},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{cpu:e.cpu,memory:e.memory,mode:e.mode,onUpdateCpuMemory:e.updateCpuMemory},null,8,["cpu","memory","mode","onUpdateCpuMemory"]),(0,l.createVNode)(_,{value:e.sshKey,"onUpdate:value":t[6]||(t[6]=t=>e.sshKey=t),class:"mb-20","create-namespace":!0,namespace:a.value.metadata.namespace,mode:e.mode,disabled:e.isWindows||e.isEdit,"onUpdate:sshKey":e.updateSSHKey,onRegisterAfterHook:e.registerAfterHook},null,8,["value","namespace","mode","disabled","onUpdate:sshKey","onRegisterAfterHook"])])),_:1},8,["label"]),(0,l.createVNode)(D,{name:"Volume",label:e.t("harvester.tab.volume"),weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(U,{value:e.diskRows,"onUpdate:value":t[7]||(t[7]=t=>e.diskRows=t),mode:e.mode,"custom-volume-mode":e.customVolumeMode,namespace:a.value.metadata.namespace,"resource-type":a.value.type,vm:a.value,"validate-required":!0},null,8,["value","mode","custom-volume-mode","namespace","resource-type","vm"])])),_:1},8,["label"]),(0,l.createVNode)(D,{name:"Network",label:e.t("harvester.tab.network"),weight:-2},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{value:e.networkRows,"onUpdate:value":t[8]||(t[8]=t=>e.networkRows=t),mode:e.mode,"is-single":V.isSingle},null,8,["value","mode","is-single"])])),_:1},8,["label"]),(0,l.createVNode)(D,{name:"nodeScheduling",label:e.t("workload.container.titles.nodeScheduling"),weight:-3},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(L,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodesIdOptions},null,8,["mode","value","nodes"])])),_:1},8,["label"]),(0,l.createVNode)(D,{label:e.t("harvester.tab.vmScheduling"),name:"vmScheduling",weight:-4},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(T,{mode:e.mode,value:e.spec.template.spec,nodes:e.nodes,"all-namespaces-option-available":!0,namespaces:e.filteredNamespaces,"overwrite-labels":e.affinityLabels},null,8,["mode","value","nodes","namespaces","overwrite-labels"])])),_:1},8,["label"]),e.enabledPCI?((0,l.openBlock)(),(0,l.createBlock)(D,{key:0,label:e.t("harvester.tab.pciDevices"),name:"pciDevices",weight:-5},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(O,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.enabledSriovgpu?((0,l.openBlock)(),(0,l.createBlock)(D,{key:1,label:e.t("harvester.tab.vGpuDevices"),name:"vGpuDevices",weight:-6},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(I,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.enabledPCI?((0,l.openBlock)(),(0,l.createBlock)(D,{key:2,label:e.t("harvester.tab.usbDevices"),name:"usbDevices",weight:-7},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(R,{mode:e.mode,value:e.spec.template.spec,vm:a.value},null,8,["mode","value","vm"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),e.isEdit?((0,l.openBlock)(),(0,l.createBlock)(D,{key:3,label:e.t("harvester.tab.accessCredentials"),name:"accessCredentials",weight:-8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{value:e.accessCredentials,"onUpdate:value":t[9]||(t[9]=t=>e.accessCredentials=t),mode:e.mode,"resource-type":a.value,"is-qemu-installed":E.isQemuInstalled},null,8,["value","mode","resource-type","is-qemu-installed"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(D,{name:"labels",label:e.t("generic.labels"),weight:-9},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(q,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(P,{k:"harvester.virtualMachine.labels.banner"})])),_:1}),(0,l.createVNode)(F,{key:"labels",value:a.value.labels,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[10]||(t[10]=e=>a.value.setLabels(e))},null,8,["value","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(D,{name:"instanceLabel",label:e.t("harvester.tab.instanceLabel"),weight:-10},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(q,{color:"info"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(P,{k:"harvester.virtualMachine.instanceLabels.banner"})])),_:1}),(0,l.createVNode)(F,{key:"instance-labels",value:a.value.instanceLabels,"protected-keys":a.value.systemLabels||[],"toggle-filter":e.toggler,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0,"onUpdate:value":t[11]||(t[11]=e=>a.value.setInstanceLabels(e))},null,8,["value","protected-keys","toggle-filter","add-label","mode"])])),_:1},8,["label"]),(0,l.createVNode)(D,{name:"advanced",label:e.t("harvester.tab.advanced"),weight:-11},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(x,{value:e.runStrategy,"onUpdate:value":t[12]||(t[12]=t=>e.runStrategy=t),"label-key":"harvester.virtualMachine.runStrategy",options:e.runStrategies,mode:e.mode},null,8,["value","options","mode"])]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(x,{value:e.osType,"onUpdate:value":t[13]||(t[13]=t=>e.osType=t),"label-key":"harvester.virtualMachine.osType",options:e.OS,disabled:!e.isCreate},null,8,["value","options","disabled"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(x,{value:e.maintenanceStrategy,"onUpdate:value":t[14]||(t[14]=t=>e.maintenanceStrategy=t),"label-key":"harvester.virtualMachine.maintenanceStrategy.label",options:e.maintenanceStrategies,"get-option-label":e.getMaintenanceStrategyOptionLabel,mode:e.mode},null,8,["value","options","get-option-label","mode"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(G,{"reserved-memory":e.reservedMemory,mode:e.mode,onUpdateReserved:e.updateReserved},null,8,["reserved-memory","mode","onUpdateReserved"])])]),(0,l.createElementVNode)("div",m,[e.showAdvanced?(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:0,role:"button",onClick:t[15]||(t[15]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[Y,"harvester.generic.showMore"]]):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("a",{key:1,role:"button",onClick:t[16]||(t[16]=(...t)=>e.toggleAdvanced&&e.toggleAdvanced(...t))},null,512)),[[Y,"harvester.generic.showMore"]])]),e.showAdvanced?((0,l.openBlock)(),(0,l.createElementBlock)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createElementVNode)("div",b,[(0,l.createVNode)(C,{value:V.hostname,"onUpdate:value":t[17]||(t[17]=e=>V.hostname=e),"label-key":E.hostnameLabel,placeholder:E.hostPlaceholder,mode:e.mode},null,8,["value","label-key","placeholder","mode"])]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(x,{value:e.machineType,"onUpdate:value":t[18]||(t[18]=t=>e.machineType=t),"label-key":"harvester.virtualMachine.input.MachineType",options:E.machineTypeOptions,mode:e.mode},null,8,["value","options","mode"])])]),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(K,{value:e.terminationGracePeriodSeconds,"onUpdate:value":[t[19]||(t[19]=t=>e.terminationGracePeriodSeconds=t),e.updateTerminationGracePeriodSeconds],suffix:1==e.terminationGracePeriodSeconds?"Second":"Seconds",label:e.t("harvester.virtualMachine.terminationGracePeriodSeconds.label"),mode:e.mode,positive:""},null,8,["value","suffix","label","mode","onUpdate:value"])])])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(j,{ref:"yamlEditor","user-script":e.userScript,mode:e.mode,"view-code":e.isWindows,namespace:a.value.metadata.namespace,"network-script":e.networkScript,onUpdateUserData:e.updateUserData,onUpdateNetworkData:e.updateNetworkData,onUpdateDataTemplateId:e.updateDataTemplateId},null,8,["user-script","mode","view-code","namespace","network-script","onUpdateUserData","onUpdateNetworkData","onUpdateDataTemplateId"]),a.value.cpuPinningFeatureEnabled?((0,l.openBlock)(),(0,l.createBlock)(B,{key:1,value:e.cpuPinning,"onUpdate:value":t[20]||(t[20]=t=>e.cpuPinning=t),disabled:!E.enableCpuPinningCheckbox,class:"check",type:"checkbox","tooltip-key":"harvester.virtualMachine.cpuPinning.tooltip","label-key":"harvester.virtualMachine.cpuPinning.label",mode:e.mode},null,8,["value","disabled","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(B,{value:e.installUSBTablet,"onUpdate:value":t[21]||(t[21]=t=>e.installUSBTablet=t),class:"check mt-20",type:"checkbox","tooltip-key":"harvester.virtualMachine.usbTip","label-key":"harvester.virtualMachine.enableUsb",mode:e.mode},null,8,["value","mode"]),(0,l.createVNode)(B,{value:e.installAgent,"onUpdate:value":[t[22]||(t[22]=t=>e.installAgent=t),e.updateAgent],class:"check",type:"checkbox",disabled:e.isWindows,"label-key":"harvester.virtualMachine.installAgent",mode:e.mode},null,8,["value","disabled","mode","onUpdate:value"]),(0,l.createVNode)(B,{value:e.tpmEnabled,"onUpdate:value":t[23]||(t[23]=t=>e.tpmEnabled=t),class:"check",type:"checkbox","label-key":"harvester.virtualMachine.advancedOptions.tpm",mode:e.mode},null,8,["value","mode"]),a.value.tpmPersistentStateFeatureEnabled&&e.tpmEnabled?((0,l.openBlock)(),(0,l.createBlock)(B,{key:2,value:e.tpmPersistentStateEnabled,"onUpdate:value":t[24]||(t[24]=t=>e.tpmPersistentStateEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.tpmPersistentState"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(B,{value:e.efiEnabled,"onUpdate:value":t[25]||(t[25]=t=>e.efiEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.efiEnabled"),mode:e.mode},null,8,["value","label","mode"]),a.value.efiPersistentStateFeatureEnabled&&e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(B,{key:3,value:e.efiPersistentStateEnabled,"onUpdate:value":t[26]||(t[26]=t=>e.efiPersistentStateEnabled=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.efiPersistentState"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),e.efiEnabled?((0,l.openBlock)(),(0,l.createBlock)(B,{key:4,value:e.secureBoot,"onUpdate:value":t[27]||(t[27]=t=>e.secureBoot=t),class:"check",type:"checkbox",label:e.t("harvester.virtualMachine.advancedOptions.secureBoot"),mode:e.mode},null,8,["value","label","mode"])):(0,l.createCommentVNode)("",!0),E.showCpuPinningBanner?((0,l.openBlock)(),(0,l.createBlock)(q,{key:5,color:"warning"},{default:(0,l.withCtx)((()=>["create"===e.mode?((0,l.openBlock)(),(0,l.createBlock)(H,{key:0,to:E.to,"prefix-label":"harvester.virtualMachine.advancedOptions.cpuManager.prefix","middle-label":"harvester.virtualMachine.advancedOptions.cpuManager.middle","suffix-label":"harvester.virtualMachine.advancedOptions.cpuManager.suffix"},null,8,["to"])):(0,l.createCommentVNode)("",!0),"edit"===e.mode?((0,l.openBlock)(),(0,l.createElementBlock)("span",k,(0,l.toDisplayString)(e.t("harvester.virtualMachine.cpuPinning.restartVMMessage")),1)):(0,l.createCommentVNode)("",!0)])),_:1})):(0,l.createCommentVNode)("",!0)])),_:1},8,["label"])])),_:1},8,["onChanged"]),V.isOpen?((0,l.openBlock)(),(0,l.createBlock)(z,{key:3,ref:"restartDialog",vm:a.value},null,8,["vm"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["done-route","resource","mode","validation-passed","can-yaml","errors","generate-yaml","apply-hooks","onFinish","onCancel"])):(0,l.createCommentVNode)("",!0)}var V=a(45250),E=a(65359),w=a(4335),C=a(94877),S=a(34211),B=a(22065),x=a(21221),A=a(5327),_=a(77562),D=a(11922),U=a(63418),M=a(15319),L=a(32841),T=a(92200),O=a(10707),I=a(85905),R=a(26812),$=a(92590),P=a(1195),q=a(26953),F=a(2602),G=a(54348),K=a(72706),j=a(66490),H=a(48249),J=a(32766),z=a(80296),Q=a(7060),Y=a(60068),W=a(81559),Z=a(46324),X=a(8746),ee=a(24830),te=a(59026),ae=a(14869),le=a(89121),oe=a(37752),se={name:"HarvesterEditVM",emits:["update:value"],components:{Tab:C.A,Tabbed:w.A,Checkbox:S.S,RadioGroup:x.z,CruResource:B.A,LabeledInput:A.o,LabeledSelect:_.A,NameNsDescription:D.A,Volume:ee["default"],SSHKey:te["default"],Network:X["default"],CpuMemory:Z["default"],CloudConfig:W["default"],NodeScheduling:M.A,PodAffinity:L.A,AccessCredentials:Y["default"],Reserved:ae["default"],PciDevices:Q["default"],RestartVMDialog:z["default"],UnitInput:U.A,VGpuDevices:T["default"],KeyValue:I.A,Banner:le.l,MessageLink:oe.A,UsbDevices:O["default"]},mixins:[K.A,H.Ay],inheritAttrs:!1,props:{value:{type:Object,required:!0}},data(){const e=(0,$.o8)(this.value),t="Running"===this.value.actualState,a=this.value.spec.template.spec.hostname||"";return{cloneVM:e,count:2,templateId:"",templateVersionId:"",namePrefix:"",isSingle:!0,useTemplate:!1,isOpen:!1,hostname:a,isRestartImmediately:t}},computed:{...(0,E.L8)({t:"i18n/t"}),to(){return{name:"harvester-c-cluster-resource",params:{cluster:this.$store.getters["clusterId"],resource:J.rk.HOST}}},machineTypeOptions(){return[{label:"None",value:""},{label:"q35",value:"q35"}]},templateOptions(){return this.templates.map((e=>{const t=this.hasAvailableVersion(e.id);return{label:e.id,value:e.id,disabled:!t}}))},versionOptions(){const e=this.curTemplateResource?.defaultVersion;return this.versions.filter((e=>e.templateId===this.templateId)).map((t=>{const a=t.version,l=e===a?`${a} (${this.t("generic.default")})`:a,o=t.id;return{label:l,value:o,disabled:!t.isReady}}))},curTemplateResource(){return this.templates.find((e=>e.id===this.templateId))},nameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.nameLabel":"harvester.virtualMachine.instance.multiple.nameLabel"},hostnameLabel(){return this.isSingle?"harvester.virtualMachine.instance.single.host.label":"harvester.virtualMachine.instance.multiple.host.label"},hostPlaceholder(){return this.isSingle?this.t("harvester.virtualMachine.instance.single.host.placeholder"):this.t("harvester.virtualMachine.instance.multiple.host.placeholder")},secretNamePrefix(){return this.value?.metadata?.name},isQemuInstalled(){return this.value.isQemuInstalled},hasRestartAction(){return this.value.hasAction("restart")},hasStartAction(){return this.value.hasAction("start")},enableCpuPinningCheckbox(){return"create"!==this.mode||this.nodes.some((e=>e.isCPUManagerEnabled))},isValidationPassed(){const e=this.diskRows.some((e=>!0===e.hasDiskError));return!e},showCpuPinningBanner(){return!!this.value.cpuPinningFeatureEnabled&&("edit"===this.mode?this.cpuPinning!==!!this.cloneVM.spec.template.spec.domain.cpu.dedicatedCpuPlacement:"create"===this.mode&&this.nodes.every((e=>!e.isCPUManagerEnabled)))}},watch:{templateId:{async handler(e,t){if(e&&e!==t&&!this.templateVersionId){const t=await this.$store.dispatch("harvester/findAll",{type:J.rk.VM_TEMPLATE});this.templateVersionId=t.find((t=>t.id===e))?.spec?.defaultVersionId}},immediate:!1},templateVersionId:{async handler(e){if(!e)return;const t=await this.$store.dispatch("harvester/findAll",{type:J.rk.VM_VERSION}),a=t.find((t=>t.id===e)),l=(0,$.o8)(a.spec.vm);delete l.spec?.template?.spec?.accessCredentials,delete l.spec?.template?.metadata?.annotations?.[F.r.DYNAMIC_SSHKEYS_NAMES],delete l.spec?.template?.metadata?.annotations?.[F.r.DYNAMIC_SSHKEYS_USERS];const o=(0,j.v)(l),s=o.map((e=>(e?.spec?.dataSource&&delete e.spec.dataSource,e)));l.metadata.annotations[F.r.VOLUME_CLAIM_TEMPLATE]=JSON.stringify(s),this.getInitConfig({value:l,existUserData:!0,fromTemplate:!0}),this["hasCreateVolumes"]=[]}},useTemplate(e){!1===e&&(this.templateId="",this.templateVersionId="",this.value.applyDefaults(),this.getInitConfig({value:this.value,init:this.isCreate}))}},created(){this.registerAfterHook((async()=>{await this.restartVM();const e=`${this.value.metadata.namespace}/${this.value.metadata.name}`,t=this.$store.getters["harvester/byId"](J.rk.VM,e);try{await this.saveSecret(t),await this.saveAccessCredentials(t)}catch(a){this.errors.push(...(0,q.rz)(a))}!this.errors.length&&this.isSingle&&this.done()})),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},mounted(){this.imageId=this.$route.query?.image||this.imageId;const e=this.getDiskRows(this.value);this["diskRows"]=e;const t=this.$route.query.templateId,a=this.$route.query.versionId;t&&a&&(this.templateId=t,this.templateVersionId=a,this.useTemplate=!0)},methods:{cancelAction(){const{fromPage:e=J.rk.VM}=this.$route?.query,t={name:this.doneRoute,params:{resource:e}};this.$router.replace(t)},saveVM(e){(0,R.IU)(this.errors),this.isSingle?this.saveSingle(e):this.saveMultiple(e)},async saveSingle(e){this.parseVM(),this.value.spec.template.spec.hostname=this.hostname?this.hostname:this.value.metadata.name,await this._save(this.value,e),this.errors.length?e(!1):e(!0)},async saveMultiple(e){this.namePrefix=this.value.metadata.name||"";const t=this.namePrefix.endsWith("-")?"":"-",a=this.hostname?this.hostname:this.namePrefix;if(this.count<1)return this.errors=[this.t("harvester.virtualMachine.instance.multiple.countTip")],void e(!1);if(!this.value.metadata.name)return this.errors.push(this.t("validation.required",{key:this.t("generic.name")},!0)),void e(!1);const l=(0,$.o8)(this.value),o=(0,$.o8)(this.spec);for(let s=1;s<=this.count;s++){this.value["spec"]=l.spec,this["spec"]=o;const r=s<10?`0${s}`:s;this.value.cleanForNew(),this.value.metadata.name=`${this.namePrefix}${t}${r}`,this.value.spec.template.spec["hostname"]=`${a}${t}${r}`,this.secretName="",await this.parseVM();const n=await this.$store.dispatch("harvester/clone",{resource:this.value});await this._save(n,e),s!==this.count||this.errors.length?s===this.count&&(this.value.metadata.name=this.namePrefix,e(!1)):(e(!0),this.done())}},async _save(e,t){try{await this.applyHooks(G.Fm),await e.save(),await this.applyHooks(G.Mz)}catch(a){this.errors.push(...(0,q.rz)(a)),t(!1)}},restartVM(){if("edit"!==this.mode)return;if(!this.value.isRunning)return;const e=(0,$.o8)(this.value);delete e?.metadata,delete this.cloneVM?.metadata,delete this.cloneVM?.__clone;const t=JSON.parse(JSON.stringify(this.cloneVM)),a=JSON.parse(JSON.stringify(e));return(0,V.isEqual)(t,a)?void 0:new Promise((e=>{this.isOpen=!0,this.$nextTick((()=>{this.$refs.restartDialog.resolve=e}))}))},updateBeforeSave(){this.isSingle&&(this.value.spec.template.spec.hostname||(this.value.spec.template.spec["hostname"]=this.value.metadata.name));const e=this.getAccessCredentialsValidation();return e.length>0?Promise.reject(e):Promise.resolve()},validateCount(e){e>10&&(this["count"]=10)},updateTemplateId(){this.templateVersionId=""},onTabChanged({tab:e}){"advanced"===e.name&&this.$refs.yamlEditor?.refresh()},hasAvailableVersion(e){let t=!1;return this.versions.filter((t=>t.templateId===e)).find((e=>{e.isReady&&(t=!0)})),t},generateYaml(){this.parseVM();const e=(0,P.Kq)(this.value);return e}}},re=(a(98338),a(47433));const ne=(0,re.A)(se,[["render",N],["__scopeId","data-v-27fdbb13"]]);var ie=ne},89625:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var l=a(9274);const o={key:0},s={key:0,class:"pool-project"},r={class:"pool-namespace"},n={key:1,class:"pool-guestCluster"},i={key:2,class:"remove"},d={key:1,class:"footer"};function c(e,t,a,c,u,p){const m=(0,l.resolveComponent)("t"),v=(0,l.resolveComponent)("PriorityRow");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("h3",null,(0,l.toDisplayString)(e.t("harvester.ipPool.scope.label")),1),u.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-headers",{"show-project-and-cluster":p.showProjectAndCluster}])},[p.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("span",s,[(0,l.createVNode)(m,{k:"harvester.ipPool.project.label"})])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("span",r,[(0,l.createVNode)(m,{k:"harvester.ipPool.namespace.label"})]),p.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("span",n,[(0,l.createVNode)(m,{k:"harvester.ipPool.guestCluster.label"})])):(0,l.createCommentVNode)("",!0),p.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",i)):(0,l.createCommentVNode)("",!0)],2),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(u.rows,((t,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o},[(0,l.createVNode)(v,{row:t,mode:a.mode,rows:u.rows,idx:o,"onUpdate:value":e.queueUpdate,onRemove:e=>p.remove(o)},null,8,["row","mode","rows","idx","onUpdate:value","onRemove"])])))),128))])):(0,l.createCommentVNode)("",!0),p.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[0]||(t[0]=e=>p.add())},[(0,l.createVNode)(m,{k:"harvester.ipPool.scope.addLabel"})])])):(0,l.createCommentVNode)("",!0)])}var u=a(12784),p=a.n(u),m=a(71779),v=a(26812),h=a(92590),b=a(65359),g=a(1214),f={emits:["update:value"],components:{PriorityRow:g["default"]},props:{value:{type:Array,default:null},mode:{type:String,default:m.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,h.o8)(this.value||[]);return{rows:e}},computed:{...(0,b.L8)(["isRancherInHarvester","isStandaloneHarvester"]),isView(){return this.mode===m.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},showProjectAndCluster(){return!this.isStandaloneHarvester}},created(){this.queueUpdate=p()(this.update,500)},methods:{add(){const e={namespace:"*"};this.showProjectAndCluster?this.rows.push({...e,project:"*",guestCluster:"*"}):this.rows.push(e),this.queueUpdate()},remove(e){(0,v.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},y=(a(30347),a(47433));const k=(0,y.A)(f,[["render",c],["__scopeId","data-v-3ca2ec55"]]);var N=k},1214:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var l=a(9274);const o={key:0,class:"pool-project"},s={key:0},r={class:"pool-namespace"},n={key:0},i={key:1,class:"pool-guestCluster"},d={key:0},c={key:2,class:"remove"};function u(e,t,a,u,p,m){const v=(0,l.resolveComponent)("Select"),h=(0,l.resolveComponent)("t");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["pool-row",{"show-project-and-cluster":m.showProjectAndCluster}])},[m.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",s,(0,l.toDisplayString)(a.row.project),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.project,"onUpdate:value":[t[0]||(t[0]=e=>a.row.project=e),m.update],options:m.projectOptions},null,8,["value","options","onUpdate:value"]))])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",r,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",n,(0,l.toDisplayString)(a.row.namespace),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.namespace,"onUpdate:value":[t[1]||(t[1]=e=>a.row.namespace=e),m.update],options:m.namespaceOptions},null,8,["value","options","onUpdate:value"]))]),m.showProjectAndCluster?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[m.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",d,(0,l.toDisplayString)(a.row.guestCluster),1)):((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,value:a.row.guestCluster,"onUpdate:value":[t[2]||(t[2]=e=>a.row.guestCluster=e),m.update],options:m.guestClusterOptions},null,8,["value","options","onUpdate:value"]))])):(0,l.createCommentVNode)("",!0),m.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:t[3]||(t[3]=e=>m.remove(a.idx))},[(0,l.createVNode)(h,{k:"generic.remove"})])])):(0,l.createCommentVNode)("",!0)],2)}var p=a(71779),m=a(44863),v=a(20665),h=a(65359),b=a(32766),g={emits:["update:value","remove"],components:{Select:m.A},props:{row:{type:Object,default:()=>({})},mode:{type:String,default:p.G5},rows:{type:Array,default:()=>[]},idx:{type:Number,required:!0}},data(){return{value:""}},computed:{...(0,h.L8)(["allNamespaces","currentCluster","isRancherInHarvester","isStandaloneHarvester"]),showProjectAndCluster(){return!this.isStandaloneHarvester},isView(){return this.mode===p.nW},showRemove(){return!this.isView},filteredNamespaces(){const e=this.allNamespaces||[];return e.filter((e=>"*"===this.row.project||(!this.row.project||e.project?.id===this.row.project)))},namespaceOptions(){const e=(this.filteredNamespaces||[]).map((e=>({label:e.metadata.name,value:e.id})));return[{label:this.t("generic.all"),value:"*"},...e]},guestClusterOptions(){const e=this.$store.getters["management/all"](v.qt.RANCHER_CLUSTER),t=this.$store.getters["management/all"](b.rk.HARVESTER_CONFIG),a=this.rows.map((e=>e?.guestCluster)),l=this.filteredNamespaces.map((e=>e.id)),o=e.filter((e=>{const o=e.spec?.rkeConfig?.machinePools||[],s=o[0]?.machineConfigRef?.name,r=t.find((e=>e.id===`fleet-default/${s}`));if(r){const t=r?.vmNamespace;return!("*"!==this.row.namespace||!l.includes(t))||t===this.row.namespace&&!a.includes(e.id)}return!1})).map((e=>({label:e.nameDisplay,value:e.metadata.name})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...o]},projectOptions(){const e=this.$store.getters["management/all"](v.Mc.PROJECT),t=e.filter((e=>e.metadata.namespace===this.currentCluster.id)).map((e=>({label:e.nameDisplay,value:e.id})));return[{label:this.t("generic.none"),value:""},{label:this.t("generic.all"),value:"*"},...t]}},methods:{update(){const{namespace:e,project:t,guestCluster:a}=this.row;this.$emit("update:value",{namespace:e,project:t,guestCluster:a})},remove(){this.$emit("remove")}},watch:{"row.project"(){"*"!==this.row.namespace&&(this.row.namespace=""),"*"===this.row.guestCluster&&""===this.row.guestCluster||(this.row.guestCluster="")},"row.namespace"(){"*"!==this.row.guestCluster&&(this.row.guestCluster="")}}},f=(a(59688),a(47433));const y=(0,f.A)(g,[["render",u],["__scopeId","data-v-6c39bd05"]]);var k=y},52728:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var l=a(9274);const o={key:0},s={class:"pool-subnet"},r={class:"pool-gateway"},n={key:0,class:"pool-startIP"},i={key:1,class:"pool-endIP"},d={key:2,class:"remove"},c={class:"pool-subnet"},u={key:0},p=["onUpdate:modelValue"],m={class:"pool-gateway"},v={key:0},h=["onUpdate:modelValue"],b={key:0,class:"pool-startIP"},g={key:0},f=["onUpdate:modelValue"],y={key:1,class:"pool-endIP"},k={key:0},N=["onUpdate:modelValue"],V={key:2,class:"remove"},E=["onClick"],w={key:1,class:"footer"};function C(e,t,a,C,S,B){const x=(0,l.resolveComponent)("t");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[S.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(S.rows,((a,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o},[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-headers",{[a.type]:!0}])},[(0,l.createElementVNode)("span",s,[(0,l.createVNode)(x,{k:"harvester.ipPool.subnet.label"}),t[6]||(t[6]=(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))]),(0,l.createElementVNode)("span",r,[(0,l.createVNode)(x,{k:"harvester.ipPool.gateway.label"})]),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("span",n,[(0,l.createVNode)(x,{k:"harvester.ipPool.startIP.label"})])):(0,l.createCommentVNode)("",!0),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("span",i,[(0,l.createVNode)(x,{k:"harvester.ipPool.endIP.label"})])):(0,l.createCommentVNode)("",!0),B.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",d)):(0,l.createCommentVNode)("",!0)],2),(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["pool-row",{[a.type]:!0}])},[(0,l.createElementVNode)("div",c,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",u,(0,l.toDisplayString)(a.subnet),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.subnet=e,type:"text",onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,p)),[[l.vModelText,a.subnet]])]),(0,l.createElementVNode)("div",m,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",v,(0,l.toDisplayString)(a.gateway),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.gateway=e,type:"text",onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,h)),[[l.vModelText,a.gateway]])]),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("div",b,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",g,(0,l.toDisplayString)(a.rangeStart),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeStart=e,type:"text",onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,f)),[[l.vModelText,a.rangeStart]])])):(0,l.createCommentVNode)("",!0),"range"===a.type?((0,l.openBlock)(),(0,l.createElementBlock)("div",y,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",k,(0,l.toDisplayString)(a.rangeEnd),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.rangeEnd=e,type:"text",onInput:t[3]||(t[3]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,N)),[[l.vModelText,a.rangeEnd]])])):(0,l.createCommentVNode)("",!0),B.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",V,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>B.remove(o)},[(0,l.createVNode)(x,{k:"generic.remove"})],8,E)])):(0,l.createCommentVNode)("",!0)],2)])))),128))])):(0,l.createCommentVNode)("",!0),B.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",w,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[4]||(t[4]=e=>B.addCIDR())},[(0,l.createVNode)(x,{k:"harvester.ipPool.cidr.addLabel"})]),(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[5]||(t[5]=e=>B.addRange())},[(0,l.createVNode)(x,{k:"harvester.ipPool.range.addLabel"})])])):(0,l.createCommentVNode)("",!0)])}var S=a(12784),B=a.n(S),x=a(71779),A=a(26812),_={emits:["update:value"],props:{value:{type:Array,default:null},mode:{type:String,default:x.G5},specType:{type:String,default:"ClusterIP"},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(this.value||[]).map((e=>{let t="cidr";return e.rangeStart&&e.rangeEnd&&(t="range"),{...e,type:t}}));return{rows:e}},computed:{isView(){return this.mode===x.nW},showAdd(){return!this.isView},showRemove(){return!this.isView}},created(){this.queueUpdate=B()(this.update,500)},methods:{addCIDR(){this.rows.push({subnet:"",gateway:"",type:"cidr"}),this.queueUpdate()},addRange(){this.rows.push({subnet:"",gateway:"",rangeStart:"",rangeEnd:"",type:"range"}),this.queueUpdate()},remove(e){(0,A.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},D=(a(90839),a(47433));const U=(0,D.A)(_,[["render",C],["__scopeId","data-v-070c8736"]]);var M=U},10788:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-6"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("LabeledInput"),p=(0,l.resolveComponent)("Priority");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(c,{value:i.selector.network,"onUpdate:value":[t[0]||(t[0]=e=>i.selector.network=e),e.queueUpdate],label:e.t("harvester.ipPool.network.label"),options:d.networkOptions,mode:a.mode},null,8,["value","label","options","mode","onUpdate:value"])]),(0,l.createElementVNode)("div",r,[(0,l.createVNode)(u,{value:i.selector.priority,"onUpdate:value":[t[1]||(t[1]=e=>i.selector.priority=e),d.update],valueModifiers:{number:!0},label:e.t("harvester.ipPool.priority.label"),mode:a.mode,type:"number",min:"0"},null,8,["value","label","mode","onUpdate:value"])])]),(0,l.createVNode)(p,{value:i.selector.scope,"onUpdate:value":[t[2]||(t[2]=e=>i.selector.scope=e),d.update],class:"col span-12",mode:a.mode},null,8,["value","mode","onUpdate:value"])])}var i=a(12784),d=a.n(i),c=a(77562),u=a(5327),p=a(20665),m=a(71779),v=a(89625),h={emits:["update:value"],components:{LabeledSelect:c.A,LabeledInput:u.o,Priority:v["default"]},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:m.G5}},data(){const e=this.value||{network:"",priority:0,scope:[]};return{selector:e}},computed:{networkOptions(){const e=this.$store.getters["harvester/all"](p.XG)||[];return[{label:this.t("generic.none"),value:""},...e.map((e=>({label:e.id,value:e.id})))]}},created(){this.queueUpdate=d()(this.update,500)},methods:{update(){this.isView||this.$emit("update:value",this.selector)}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},59405:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("Range"),d=(0,l.resolveComponent)("Tab"),c=(0,l.resolveComponent)("Selector"),u=(0,l.resolveComponent)("ResourceTabs"),p=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(p,{"done-route":e.doneRoute,resource:e.value,mode:e.mode,errors:s.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":r.yamlModifiers,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,namespaced:!1,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(u,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{name:"range",label:e.t("harvester.ipPool.tabs.range"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{value:e.value.spec.ranges,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.ranges=t),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"]),(0,l.createVNode)(d,{name:"selector",label:e.t("harvester.ipPool.tabs.selector"),weight:97,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(c,{value:e.value.spec.selector,"onUpdate:value":t[2]||(t[2]=t=>e.value.spec.selector=t),mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var s=a(11922),r=a(50324),n=a(94877),i=a(72706),d=a(20665),c=a(63557),u=a(22065),p=a(32766),m=a(52728),v=a(10788),h={name:"HarvesterIPPool",emits:["update:value"],components:{NameNsDescription:s.A,ResourceTabs:r.A,Tab:n.A,CruResource:u.A,Range:m["default"],Selector:v["default"]},mixins:[i.A],inheritAttrs:!1,async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={networks:this.$store.dispatch(`${e}/findAll`,{type:d.XG}),settings:this.$store.dispatch(`${e}/findAll`,{type:p.rk.SETTING})};this.$store.getters["management/schemaFor"](p.rk.HARVESTER_CONFIG)&&(t.harvesterConfigs=this.$store.dispatch("management/findAll",{type:p.rk.HARVESTER_CONFIG})),this.$store.getters["management/schemaFor"](d.qt.RANCHER_CLUSTER)&&(t.rancherClusters=this.$store.dispatch("management/findAll",{type:d.qt.RANCHER_CLUSTER})),await(0,c.kR)(t)},data(){return{errors:[]}},computed:{yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}}}},b=a(47433);const g=(0,b.A)(h,[["render",o]]);var f=g},68201:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={key:0},n={class:"row mt-10"},i={key:0,class:"col span-6"},d={class:"col span-6"},c={class:"row mt-10"},u={class:"col span-6"},p={class:"col span-6"},m={class:"row mt-10"},v={class:"col span-6"};function h(e,t,a,h,b,g){const f=(0,l.resolveComponent)("RadioGroup"),y=(0,l.resolveComponent)("LabeledSelect"),k=(0,l.resolveComponent)("LabeledInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(f,{value:b.healthCheckEnabled,"onUpdate:value":t[0]||(t[0]=e=>b.healthCheckEnabled=e),mode:a.mode,name:"healthCheckEnabled",labels:[e.t("generic.disabled"),e.t("generic.enabled")],options:[!1,!0],disabled:a.disabled,onInput:g.onToggle},null,8,["value","mode","labels","disabled","onInput"])])]),b.healthCheckEnabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",n,[b.healthCheckEnabled?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createVNode)(y,{value:a.value.port,"onUpdate:value":t[1]||(t[1]=e=>a.value.port=e),mode:a.mode,options:g.portOptions,required:"",label:e.t("harvester.service.healthCheckPort.label"),disabled:a.disabled},null,8,["value","mode","options","label","disabled"])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(k,{value:a.value.successThreshold,"onUpdate:value":t[2]||(t[2]=e=>a.value.successThreshold=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckSuccessThreshold.label"),tooltip:e.t("harvester.service.healthCheckSuccessThreshold.description"),disabled:a.disabled},null,8,["value","mode","label","tooltip","disabled"])])]),(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",u,[(0,l.createVNode)(k,{value:a.value.failureThreshold,"onUpdate:value":t[3]||(t[3]=e=>a.value.failureThreshold=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckFailureThreshold.label"),tooltip:e.t("harvester.service.healthCheckFailureThreshold.description"),disabled:a.disabled},null,8,["value","mode","label","tooltip","disabled"])]),(0,l.createElementVNode)("div",p,[(0,l.createVNode)(k,{value:a.value.periodSeconds,"onUpdate:value":t[4]||(t[4]=e=>a.value.periodSeconds=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckPeriod.label"),disabled:a.disabled},null,8,["value","mode","label","disabled"])])]),(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",v,[(0,l.createVNode)(k,{value:a.value.timeoutSeconds,"onUpdate:value":t[5]||(t[5]=e=>a.value.timeoutSeconds=e),valueModifiers:{number:!0},mode:a.mode,type:"number",label:e.t("harvester.service.healthCheckTimeout.label"),disabled:a.disabled},null,8,["value","mode","label","disabled"])])])])):(0,l.createCommentVNode)("",!0)])}var b=a(5327),g=a(77562),f=a(75933),y={emits:["enabled"],components:{LabeledInput:b.o,LabeledSelect:g.A,RadioGroup:f.A},props:{value:{type:Object,required:!0},model:{type:Object,required:!0},mode:{type:String,default:"create"},disabled:{type:Boolean,default:!1}},data(){return{healthCheckEnabled:!!this.value.port}},computed:{portOptions(){const e=this.model?.spec?.listeners||[];return e.filter((e=>e.port&&"TCP"===e.protocol)).map((e=>e.backendPort))||[]}},methods:{onToggle(e){this.$emit("enabled",e)}}},k=a(47433);const N=(0,k.A)(y,[["render",h]]);var V=N},67347:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var l=a(9274);const o={key:0},s={class:"listener-headers"},r={class:"listener-name"},n={class:"listener-protocol"},i={class:"listener-port"},d={class:"listener-backendPort"},c={key:0,class:"remove"},u={class:"port-name"},p={key:0},m=["onUpdate:modelValue","placeholder"],v={class:"port-protocol"},h={key:0},b={class:"port"},g={key:0},f=["onUpdate:modelValue","placeholder"],y={class:"target-port"},k={key:0},N=["onUpdate:modelValue","placeholder"],V={key:0,class:"remove"},E=["onClick"],w={key:1,class:"footer"};function C(e,t,a,C,S,B){const x=(0,l.resolveComponent)("t"),A=(0,l.resolveComponent)("Select");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[S.rows.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("span",r,[(0,l.createVNode)(x,{k:"harvester.loadBalancer.listeners.name.label"})]),(0,l.createElementVNode)("span",n,[(0,l.createVNode)(x,{k:"harvester.loadBalancer.listeners.protocol.label"})]),(0,l.createElementVNode)("span",i,[(0,l.createVNode)(x,{k:"harvester.loadBalancer.listeners.port.label"}),t[4]||(t[4]=(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))]),(0,l.createElementVNode)("span",d,[(0,l.createVNode)(x,{k:"harvester.loadBalancer.listeners.backendPort.label"}),t[5]||(t[5]=(0,l.createElementVNode)("span",{class:"text-error"}," * ",-1))]),B.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("span",c)):(0,l.createCommentVNode)("",!0)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(S.rows,((a,o)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:o,class:"listener-row"},[(0,l.createElementVNode)("div",u,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",p,(0,l.toDisplayString)(a.name),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,ref_for:!0,ref:"port-name","onUpdate:modelValue":e=>a.name=e,type:"text",placeholder:e.t("servicePorts.rules.name.placeholder"),onInput:t[0]||(t[0]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,m)),[[l.vModelText,a.name,void 0,{number:!0}]])]),(0,l.createElementVNode)("div",v,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",h,(0,l.toDisplayString)(a.protocol),1)):((0,l.openBlock)(),(0,l.createBlock)(A,{key:1,value:a.protocol,"onUpdate:value":e=>a.protocol=e,options:B.protocolOptions,onInput:e.queueUpdate},null,8,["value","onUpdate:value","options","onInput"]))]),(0,l.createElementVNode)("div",b,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",g,(0,l.toDisplayString)(a.port),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,ref_for:!0,ref:"port","onUpdate:modelValue":e=>a.port=e,type:"number",min:"1",max:"65535",placeholder:e.t("servicePorts.rules.listening.placeholder"),onInput:t[1]||(t[1]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,f)),[[l.vModelText,a.port,void 0,{number:!0}]])]),(0,l.createElementVNode)("div",y,[B.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",k,(0,l.toDisplayString)(a.backendPort),1)):(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createElementBlock)("input",{key:1,"onUpdate:modelValue":e=>a.backendPort=e,type:"number",min:"1",max:"65535",placeholder:e.t("harvester.loadBalancer.listeners.backendPort.placeholder"),onInput:t[2]||(t[2]=(...t)=>e.queueUpdate&&e.queueUpdate(...t))},null,40,N)),[[l.vModelText,a.backendPort,void 0,{number:!0}]])]),B.showRemove?((0,l.openBlock)(),(0,l.createElementBlock)("div",V,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-link",onClick:e=>B.remove(o)},[(0,l.createVNode)(x,{k:"generic.remove"})],8,E)])):(0,l.createCommentVNode)("",!0)])))),128))])):(0,l.createCommentVNode)("",!0),B.showAdd?((0,l.openBlock)(),(0,l.createElementBlock)("div",w,[(0,l.createElementVNode)("button",{type:"button",class:"btn role-tertiary add",onClick:t[3]||(t[3]=e=>B.add())},[(0,l.createVNode)(x,{k:"generic.add"})])])):(0,l.createCommentVNode)("",!0)])}var S=a(12784),B=a.n(S),x=a(71779),A=a(26812),_=a(92590),D=a(44863),U={emits:["update:value"],components:{Select:D.A},props:{value:{type:Array,default:null},mode:{type:String,default:x.G5},autoAddIfEmpty:{type:Boolean,default:!0}},data(){const e=(0,_.o8)(this.value||[]);return{rows:e}},computed:{isView(){return this.mode===x.nW},showAdd(){return!this.isView},showRemove(){return!this.isView},protocolOptions(){return["TCP","UDP"]}},created(){this.queueUpdate=B()(this.update,500)},mounted(){this.isView||this.autoAddIfEmpty&&this.mode!==x.G5&&this?.rows.length<1&&this.add(!1)},methods:{add(e=!0){this.rows.push({name:"",port:null,protocol:"TCP",backendPort:null}),this.queueUpdate(),this.rows.length>0&&e&&this.$nextTick((()=>{const e=this.$refs["port-name"];e[e.length-1].focus()}))},remove(e){(0,A.Wq)(this.rows,e),this.queueUpdate()},update(){this.isView||this.$emit("update:value",this.rows)}}},M=(a(50004),a(47433));const L=(0,M.A)(U,[["render",C],["__scopeId","data-v-602acdc3"]]);var T=L},49464:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var l=a(9274);const o={class:"row"},s={class:"col span-6"},r={key:0,class:"col span-6"},n={class:"row"},i={class:"col span-12"};function d(e,t,a,d,c,u){const p=(0,l.resolveComponent)("NameNsDescription"),m=(0,l.resolveComponent)("LabeledSelect"),v=(0,l.resolveComponent)("Tab"),h=(0,l.resolveComponent)("Banner"),b=(0,l.resolveComponent)("Listeners"),g=(0,l.resolveComponent)("KeyValue"),f=(0,l.resolveComponent)("HealthCheck"),y=(0,l.resolveComponent)("ResourceTabs"),k=(0,l.resolveComponent)("CruResource"),N=(0,l.resolveDirective)("clean-html");return(0,l.openBlock)(),(0,l.createBlock)(k,{"done-route":e.doneRoute,resource:a.value,mode:e.mode,errors:e.errors,"apply-hooks":e.applyHooks,"yaml-modifiers":u.yamlModifiers,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(p,{value:a.value,namespaced:!0,mode:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(y,{class:"mt-15","need-conditions":!1,"need-related":!1,"side-tabs":!0,mode:e.mode},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{name:"basic",label:e.t("harvester.loadBalancer.tabs.basic"),weight:99,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(m,{value:a.value.spec.ipam,"onUpdate:value":t[1]||(t[1]=e=>a.value.spec.ipam=e),label:e.t("harvester.loadBalancer.ipam.label"),options:u.ipamOption,mode:e.mode},null,8,["value","label","options","mode"])]),"pool"===a.value.spec.ipam?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createVNode)(m,{value:a.value.spec.ipPool,"onUpdate:value":[t[2]||(t[2]=e=>a.value.spec.ipPool=e),u.update],label:e.t("harvester.loadBalancer.ipPool.label"),options:u.ipPoolOptions,mode:e.mode},null,8,["value","label","options","mode","onUpdate:value"])])):(0,l.createCommentVNode)("",!0)])])),_:1},8,["label"]),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,name:"listeners",label:e.t("harvester.loadBalancer.tabs.listeners"),weight:98,class:"bordered-table"},{default:(0,l.withCtx)((()=>[u.healthCheckPortInUseWarning?((0,l.openBlock)(),(0,l.createBlock)(h,{key:0,color:"warning"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[N,u.healthCheckPortInUseWarning]])])),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(b,{value:a.value.spec.listeners,"onUpdate:value":t[3]||(t[3]=e=>a.value.spec.listeners=e),class:"col span-12",mode:e.mode},null,8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:1,name:"backendServer",label:e.t("harvester.loadBalancer.tabs.backendServer"),weight:97,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(h,{color:c.matchingVMs.none?"warning":"success"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[N,e.t("harvester.loadBalancer.backendServerSelector.matchingVMs.matchesSome",c.matchingVMs)]])])),_:1},8,["color"])])]),(0,l.createVNode)(g,{value:u.backendServerSelector,"onUpdate:value":t[4]||(t[4]=e=>u.backendServerSelector=e),mode:e.mode,"read-allowed":!1,"initial-empty-row":!0},null,8,["value","mode"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),"vm"===a.value.spec.workloadType?((0,l.openBlock)(),(0,l.createBlock)(v,{key:2,name:"healthCheck",label:e.t("harvester.loadBalancer.tabs.healthCheck"),weight:96,class:"bordered-table"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{value:a.value.spec.healthCheck,"onUpdate:value":t[5]||(t[5]=e=>a.value.spec.healthCheck=e),mode:e.mode,model:a.value,onEnabled:u.healthCheckEnabled},null,8,["value","mode","model","onEnabled"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0)])),_:1},8,["mode"])])),_:1},8,["done-route","resource","mode","errors","apply-hooks","yaml-modifiers","onFinish"])}var c=a(45250),u=a(11922),p=a(50324),m=a(77562),v=a(94877),h=a(22065),b=a(85905),g=a(39812),f=a(72706),y=a(20665),k=a(63557),N=a(17678),V=a(32766),E=a(67347),w=a(68201);const C="loadbalancer.harvesterhci.io/namespace",S="loadbalancer.harvesterhci.io/project";var B={name:"HarvesterLoadBalancer",emits:["update:value"],components:{NameNsDescription:u.A,ResourceTabs:p.A,LabeledSelect:m.A,Tab:v.A,Listeners:E["default"],HealthCheck:w["default"],CruResource:h.A,KeyValue:b.A,Banner:g.A},mixins:[f.A],inheritAttrs:!1,props:{value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={ipPools:this.$store.dispatch(`${e}/findAll`,{type:V.rk.IP_POOL}),namespaces:this.$store.dispatch(`${e}/findAll`,{type:y.CU}),vms:this.$store.dispatch(`${e}/findAll`,{type:V.rk.VM})};this.$store.getters["management/schemaFor"](y.Mc.PROJECT)&&(t.projects=this.$store.dispatch("management/findAll",{type:y.Mc.PROJECT})),await(0,k.kR)(t),this.updateMatchingVMs()},data(){const e=this.value.metadata.annotations||[];this.value.spec.healthCheck||(this.value.spec.healthCheck={});const t={matched:0,matches:[],none:!0,sample:null,total:0};return{ipPool:this.value.spec.ipPool,projectSelector:e[S]||"",namespaceSelector:e[C]||"",matchingVMs:t}},computed:{ipamOption(){return[{label:this.t("harvester.loadBalancer.ipam.options.dhcp"),value:"dhcp"},{label:this.t("harvester.loadBalancer.ipam.options.pool"),value:"pool"}]},ipPoolOptions(){const e=this.$store.getters["harvester/all"](V.rk.IP_POOL),t=e.map((e=>e.id));return[{label:this.t("harvester.loadBalancer.ipPool.options.none"),value:""},...t]},projectOptions(){const e=this.$store.getters["harvester/all"](y.Mc.PROJECT);return e.map((e=>e.id))},namespaceOptions(){const e=this.$store.getters["harvester/all"](y.CU);return e.map((e=>e.id))},backendServerSelector:{get(){const e={};return Object.keys(this.value.spec?.backendServerSelector||{}).map((t=>{e[t]=(this.value.spec.backendServerSelector[t]||[]).join(",")||""})),e},set(e){const t={};Object.keys(e).map((a=>{t[a]=(e[a]||"").split(",")})),this.value.spec["backendServerSelector"]=t}},yamlModifiers(){const e=["metadata.managedFields","metadata.relationships","metadata.state","links","type","id"];return this.isCreate&&e.push("status"),{activelyRemove:e}},healthCheckPortInUseWarning(){const e=this.value?.spec?.healthCheck?.port,t=this.value?.spec?.listeners?.find((t=>t.backendPort===e));return e&&t?this.t("harvester.loadBalancer.healthCheck.warning.portInUse",{port:t.backendPort},!0):""}},methods:{update(){const{projectSelector:e,namespaceSelector:t}=this;e&&(this.value.metadata.annotations[S]=e),t&&(this.value.metadata.annotations[C]=t)},updateMatchingVMs:(0,c.throttle)((function(){const e=this.value.spec.backendServerSelector,t=this.$store.getters["harvester/all"](V.rk.VM).filter((e=>e.metadata.namespace===this.value.metadata.namespace));if((0,c.isEmpty)(e))this.matchingVMs={matched:0,total:t.length,none:!0,sample:null};else{const a=(0,N.wC)(t,e,"spec.template.metadata.labels");this.matchingVMs={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0}),healthCheckEnabled(e){e||(this.value.spec.healthCheck={})}},watch:{backendServerSelector:"updateMatchingVMs","value.metadata.namespace":"updateMatchingVMs"}},x=(a(62541),a(47433));const A=(0,x.A)(B,[["render",d],["__scopeId","data-v-201c4480"]]);var _=A},62075:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ge}});var l=a(9274);const o={class:"row mb-20"},s={class:"col span-3"};function r(e,t,a,r,n,i){const d=(0,l.resolveComponent)("NameNsDescription"),c=(0,l.resolveComponent)("LabeledSelect"),u=(0,l.resolveComponent)("Banner"),p=(0,l.resolveComponent)("ProjectMembershipEditor"),m=(0,l.resolveComponent)("Tab"),v=(0,l.resolveComponent)("ResourceQuota"),h=(0,l.resolveComponent)("ContainerResourceLimit"),b=(0,l.resolveComponent)("Labels"),g=(0,l.resolveComponent)("Tabbed"),f=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(f,{class:"project","done-route":e.value.listLocation,errors:e.fvUnreportedValidationErrors,mode:e.mode,resource:e.value,subtypes:[],"can-yaml":!1,"validation-passed":e.fvFormIsValid,onError:t[4]||(t[4]=t=>e.errors=t),onFinish:i.save,onCancel:e.done},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{value:e.value,"name-editable":!0,mode:e.mode,namespaced:!1,"description-key":"spec.description","description-disabled":i.isDescriptionDisabled,"name-key":"spec.displayName","normalize-name":!1,rules:{name:e.fvGetAndReportPathRules("spec.displayName"),namespace:[],description:[]},"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode","description-disabled","rules"]),(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[i.pspOptions?((0,l.openBlock)(),(0,l.createBlock)(c,{key:0,value:e.value.spec.podSecurityPolicyTemplateId,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.podSecurityPolicyTemplateId=t),class:"psp",mode:e.mode,options:i.pspOptions,disabled:!n.canEditPSPBindings,label:e.t("project.psp.label")},null,8,["value","mode","options","disabled","label"])):(0,l.createCommentVNode)("",!0)])]),(0,l.createVNode)(g,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[i.canViewMembers?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,name:"members",label:e.t("project.members.label"),weight:10},{default:(0,l.withCtx)((()=>[i.showBannerForOnlyManagingMembers?((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,color:"info",label:e.t("project.membersEditOnly")},null,8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(p,{mode:e.mode,"parent-id":e.value.id,onHasOwnerChanged:i.onHasOwnerChanged,onMembershipUpdate:i.onMembershipUpdate},null,8,["mode","parent-id","onHasOwnerChanged","onMembershipUpdate"])])),_:1},8,["label"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(m,{name:"resource-quotas",label:e.t("project.resourceQuotas"),weight:9},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{value:e.value,"onUpdate:value":t[2]||(t[2]=t=>e.value=t),mode:i.canEditTabElements,types:e.isStandaloneHarvester?n.HARVESTER_TYPES:n.RANCHER_TYPES,onRemove:i.removeQuota},null,8,["value","mode","types","onRemove"])])),_:1},8,["label"]),(0,l.createVNode)(m,{name:"container-default-resource-limit",label:i.resourceQuotaLabel,weight:8},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{value:e.value.spec.containerDefaultResourceLimit,"onUpdate:value":t[3]||(t[3]=t=>e.value.spec.containerDefaultResourceLimit=t),mode:i.canEditTabElements,"show-tip":!1,"register-before-hook":e.registerBeforeHook},null,8,["value","mode","register-before-hook"])])),_:1},8,["label"]),(0,l.createVNode)(m,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:7},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(b,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:i.canEditTabElements,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1})])),_:1},8,["done-route","errors","mode","resource","validation-passed","onFinish","onCancel"])}var n=a(65359);const i={class:"row"},d={key:0,class:"col span-12"},c={class:"helper-text mb-10"},u={class:"row mb-20"},p={class:"col span-6"},m={class:"col span-6"},v={class:"row mb-20"},h={class:"col span-6"},b={class:"col span-6"},g={key:0,class:"row"},f={class:"col span-6"};function y(e,t,a,o,s,r){const n=(0,l.resolveComponent)("t"),y=(0,l.resolveComponent)("UnitInput");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",i,[a.showTip?((0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createElementVNode)("p",c,[a.mode===s.viewMode?((0,l.openBlock)(),(0,l.createBlock)(n,{key:0,k:"containerResourceLimit.helpTextDetail"})):((0,l.openBlock)(),(0,l.createBlock)(n,{key:1,k:"containerResourceLimit.helpText"}))])])):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("span",p,[(0,l.createVNode)(y,{value:s.requestsCpu,"onUpdate:value":[t[0]||(t[0]=e=>s.requestsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.requestsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-reservation"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,l.createElementVNode)("span",m,[(0,l.createVNode)(y,{value:s.requestsMemory,"onUpdate:value":[t[1]||(t[1]=e=>s.requestsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.requestsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-reservation"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("span",h,[(0,l.createVNode)(y,{value:s.limitsCpu,"onUpdate:value":[t[2]||(t[2]=e=>s.limitsCpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.cpuPlaceholder"),label:e.t("containerResourceLimit.limitsCpu"),mode:a.mode,"input-exponent":-1,"output-modifier":!0,"base-unit":e.t("suffix.cpus"),"data-testid":"cpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])]),(0,l.createElementVNode)("span",b,[(0,l.createVNode)(y,{value:s.limitsMemory,"onUpdate:value":[t[3]||(t[3]=e=>s.limitsMemory=e),r.updateLimits],placeholder:e.t("containerResourceLimit.memPlaceholder"),label:e.t("containerResourceLimit.limitsMemory"),mode:a.mode,"input-exponent":2,increment:1024,"output-modifier":!0,"data-testid":"memory-limit"},null,8,["value","placeholder","label","mode","onUpdate:value"])])]),a.handleGpuLimit?((0,l.openBlock)(),(0,l.createElementBlock)("div",g,[(0,l.createElementVNode)("span",f,[(0,l.createVNode)(y,{value:s.limitsGpu,"onUpdate:value":[t[4]||(t[4]=e=>s.limitsGpu=e),r.updateLimits],placeholder:e.t("containerResourceLimit.gpuPlaceholder"),label:e.t("containerResourceLimit.limitsGpu"),mode:a.mode,"base-unit":e.t("suffix.gpus"),"data-testid":"gpu-limit"},null,8,["value","placeholder","label","mode","base-unit","onUpdate:value"])])])):(0,l.createCommentVNode)("",!0)])}var k=a(68581),N=a.n(k),V=a(63418),E=a(55190),w=a(92590),C=a(71779),S={emits:["update:value"],components:{UnitInput:V.A},props:{mode:{type:String,default:"create"},namespace:{type:Object,default:null},value:{type:Object,default:()=>({})},handleGpuLimit:{type:Boolean,default:!0},registerBeforeHook:{type:Function,default:null},showTip:{type:Boolean,default:!0}},data(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this.value;return{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o,viewMode:C.nW}},watch:{value(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this.value;this.limitsCpu=e,this.limitsMemory=t,this.requestsCpu=a,this.requestsMemory=l,this.limitsGpu=o}},computed:{detailTopColumns(){return[{title:this.$store.getters["i18n/t"]("generic.created"),name:"created"}]}},created(){this?.namespace?.id&&this.initLimits(),this.registerBeforeHook&&this.registerBeforeHook(this.updateBeforeSave)},methods:{updateLimits(){const{limitsCpu:e,limitsMemory:t,requestsCpu:a,requestsMemory:l,limitsGpu:o}=this;this.$emit("update:value",(0,w.nY)({limitsCpu:e,limitsMemory:t,requestsCpu:a,limitsGpu:o,requestsMemory:l}))},updateBeforeSave(e){const{limitsCpu:t,limitsMemory:a,requestsCpu:l,requestsMemory:o,limitsGpu:s}=this,r=this.namespace,n=(0,w.nY)({limitsCpu:t,limitsMemory:a,requestsCpu:l,limitsGpu:s,requestsMemory:o});r&&r.setAnnotation(E.$E,JSON.stringify(n))},initLimits(){const e=this.namespace,t=e?.metadata?.annotations[E.$E];if(!N()(t)&&"null"!==t){const{limitsCpu:e,limitsMemory:a,requestsCpu:l,requestsMemory:o,limitsGpu:s}=JSON.parse(t);this.limitsCpu=e,this.limitsMemory=a,this.requestsCpu=l,this.requestsMemory=o,this.limitsGpu=s}}}},B=a(47433);const x=(0,B.A)(S,[["render",y]]);var A=x,_=a(72706),D=a(51662),U=a(22065),M=a(55659),L=a(77562);const T={class:"headers mb-10"},O={class:"mr-10"},I={class:"mr-20"},R={class:"mr-10"};function $(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Row"),i=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.resourceType")),1)]),(0,l.createElementVNode)("div",I,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.projectLimit")),1)]),(0,l.createElementVNode)("div",R,[(0,l.createElementVNode)("label",null,(0,l.toDisplayString)(e.t("resourceQuota.headers.namespaceDefaultLimit")),1)])]),(0,l.createVNode)(i,{value:s.typeValues,"onUpdate:value":t[1]||(t[1]=e=>s.typeValues=e),label:"Resources","add-label":e.t("resourceQuota.add.label"),"default-add-value":r.remainingTypes()[0]?r.remainingTypes()[0].value:"","add-allowed":r.remainingTypes().length>0,mode:a.mode,onRemove:r.emitRemove},{columns:(0,l.withCtx)((o=>[(0,l.createVNode)(n,{value:a.value,mode:a.mode,types:r.remainingTypes(s.typeValues[o.i]),type:s.typeValues[o.i],onInput:t[0]||(t[0]=t=>e.$emit("input",t)),onTypeChange:e=>r.updateType(o.i,e)},null,8,["value","mode","types","type","onTypeChange"])])),_:1},8,["value","add-label","default-add-value","add-allowed","mode","onRemove"])])}var P=a(61520);const q={key:0,class:"row"};function F(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Select"),i=(0,l.resolveComponent)("UnitInput");return e.typeOption?((0,l.openBlock)(),(0,l.createElementBlock)("div",q,[(0,l.createVNode)(n,{value:a.type,class:"mr-10",mode:a.mode,options:a.types,"data-testid":"projectrow-type-input","onUpdate:value":t[0]||(t[0]=e=>r.updateType(e))},null,8,["value","mode","options"]),(0,l.createVNode)(i,{value:r.resourceQuotaLimit[a.type],class:"mr-10",mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-project-quota-input","onUpdate:value":t[1]||(t[1]=e=>r.updateQuotaLimit("resourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"]),(0,l.createVNode)(i,{value:r.namespaceDefaultResourceQuotaLimit[a.type],mode:a.mode,placeholder:e.typeOption.placeholder,increment:e.typeOption.increment,"input-exponent":e.typeOption.inputExponent,"base-unit":e.typeOption.baseUnit,"output-modifier":!0,"data-testid":"projectrow-namespace-quota-input","onUpdate:value":t[2]||(t[2]=e=>r.updateQuotaLimit("namespaceDefaultResourceQuota",a.type,e))},null,8,["value","mode","placeholder","increment","input-exponent","base-unit"])])):(0,l.createCommentVNode)("",!0)}var G=a(44863);const K=[{value:"configMaps",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.configMaps",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"persistentVolumeClaims",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.persistentVolumeClaims",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"pods",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.pods",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"replicationControllers",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.replicationControllers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsStorage",units:"storage",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsStorage",placeholderKey:"resourceQuota.projectLimit.storagePlaceholder"},{value:"secrets",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.secrets",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"services",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.services",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesLoadBalancers",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesLoadBalancers",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"},{value:"servicesNodePorts",units:"unitless",inputExponent:0,baseUnit:"",labelKey:"resourceQuota.servicesNodePorts",placeholderKey:"resourceQuota.projectLimit.unitlessPlaceholder"}],j=[{value:"limitsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.limitsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"limitsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.limitsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"},{value:"requestsCpu",inputExponent:-1,baseUnitKey:"suffix.cpus",labelKey:"resourceQuota.requestsCpu",placeholderKey:"resourceQuota.projectLimit.cpuPlaceholder"},{value:"requestsMemory",inputExponent:2,increment:1024,labelKey:"resourceQuota.requestsMemory",placeholderKey:"resourceQuota.projectLimit.memoryPlaceholder"}],H={typeOption(){return this.types.find((e=>e.value===this.type))}},J={mappedTypes(){return this.types.map((e=>({label:this.t(e.labelKey),baseUnit:e.baseUnitKey?this.t(e.baseUnitKey):void 0,placeholder:this.t(e.placeholderKey),...e})))}};var z={emits:["type-change"],components:{Select:G.A,UnitInput:V.A},props:{mode:{type:String,required:!0},types:{type:Array,default:()=>[]},type:{type:String,default:""},value:{type:Object,default:()=>({})}},computed:{...H,resourceQuotaLimit:{get(){return this.value.spec.resourceQuota?.limit||{}}},namespaceDefaultResourceQuotaLimit:{get(){return this.value.spec.namespaceDefaultResourceQuota?.limit||{}}}},methods:{updateType(e){"undefined"!==typeof this.value.spec.resourceQuota?.limit[this.type]&&delete this.value.spec.resourceQuota.limit[this.type],"undefined"!==typeof this.value.spec.namespaceDefaultResourceQuota?.limit[this.type]&&delete this.value.spec.namespaceDefaultResourceQuota.limit[this.type],this.$emit("type-change",e)},updateQuotaLimit(e,t,a){this.value.spec[e]||(this.value.spec[e]={limit:{}}),this.value.spec[e].limit[t]=a}}};a(69937);const Q=(0,B.A)(z,[["render",F],["__scopeId","data-v-f8ab9a14"]]);var Y=Q,W={emits:["remove","input"],components:{ArrayList:P.A,Row:Y},props:{mode:{type:String,required:!0},value:{type:Object,default:()=>({})},types:{type:Array,default:()=>[]}},data(){return{typeValues:null}},created(){this.value["spec"]=this.value.spec||{},this.value.spec["namespaceDefaultResourceQuota"]=this.value.spec.namespaceDefaultResourceQuota||{limit:{}},this.value.spec["resourceQuota"]=this.value.spec.resourceQuota||{limit:{}},this.typeValues=Object.keys(this.value.spec.resourceQuota.limit)},computed:{...J},methods:{updateType(e,t){this.typeValues[e]=t},remainingTypes(e){return this.mappedTypes.filter((t=>!this.typeValues.includes(t.value)||t.value===e))},emitRemove(e){this.$emit("remove",e.row?.value)}}};a(11531);const Z=(0,B.A)(W,[["render",$],["__scopeId","data-v-b710bc8e"]]);var X=Z,ee=a(94877),te=a(4335),ae=a(11922),le=a(20665),oe=a(25221);function se(e,t,a,o,s,r){const n=(0,l.resolveComponent)("MembershipEditor");return(0,l.openBlock)(),(0,l.createBlock)(n,{ref:"editor","add-member-dialog-name":"AddProjectMemberDialog","modal-sticky":!0,"default-binding-handler":r.defaultBindingHandler,type:s.NORMAN.PROJECT_ROLE_TEMPLATE_BINDING,mode:a.mode,"parent-key":"projectId","parent-id":a.parentId},null,8,["default-binding-handler","type","mode","parent-id"])}const re={class:"box mb-0"},ne={class:"column-headers row"},ie={class:"col span-6"},de={class:"text-label"},ce={class:"col span-6"},ue={class:"text-label"},pe={class:"columns row"},me={class:"col span-6"},ve=["data-testid"],he={key:0},be=["disabled","data-testid","onClick"];function ge(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Loading"),i=(0,l.resolveComponent)("Principal"),d=(0,l.resolveComponent)("ArrayList");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(n,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(d,{key:1,value:s.bindings,"onUpdate:value":t[1]||(t[1]=e=>s.bindings=e),mode:a.mode,"show-header":!0},{"column-headers":(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",re,[(0,l.createElementVNode)("div",ne,[(0,l.createElementVNode)("div",ie,[(0,l.createElementVNode)("label",de,(0,l.toDisplayString)(e.t("membershipEditor.user")),1)]),(0,l.createElementVNode)("div",ce,[(0,l.createElementVNode)("label",ue,(0,l.toDisplayString)(e.t("membershipEditor.role")),1)])])])])),columns:(0,l.withCtx)((({row:e,i:t})=>[(0,l.createElementVNode)("div",pe,[(0,l.createElementVNode)("div",me,[(0,l.createVNode)(i,{value:e.value.principalId},null,8,["value"])]),(0,l.createElementVNode)("div",{"data-testid":`role-item-${t}`,class:"col span-6 role"},(0,l.toDisplayString)(e.value.roleDisplay),9,ve)])])),add:(0,l.withCtx)((()=>[(0,l.createElementVNode)("button",{type:"button",class:"btn role-primary mt-10","data-testid":"add-item",onClick:t[0]||(t[0]=(...e)=>r.addMember&&r.addMember(...e))},(0,l.toDisplayString)(e.t("generic.add")),1)])),"remove-button":(0,l.withCtx)((({remove:t,i:a})=>[r.isCreate&&0===a||r.isView?((0,l.openBlock)(),(0,l.createElementBlock)("span",he)):((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,type:"button",disabled:r.isView,class:"btn role-link","data-testid":`remove-item-${a}`,onClick:t},(0,l.toDisplayString)(e.t("generic.remove")),9,be))])),_:1},8,["value","mode"]))}const fe={class:"avatar"},ye=["src"],ke={key:0,class:"name"},Ne={class:"name"},Ve={class:"avatar"},Ee={class:"name text-error"};function we(e,t,a,o,s,r){const n=(0,l.resolveDirective)("clean-html"),i=(0,l.resolveDirective)("t");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(["principal",{showLabels:a.showLabels}])},[!s.principal&&e.$fetchState.pending?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[t[0]||(t[0]=(0,l.createElementVNode)("div",{class:"avatar"},[(0,l.createElementVNode)("div",{class:"empty"},[(0,l.createElementVNode)("i",{class:"icon icon-spinner icon-lg"})])],-1)),(0,l.withDirectives)((0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["name",{"text-muted":a.useMuted}])},null,2),[[n,e.t("principal.loading",null,!0)]]),t[1]||(t[1]=(0,l.createElementVNode)("div",{class:"description"},null,-1))],64)):s.principal?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createElementVNode)("div",fe,[(0,l.createElementVNode)("img",{src:s.principal.avatarSrc,class:(0,l.normalizeClass)({round:s.principal.roundAvatar})},null,10,ye)]),a.showLabels?((0,l.openBlock)(),(0,l.createElementBlock)("div",ke,[(0,l.createElementVNode)("table",null,[(0,l.createElementVNode)("tbody",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,(0,l.toDisplayString)(e.t("principal.name"))+": ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(s.principal.name||s.principal.loginName),1)]),(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,(0,l.toDisplayString)(e.t("principal.loginName"))+": ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(s.principal.loginName),1)]),(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,(0,l.toDisplayString)(e.t("principal.type"))+": ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(s.principal.displayType),1)])])])])):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createElementVNode)("div",Ne,[r.showBoth?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createTextVNode)((0,l.toDisplayString)(s.principal.name)+" ",1),s.principal.loginName?((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:0,class:(0,l.normalizeClass)({"text-muted":a.useMuted})},"("+(0,l.toDisplayString)(s.principal.loginName)+")",3)):(0,l.createCommentVNode)("",!0)],64)):s.principal.name?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createTextVNode)((0,l.toDisplayString)(s.principal.name),1)],64)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[(0,l.createTextVNode)((0,l.toDisplayString)(s.principal.loginName),1)],64))]),(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["description",{"text-muted":a.useMuted}])},(0,l.toDisplayString)(s.principal.displayType),3)],64))],64)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[(0,l.createElementVNode)("div",Ve,[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["empty",{"text-muted":a.useMuted}])},t[2]||(t[2]=[(0,l.createElementVNode)("i",{class:"icon icon-warning icon-lg"},null,-1)]),2)]),(0,l.withDirectives)((0,l.createElementVNode)("div",Ee,null,512),[[i,"principal.error"]]),(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(["description",{"text-muted":a.useMuted}])},(0,l.toDisplayString)(a.value),3)],64))],2)}var Ce=a(90295),Se={props:{value:{type:String,required:!0},useMuted:{type:Boolean,default:!0},showLabels:{type:Boolean,default:!1}},async fetch(){this.loadData()},data(){return{principal:null}},computed:{showBoth(){const e=this.principal;return e.name&&e.loginName&&e.name.trim().toLowerCase()!==e.loginName.trim().toLowerCase()}},methods:{async loadData(){if(this.principal=this.$store.getters["rancher/byId"](le.k$.PRINCIPAL,this.value),this.principal)return;const e=escape(this.value).replace(/\//g,"%2F");try{this.principal=await this.$store.dispatch("rancher/find",{type:le.k$.PRINCIPAL,id:this.value,opt:{url:`/v3/principals/${e}`}})}catch(t){Ce.error("Failed to fetch principal",this.value,e)}}},watch:{value(){this.loadData()}}};a(43369);const Be=(0,B.A)(Se,[["render",we],["__scopeId","data-v-77cc05cc"]]);var xe=Be,Ae=a(61856);function _e(e){return e?.replace(":","/")||e}function De(e,t=!1){return(!!e.getters["management/schemaFor"](le.Mc.PROJECT_ROLE_TEMPLATE_BINDING)||!t)&&!!e.getters["management/schemaFor"](le.Mc.ROLE_TEMPLATE)&&!!e.getters["rancher/schemaFor"](le.k$.PRINCIPAL)}var Ue={emits:["membership-update"],components:{ArrayList:P.A,Loading:Ae.A,Principal:xe},props:{addMemberDialogName:{type:String,required:!0},parentKey:{type:String,required:!0},parentId:{type:String,default:null},mode:{type:String,required:!0},type:{type:String,required:!0},defaultBindingHandler:{type:Function,default:null},modalSticky:{type:Boolean,default:!1}},async fetch(){const e={type:this.type,opt:{force:!0}};this.type===le.k$.PROJECT_ROLE_TEMPLATE_BINDING&&this.parentId&&Object.assign(e,{opt:{filter:{projectId:this.parentId.split("/").join(":")},force:!0}});const t=[this.schema?this.$store.dispatch("rancher/findAll",e):[],this.$store.dispatch("rancher/findAll",{type:le.k$.PRINCIPAL}),this.$store.dispatch("management/findAll",{type:le.Mc.ROLE_TEMPLATE}),this.$store.dispatch("management/findAll",{type:le.Mc.USER})],[a]=await Promise.all(t),l=a.filter((e=>_e((0,w.Jt)(e,this.parentKey))===_e(this.parentId)));if(this["lastSavedBindings"]=[...l],this.mode===C.YQ&&0===l.length&&this.defaultBindingHandler){const e=await this.defaultBindingHandler();e.isDefaultBinding=!0,l.push(e)}this["bindings"]=l},data(){return{schema:this.$store.getters["rancher/schemaFor"](this.type),bindings:[],lastSavedBindings:[]}},computed:{newBindings(){return this.bindings.filter((e=>!e.id&&!this.lastSavedBindings.includes(e)&&!e.isDefaultBinding))},removedBindings(){return this.lastSavedBindings.filter((e=>!this.bindings.includes(e)))},membershipUpdate(){const e=this.newBindings,t=this.removedBindings;return{newBindings:this.newBindings,removedBindings:this.removedBindings,save:a=>{const l=e.map((e=>((0,w.hZ)(e,this.parentKey,a),e.save()))),o=t.map((e=>e.remove()));return Promise.all([...l,...o])}}},isCreate(){return this.mode===C.YQ},isView(){return this.mode===C.nW}},watch:{membershipUpdate:{deep:!0,handler(){this.$emit("membership-update",this.membershipUpdate)}}},methods:{addMember(){this.$store.dispatch("cluster/promptModal",{component:this.addMemberDialogName,componentProps:{onAdd:this.onAddMember},modalSticky:this.modalSticky})},onAddMember(e){this["bindings"]=[...this.bindings,...e]}}};a(22261);const Me=(0,B.A)(Ue,[["render",ge],["__scopeId","data-v-1411a2d5"]]);var Le=Me;function Te(e){return De(e,!0)}var Oe={components:{MembershipEditor:Le},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:le.k$,bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===C.YQ},isView(){return this.mode===C.nW}},methods:{defaultBindingHandler(){return this.$store.dispatch("management/create",{type:le.k$.PROJECT_ROLE_TEMPLATE_BINDING,roleTemplateId:"project-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}};const Ie=(0,B.A)(Oe,[["render",se]]);var Re=Ie,$e=a(77673),Pe=a(89121),qe={emits:["update:value"],components:{ContainerResourceLimit:A,CruResource:U.A,Labels:M.A,LabeledSelect:L.A,NameNsDescription:ae.A,ProjectMembershipEditor:Re,ResourceQuota:X,Tabbed:te.A,Tab:ee.A,Banner:Pe.l},mixins:[_.A,D.A],inheritAttrs:!1,async fetch(){this.$store.getters["management/canList"](le.Mc.POD_SECURITY_POLICY_TEMPLATE)&&(this.allPSPs=await this.$store.dispatch("management/findAll",{type:le.Mc.POD_SECURITY_POLICY_TEMPLATE}));const e=this.$store.getters["management/schemaFor"](le.Mc.PSP_TEMPLATE_BINDING);this.canEditPSPBindings=!!e},data(){return this.value["spec"]=this.value.spec||{},this.value.spec["podSecurityPolicyTemplateId"]=this.value.status?.podSecurityPolicyTemplateId||"",{allPSPs:[],projectRoleTemplateBindingSchema:this.$store.getters["management/schemaFor"](le.Mc.PROJECT_ROLE_TEMPLATE_BINDING),createLocation:{name:"c-cluster-product-resource-create",params:{product:oe.o,resource:le.Mc.PROJECT_ROLE_TEMPLATE_BINDING},query:{[C.iJ]:this.project?.id?.replace("/",":")}},resource:le.Mc.PROJECT_ROLE_TEMPLATE_BINDING,saveBindings:null,membershipHasOwner:!1,membershipUpdate:{},HARVESTER_TYPES:j,RANCHER_TYPES:K,fvFormRuleSets:[{path:"spec.displayName",rules:["required"]}],canEditPSPBindings:!0}},computed:{...(0,n.L8)(["currentCluster","isStandaloneHarvester"]),canViewMembers(){return Te(this.$store)},canEditProject(){return this.value?.links?.update},isDescriptionDisabled(){return this.mode===C.G5&&!this.canEditProject||!1},canEditTabElements(){return this.mode!==C.G5||this.canEditProject?this.mode:C.nW},showBannerForOnlyManagingMembers(){return this.mode===C.G5&&!this.canEditProject},isK3s(){return(this.currentCluster?.spec?.kubernetesVersion||"").includes("k3s")},pspOptions(){if(this.isK3s||!this.currentCluster.spec.defaultPodSecurityPolicyTemplateName)return null;const e=[{label:this.t("project.psp.default"),value:""}];if(this.allPSPs)for(const a of this.allPSPs)e.push({label:a.nameDisplay,value:a.id});const t=this.value.status?.podSecurityPolicyTemplateId;return t&&!e.find((e=>e.value===t))&&e.unshift({label:this.t("project.psp.current",{value:t}),value:t}),e},isHarvester(){return this.$store.getters["currentProduct"].inStore===$e.T3},resourceQuotaLabel(){return this.isHarvester?this.t("project.vmDefaultResourceLimit"):this.t("project.containerDefaultResourceLimit")}},watch:{hasOwner(){this.errors=this.hasOwner?[]:[this.t("project.haveOneOwner")]}},created(){this.value.metadata["namespace"]=this.$store.getters["currentCluster"].id,this.value["spec"]=this.value.spec||{},this.value.spec["containerDefaultResourceLimit"]=this.value.spec.containerDefaultResourceLimit||{}},methods:{async save(e){try{if(this.mode===C.YQ){const e=await this.value.save();this.membershipUpdate.save&&await this.membershipUpdate.save(e.id)}else if(this.mode===C.G5&&(this.canEditProject&&(await this.value.save(!0),await this.$store.dispatch("management/find",{type:le.Mc.PROJECT,id:this.value.id,opt:{force:!0}})),this.membershipUpdate.save)){const e=await this.value.norman;await this.membershipUpdate.save(e.id)}e(!0),this.$router.replace(this.value.listLocation)}catch(t){this.errors.push(t),e(!1)}},onHasOwnerChanged(e){this["membershipHasOwner"]=e},onMembershipUpdate(e){this["membershipUpdate"]=e},removeQuota(e){["resourceQuota","namespaceDefaultResourceQuota"].forEach((t=>{this.value?.spec[t]?.limit&&this.value?.spec[t]?.limit[e]&&delete this.value?.spec[t]?.limit[e],this.value?.spec[t]?.usedLimit&&this.value?.spec[t]?.usedLimit[e]&&delete this.value?.spec[t]?.usedLimit[e]}))}}};const Fe=(0,B.A)(qe,[["render",r]]);var Ge=Fe},87544:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(9274);function o(e,t,a,o,s,r){const n=(0,l.resolveComponent)("NameNsDescription"),i=(0,l.resolveComponent)("Labels"),d=(0,l.resolveComponent)("Tab"),c=(0,l.resolveComponent)("ResourceTabs"),u=(0,l.resolveComponent)("CruResource");return(0,l.openBlock)(),(0,l.createBlock)(u,{resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{value:e.value,mode:e.mode,namespaced:!1,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(c,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.value=t),mode:e.mode,"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(d,{name:"labels-and-annotations","label-key":"generic.labelsAndAnnotations",weight:-1},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(i,{"default-container-class":"labels-and-annotations-container",value:e.value,mode:e.mode,"display-side-by-side":!1},null,8,["value","mode"])])),_:1})])),_:1},8,["value","mode"])])),_:1},8,["resource","mode","errors","onFinish"])}var s=a(22065),r=a(11922),n=a(50324),i=a(94877),d=a(55659),c=a(72706),u={name:"EditClusterNetwork",emits:["update:value"],components:{CruResource:s.A,NameNsDescription:r.A,ResourceTabs:n.A,Tab:i.A,Labels:d.A},mixins:[c.A],inheritAttrs:!1,computed:{doneLocationOverride(){return this.value.doneOverride}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate)},methods:{validate(){const e=[],t=this.value?.metadata?.name;return t?t.length>12&&e.push(this.t("validation.stringLength.max",{key:this.t("generic.name"),count:12},!0)):e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),e.length>0?Promise.reject(e):Promise.resolve()}}},p=a(47433);const m=(0,p.A)(u,[["render",o]]);var v=m},95058:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(9274);const o={class:"row"},s={key:0,class:"row mb-10"},r={class:"col span-6"};function n(e,t,a,n,i,d){const c=(0,l.resolveComponent)("RadioGroup"),u=(0,l.resolveComponent)("LabeledSelect"),p=(0,l.resolveComponent)("KeyValue");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createVNode)(c,{value:i.selectNode,"onUpdate:value":[t[0]||(t[0]=e=>i.selectNode=e),d.update],name:"selectNode",options:d.selectNodeOptions,mode:a.mode},null,8,["value","options","mode","onUpdate:value"])]),"nodeSelector"===i.selectNode?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(u,{value:i.nodeName,"onUpdate:value":[t[1]||(t[1]=e=>i.nodeName=e),d.update],label:e.t("workload.scheduling.affinity.nodeName"),options:a.nodes||[],mode:a.mode,multiple:!1},null,8,["value","label","options","mode","onUpdate:value"])])])):"custom"===i.selectNode?((0,l.openBlock)(),(0,l.createBlock)(p,{key:1,value:i.nodeSelector,"onUpdate:value":[t[2]||(t[2]=e=>i.nodeSelector=e),d.update],"key-label":e.t("generic.key"),mode:a.mode,"add-label":e.t("workload.scheduling.affinity.addNodeSelector"),"read-allowed":!1,"value-label":e.t("generic.value"),"initial-empty-row":!0},null,8,["value","key-label","mode","add-label","value-label","onUpdate:value"])):(0,l.createCommentVNode)("",!0)])}var i=a(65359),d=a(21221),c=a(77562),u=a(85905),p=a(55190),m=a(26812),v=a(32766),h={emits:["updateMatchingNICs","updateMatchingNodes"],components:{RadioGroup:d.z,LabeledSelect:c.A,KeyValue:u.A},props:{value:{type:Object,default:()=>({})},nodes:{type:Array,default:()=>[]},mode:{type:String,default:"create"}},data(){const{nodeSelector:e={}}=this.value;let t="all",a="";return e[p.yA]&&1===Object.keys(e).length?(t="nodeSelector",a=e[p.yA]):Object.keys(e).length>0&&(t="custom"),{selectNode:t,nodeName:a,nodeSelector:e}},computed:{...(0,i.L8)({t:"i18n/t"}),selectNodeOptions(){const e=[{label:this.t("harvester.vlanConfig.scheduling.affinity.allNodes"),value:"all"},{label:this.t("harvester.vlanConfig.scheduling.affinity.specificNode"),value:"nodeSelector"},{label:this.t("harvester.vlanConfig.scheduling.affinity.schedulingRules"),value:"custom"}];return e},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](v.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},l=[];return Object.keys(a).map((e=>{const t=a[e]||[];t.map((t=>{(0,m.jq)(l,"name",t.name)||t.masterIndex||l.push({...t,nodeName:e})}))})),l}},methods:{update(){const{nodeName:e,nodeSelector:t}=this;switch(this.selectNode){case"all":delete this.value?.nodeSelector;break;case"nodeSelector":delete this.value?.nodeSelector,Object.assign(this.value,{nodeSelector:{[p.yA]:e}});break;case"custom":delete this.value.nodeName,delete this.value.nodeSelector,Object.assign(this.value,{nodeSelector:t});break;default:delete this.value.nodeSelector}this.$emit("updateMatchingNICs"),this.$emit("updateMatchingNodes")}}},b=a(47433);const g=(0,b.A)(h,[["render",n]]);var f=g},57028:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Q}});var l=a(9274);const o={class:"row"},s={class:"col span-12"},r={class:"row"},n={class:"col span-12"},i={class:"row mt-10"},d={class:"col span-6"},c={class:"col span-6"},u={class:"row mt-20"},p={class:"col span-12"},m={class:"mt-20"},v={class:"row"},h={class:"col span-6"},b={class:"col span-6"},g={class:"mt-20"},f={class:"row mt-10"},y={class:"col span-6"};function k(e,t,a,k,N,V){const E=(0,l.resolveComponent)("Loading"),w=(0,l.resolveComponent)("NameNsDescription"),C=(0,l.resolveComponent)("Banner"),S=(0,l.resolveComponent)("NodeSelector"),B=(0,l.resolveComponent)("Tab"),x=(0,l.resolveComponent)("LabelValue"),A=(0,l.resolveComponent)("ArrayListSelect"),_=(0,l.resolveComponent)("LabeledSelect"),D=(0,l.resolveComponent)("LabeledInput"),U=(0,l.resolveComponent)("Tabbed"),M=(0,l.resolveComponent)("CruResource"),L=(0,l.resolveDirective)("clean-html");return e.$fetchState.pending?((0,l.openBlock)(),(0,l.createBlock)(E,{key:0})):((0,l.openBlock)(),(0,l.createBlock)(M,{key:1,resource:e.value,mode:e.mode,errors:e.errors,onFinish:e.save},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(w,{value:e.value,mode:e.mode,namespaced:!1,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))},null,8,["value","mode"]),(0,l.createVNode)(U,{"side-tabs":!0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(B,{name:"nodeSelector",label:e.t("harvester.vlanConfig.titles.nodeSelector"),weight:99},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",s,[(0,l.createVNode)(C,{color:N.matchingNodes.none?"warning":"success"},{default:(0,l.withCtx)((()=>[(0,l.withDirectives)((0,l.createElementVNode)("span",null,null,512),[[L,e.t("harvester.vlanConfig.nodeSelector.matchingNodes.matchesSome",N.matchingNodes)]])])),_:1},8,["color"])])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",n,[(0,l.createVNode)(S,{mode:e.mode,value:e.value.spec,nodes:V.nodeOptions,onUpdateMatchingNICs:V.updateMatchingNICs,onUpdateMatchingNodes:V.updateMatchingNodes},null,8,["mode","value","nodes","onUpdateMatchingNICs","onUpdateMatchingNodes"])])])])),_:1},8,["label"]),(0,l.createVNode)(B,{name:"upLink",label:e.t("harvester.vlanConfig.titles.uplink"),weight:99,"show-header":!1},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",d,[(0,l.createVNode)(x,{name:e.t("harvester.network.clusterNetwork.label"),value:e.value.spec.clusterNetwork},null,8,["name","value"])]),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(x,{name:"Type",value:"VLAN"})])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",p,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(N.nicErrors,((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(C,{key:t,color:"warning",label:e},null,8,["label"])))),128)),(0,l.createVNode)(A,{value:e.value.spec.uplink.nics,"onUpdate:value":t[1]||(t[1]=t=>e.value.spec.uplink.nics=t),mode:e.mode,options:V.nicOptions,"enable-default-add-value":!1,"array-list-props":{addLabel:e.t("harvester.vlanConfig.uplink.nics.addLabel"),initialEmptyRow:!0,title:e.t("harvester.vlanConfig.uplink.nics.label"),required:!0,protip:!1},"select-props":{placeholder:e.t("harvester.vlanConfig.uplink.nics.placeholder")}},null,8,["value","mode","options","array-list-props","select-props"])])]),(0,l.createElementVNode)("h3",m,(0,l.toDisplayString)(e.t("harvester.vlanConfig.titles.bondOptions")),1),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("div",h,[(0,l.createVNode)(_,{value:V.bondOptionMode,"onUpdate:value":t[2]||(t[2]=e=>V.bondOptionMode=e),label:e.t("harvester.vlanConfig.uplink.bondOptions.mode.label"),mode:e.mode,options:V.bondOptions,required:""},null,8,["value","label","mode","options"])]),(0,l.createElementVNode)("div",b,[(0,l.createVNode)(D,{value:V.miimon,"onUpdate:value":t[3]||(t[3]=e=>V.miimon=e),valueModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.label"),mode:e.mode,type:"number",tooltip:e.t("harvester.vlanConfig.uplink.bondOptions.miimon.tooltip",null,!0)},null,8,["value","label","mode","tooltip"])])]),(0,l.createElementVNode)("h3",g,(0,l.toDisplayString)(e.t("harvester.vlanConfig.titles.attributes")),1),(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",y,[(0,l.createVNode)(D,{value:V.mtu,"onUpdate:value":t[4]||(t[4]=e=>V.mtu=e),valueModifiers:{number:!0},label:e.t("harvester.vlanConfig.uplink.linkAttributes.mtu.label"),mode:e.mode,type:"number"},null,8,["value","label","mode"])])])])),_:1},8,["label"])])),_:1})])),_:1},8,["resource","mode","errors","onFinish"]))}var N=a(45250),V=a(22065),E=a(11922),w=a(5327),C=a(77562),S=a(4335),B=a(94877);function x(e,t,a,o,s,r){const n=(0,l.resolveComponent)("Select"),i=(0,l.resolveComponent)("ArrayList");return(0,l.openBlock)(),(0,l.createBlock)(i,(0,l.mergeProps)(a.arrayListProps,{value:a.value,class:"array-list-select","add-allowed":r.addAllowed||a.loading,loading:a.loading,defaultAddValue:r.defaultAddValue,disabled:a.disabled,"onUpdate:value":t[0]||(t[0]=t=>e.$emit("update:value",t))}),{columns:(0,l.withCtx)((e=>[(0,l.createVNode)(n,(0,l.mergeProps)({value:e.row.value},a.selectProps,{options:r.calculateOptions(e.row.value),"get-option-label":r.getOptionLabel,"onUpdate:value":t=>r.updateRow(e.i,t)}),null,16,["value","options","get-option-label","onUpdate:value"])])),_:1},16,["value","add-allowed","loading","defaultAddValue","disabled"])}var A=a(61520),_=a(44863),D={emits:["update:value"],components:{ArrayList:A.A,Select:_.A},props:{value:{type:Array,required:!0},options:{default:null,type:Array},selectProps:{type:Object,default:null},arrayListProps:{type:Object,default:null},enableDefaultAddValue:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!0}},computed:{filteredOptions(){return this.options.filter((e=>!this.value.includes(e.value)))},addAllowed(){return this.arrayListProps?.addAllowed||this.filteredOptions.length>0},defaultAddValue(){return this.enableDefaultAddValue?this.options[0]?.value:""},getOptionLabel(){return this.selectProps?.getOptionLabel?e=>this.selectProps?.getOptionLabel(e)||e:void 0}},methods:{updateRow(e,t){this.value.splice(e,1,t),this.$emit("update:value",this.value)},calculateOptions(e){const t=this.options.find((t=>t.value===e));return t?[t,...this.filteredOptions]:this.filteredOptions}}},U=(a(2989),a(47433));const M=(0,U.A)(D,[["render",x],["__scopeId","data-v-1565b86b"]]);var L=M,T=a(92552),O=a(61856),I=a(89121),R=a(72706),$=a(20665),P=a(92590),q=a(26812),F=a(63557),G=a(55190),K=a(17678),j=a(32766),H=a(95058),J={emits:["update:value"],components:{CruResource:V.A,NameNsDescription:E.A,LabeledInput:w.o,LabeledSelect:C.A,Tabbed:S.A,Tab:B.A,NodeSelector:H["default"],ArrayListSelect:L,LabelValue:T.A,Loading:O.A,Banner:I.l},mixins:[R.A],inheritAttrs:!1,data(){const e=(0,P.o8)(this.value?.spec?.uplink?.nics||[]),t={matched:0,matches:[],none:!0,sample:null,total:0};return{type:"vlan",matchNICs:[],originNics:e,matchingNodes:t,nicErrors:[]}},created(){this.registerBeforeHook&&this.registerBeforeHook(this.validate);const e=this.$route.query.clusterNetwork;e&&(0,P.hZ)(this.value,"spec.clusterNetwork",e)},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={linkMonitors:this.$store.dispatch(`${e}/findAll`,{type:j.rk.LINK_MONITOR}),nodes:this.$store.dispatch(`${e}/findAll`,{type:$.NW})};await(0,F.kR)(t),this.updateMatchingNICs(),this.updateMatchingNodes()},computed:{nodeOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd)).map((e=>({label:e.nameDisplay,value:e.id})))},mtu:{get(){return this.value?.spec?.uplink?.linkAttributes?.mtu},set(e){(0,P.hZ)(this.value,"spec.uplink.linkAttributes.mtu",e)}},bondOptionMode:{get(){return this.value?.spec?.uplink?.bondOptions?.mode},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.mode",e)}},miimon:{get(){return this.value?.spec?.uplink?.bondOptions?.miimon},set(e){(0,P.hZ)(this.value,"spec.uplink.bondOptions.miimon",e)}},bondOptions(){return["balance-rr","active-backup","balance-xor","broadcast","802.3ad","balance-tlb","balance-alb"]},doneLocationOverride(){return this.value.doneOverride},nics(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/byId`](j.rk.LINK_MONITOR,"nic")||{},a=t?.status?.linkStatus||{},l=this.nodes.map((e=>e.id)),o=[];return Object.keys(a).map((e=>{if(l.includes(e)){const t=a[e]||[];t.map((t=>{o.push({...t,nodeName:e})}))}})),o},nicOptions(){const e=[],t={};return(this.matchNICs||[]).map((a=>{a.masterIndex&&!this.originNics.includes(a.name)?(0,P.hZ)(t,`${a.name}.masterIndex`,!0):(0,q.jq)(e,"name",a.name)?(0,q.jq)(e,"name",a.name)&&((0,P.hZ)(t,`${a.name}.total`,t[a.name].total+1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?t[a.name].down+1:t[a.name].down)):(e.push(a),(0,P.hZ)(t,`${a.name}.total`,1),(0,P.hZ)(t,`${a.name}.down`,"down"===a.state?1:0))})),e.filter((e=>!t[e.name].masterIndex)).map((e=>{let a="";return a=0===t[e.name].down?`${e.name} (Up)`:1===t[e.name].total?`${e.name} (Down)`:`${e.name} (${t[e.name].down}/${t[e.name].total} Down)`,{label:a,value:e.name,disabled:t[e.name].down>0}}))},nodes(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`]($.NW);return t.filter((e=>"true"!==e.isEtcd))}},methods:{validate(){const e=[],t=this.value.spec?.uplink?.nics||[],a=this.t("validation.arrayCountRequired",{key:this.t("harvester.vlanConfig.uplink.nics.label"),count:1},!0);if(0===t.length?e.push(a):t.map((t=>{t||e.push(a);const l=this.nicOptions.find((e=>e.value===t));l&&l?.disabled&&e.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.value?.metadata?.name||e.push(this.t("validation.required",{key:this.t("generic.name")},!0)),this.value?.spec?.clusterNetwork||e.push(this.t("validation.required",{key:this.t("harvester.network.clusterNetwork.label")},!0)),e.length>0)return Promise.reject((0,q.sb)(e));{const e=this.value?.spec?.uplink?.bondOptions?.miimon;e||0===e||delete this.value?.spec?.uplink?.bondOptions?.miimon;const t=this.value?.spec?.uplink?.linkAttributes?.mtu;return t||0===t||delete this.value?.spec?.uplink?.linkAttributes?.mtu,Promise.resolve()}},updateMatchingNICs:(0,N.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nics||[];let a=[],l=[];if((0,N.isEmpty)(e))a=(0,P.o8)(t),l=(this.nodes||[]).map((e=>e.id));else if(e[G.yA]&&1===Object.keys(e).length)a=t.filter((t=>t.nodeName===e[G.yA])),l=[e[G.yA]];else{const o=(0,K.wC)(this.nodes||[],e).map((e=>e.id));a=t.filter((e=>o.includes(e.nodeName))),l=o.map((e=>e.id))}this.matchNICs=this.intersection(a,l)||[]}),250,{leading:!0}),intersection(e=[],t=[]){const a={};return e.map((e=>{a[e.name]=(a[e.name]||0)+1})),e.filter((e=>a[e.name]===t.length))},updateMatchingNodes:(0,N.throttle)((function(){const e=this.value?.spec?.nodeSelector||{},t=this.nodes||[];if((0,N.isEmpty)(e))this.matchingNodes={matched:t.length,total:t.length,none:!1,sample:t[0]?t[0].nameDisplay:null};else if(e[G.yA]&&1===Object.keys(e).length){const a=t.find((t=>t.id===e[G.yA]));this.matchingNodes=a?{matched:1,total:t.length,none:!1,sample:a.nameDisplay}:{matched:0,total:0,none:!0,sample:null}}else{const a=(0,K.wC)(t,e);this.matchingNodes={matched:a.length,total:t.length,none:0===a.length,sample:a[0]?a[0].nameDisplay:null}}}),250,{leading:!0})},watch:{nicOptions(e){const t=this.value.spec?.uplink?.nics||[],a=[];t.map((t=>{const l=e.find((e=>e.value===t));(l&&l?.disabled||!l)&&a.push(this.t("harvester.vlanConfig.uplink.nics.validate.available",{nic:t},!0))})),this.nicErrors=(0,q.sb)(a)}}};a(59505);const z=(0,U.A)(J,[["render",k],["__scopeId","data-v-7d89080c"]]);var Q=z},1170:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"h3{margin-top:10px}",""]),t["default"]=n},6778:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},41157:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}.vertically-center{padding:20px 0}",""]),t["default"]=n},67070:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row{margin-bottom:5px}",""]),t["default"]=n},96897:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".grid[data-v-64bf89cd]{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.grid .item[data-v-64bf89cd]{width:100%}}@media only screen and (min-width:768px){.grid .item[data-v-64bf89cd]{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.grid .item[data-v-64bf89cd]{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.grid .item[data-v-64bf89cd]{width:calc(25% - 20px)}}.grid .item[data-v-64bf89cd]{height:135px;margin:10px;padding:10px;position:relative;border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}.grid .item[data-v-64bf89cd]:focus-visible{outline:2px solid var(--primary-keyboard-focus)}.grid .item[data-v-64bf89cd]:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}.grid .item .side-label[data-v-64bf89cd]{position:absolute;top:10px;right:10px;padding:2px 5px}.grid .item .side-label.indicator[data-v-64bf89cd]{top:0;right:0;left:0}.grid .item .side-label label[data-v-64bf89cd],.grid .item label.deploys-os-label[data-v-64bf89cd],.grid .item label.os-incompatible-label[data-v-64bf89cd]{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--card-badge-text);margin:0}.grid .item .deploys-os-label[data-v-64bf89cd],.grid .item .os-incompatible-label[data-v-64bf89cd]{position:absolute;bottom:10px;padding:2px 5px;right:10px}.grid .item label.os-incompatible-label[data-v-64bf89cd]{color:var(--warning);background-color:var(--warning-banner-bg)}.grid .item .logo[data-v-64bf89cd]{text-align:center;position:absolute;left:25px;top:37.5px;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.grid .item .logo img[data-v-64bf89cd]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.grid .item .logo i[data-v-64bf89cd]{background-position:50%;background-repeat:no-repeat;display:flex;height:56px;margin:2px;width:56px}.grid .item.rancher .deploys-os-label[data-v-64bf89cd],.grid .item.rancher .side-label[data-v-64bf89cd]{background-color:var(--app-rancher-accent)}.grid .item.rancher .deploys-os-label label[data-v-64bf89cd],.grid .item.rancher .side-label label[data-v-64bf89cd]{color:var(--app-rancher-accent-text)}.grid .item.rancher[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-rancher-accent)}.grid .item.partner .deploys-os-label[data-v-64bf89cd],.grid .item.partner .side-label[data-v-64bf89cd]{background-color:var(--app-partner-accent)}.grid .item.partner .deploys-os-label label[data-v-64bf89cd],.grid .item.partner .side-label label[data-v-64bf89cd]{color:var(--app-partner-accent-text)}.grid .item.partner[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-partner-accent)}.grid .item.color1 .deploys-os-label[data-v-64bf89cd],.grid .item.color1 .side-label[data-v-64bf89cd]{background-color:var(--app-color1-accent)}.grid .item.color1 .deploys-os-label label[data-v-64bf89cd],.grid .item.color1 .side-label label[data-v-64bf89cd]{color:var(--app-color1-accent-text)}.grid .item.color1[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color1-accent)}.grid .item.color2 .deploys-os-label[data-v-64bf89cd],.grid .item.color2 .side-label[data-v-64bf89cd]{background-color:var(--app-color2-accent)}.grid .item.color2 .deploys-os-label label[data-v-64bf89cd],.grid .item.color2 .side-label label[data-v-64bf89cd]{color:var(--app-color2-accent-text)}.grid .item.color2[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color2-accent)}.grid .item.color3 .deploys-os-label[data-v-64bf89cd],.grid .item.color3 .side-label[data-v-64bf89cd]{background-color:var(--app-color3-accent)}.grid .item.color3 .deploys-os-label label[data-v-64bf89cd],.grid .item.color3 .side-label label[data-v-64bf89cd]{color:var(--app-color3-accent-text)}.grid .item.color3[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color3-accent)}.grid .item.color4 .deploys-os-label[data-v-64bf89cd],.grid .item.color4 .side-label[data-v-64bf89cd]{background-color:var(--app-color4-accent)}.grid .item.color4 .deploys-os-label label[data-v-64bf89cd],.grid .item.color4 .side-label label[data-v-64bf89cd]{color:var(--app-color4-accent-text)}.grid .item.color4[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color4-accent)}.grid .item.color5 .deploys-os-label[data-v-64bf89cd],.grid .item.color5 .side-label[data-v-64bf89cd]{background-color:var(--app-color5-accent)}.grid .item.color5 .deploys-os-label label[data-v-64bf89cd],.grid .item.color5 .side-label label[data-v-64bf89cd]{color:var(--app-color5-accent-text)}.grid .item.color5[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color5-accent)}.grid .item.color6 .deploys-os-label[data-v-64bf89cd],.grid .item.color6 .side-label[data-v-64bf89cd]{background-color:var(--app-color6-accent)}.grid .item.color6 .deploys-os-label label[data-v-64bf89cd],.grid .item.color6 .side-label label[data-v-64bf89cd]{color:var(--app-color6-accent-text)}.grid .item.color6[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color6-accent)}.grid .item.color7 .deploys-os-label[data-v-64bf89cd],.grid .item.color7 .side-label[data-v-64bf89cd]{background-color:var(--app-color7-accent)}.grid .item.color7 .deploys-os-label label[data-v-64bf89cd],.grid .item.color7 .side-label label[data-v-64bf89cd]{color:var(--app-color7-accent-text)}.grid .item.color7[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color7-accent)}.grid .item.color8 .deploys-os-label[data-v-64bf89cd],.grid .item.color8 .side-label[data-v-64bf89cd]{background-color:var(--app-color8-accent)}.grid .item.color8 .deploys-os-label label[data-v-64bf89cd],.grid .item.color8 .side-label label[data-v-64bf89cd]{color:var(--app-color8-accent-text)}.grid .item.color8[data-v-64bf89cd]:hover:not(.disabled){border-color:var(--app-color8-accent)}.grid .item[data-v-64bf89cd]:hover:not(.disabled){background-position:100%;border-left-width:1px}.grid .item:hover:not(.disabled) .logo[data-v-64bf89cd]{left:25px}.grid .item:hover:not(.disabled) .name[data-v-64bf89cd]{margin-left:85px}.grid .item .name[data-v-64bf89cd]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:115px;margin:0;margin-left:85px}.grid .item.has-description .name[data-v-64bf89cd]{margin-top:10px;line-height:normal}.grid .item.has-description.has-side-label .name[data-v-64bf89cd]{margin-top:15px}.grid .item .description[data-v-64bf89cd]{margin-top:10px;margin-left:85px;margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--text-muted)!important}.grid .disabled[data-v-64bf89cd]{opacity:.5;cursor:not-allowed}",""]),t["default"]=n},42139:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".tip[data-v-72c06d3e]{color:var(--disabled-text);display:flex;align-items:center}.my-icon[data-v-72c06d3e]{font-size:16px;margin-right:2px}.text[data-v-72c06d3e]{font-size:14px}",""]),t["default"]=n},57046:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,'.principal[data-v-77cc05cc]{display:grid;grid-template-areas:"avatar name" "avatar description";grid-template-columns:40px auto;grid-template-rows:auto 20px;-moz-column-gap:10px;column-gap:10px}.principal th[data-v-77cc05cc]{text-align:left;font-weight:400;padding-right:10px}.principal.showLabels[data-v-77cc05cc]{grid-template-areas:"avatar name";grid-template-columns:60px auto;grid-template-rows:60px;-moz-column-gap:0;column-gap:0}.principal.showLabels .name[data-v-77cc05cc]{line-height:unset}.principal.showLabels table tr td[data-v-77cc05cc]:not(:first-of-type){padding-left:10px}.principal .avatar[data-v-77cc05cc]{grid-area:avatar;text-align:center}.principal .avatar DIV.empty[data-v-77cc05cc]{border:1px solid var(--border);line-height:40px}.principal .avatar IMG[data-v-77cc05cc]{width:40px;height:40px}.principal .avatar DIV.round[data-v-77cc05cc],.principal .avatar IMG.round[data-v-77cc05cc]{border-radius:50%}.principal .name[data-v-77cc05cc]{grid-area:name;line-height:20px;overflow-wrap:anywhere}.principal .description[data-v-77cc05cc]{grid-area:description;line-height:20px}',""]),t["default"]=n},54317:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-1565b86b]  .unlabeled-select{height:61px}",""]),t["default"]=n},24629:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".role[data-v-1411a2d5]{display:flex;align-items:center;flex-direction:row}",""]),t["default"]=n},56294:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"button[data-v-0b0836cc]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-0b0836cc]{padding-top:7px}.row.name-ns-description[data-v-0b0836cc]{max-height:61px}.row .namespace-select[data-v-0b0836cc]  .labeled-select{min-width:40%}.row .namespace-select[data-v-0b0836cc]  .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-0b0836cc]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-0b0836cc]{max-height:none}.row.flip-direction>div[data-v-0b0836cc]>*{margin-bottom:20px}",""]),t["default"]=n},52747:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".headers[data-v-b710bc8e]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;border-bottom:1px solid var(--border);height:30px;width:calc(100% - 75px)}.headers div[data-v-b710bc8e]{width:100%}",""]),t["default"]=n},58737:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".row[data-v-f8ab9a14]{display:flex;flex-direction:row;justify-content:space-evenly}",""]),t["default"]=n},63299:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".secret-selector{width:100%}.secret-selector label{display:block}.secret-selector .labeled-select{min-height:61px}.secret-selector .vs__selected-options{padding:8px 0 7px 0}.secret-selector label{display:inline-block}.secret-selector.show-key-selector .input-container>*{display:inline-block;width:50%}.secret-selector.show-key-selector .input-container>.labeled-select.focused{z-index:10}.secret-selector.show-key-selector .input-container>:first-child{border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.secret-selector.show-key-selector .input-container>:last-child{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none;float:right}",""]),t["default"]=n},1014:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-64137ce8]  .icon-info{margin-top:-3px;margin-right:4px}",""]),t["default"]=n},64797:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".overwrite[data-v-04f7f98b]{display:flex;align-items:center}",""]),t["default"]=n},2240:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".overwrite[data-v-65384aa8]{display:flex;align-items:center}",""]),t["default"]=n},58431:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".insecure[data-v-28e49e6e]{display:flex;align-items:center}",""]),t["default"]=n},5531:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".tag[data-v-6b2f75f1]{border:1px solid var(--primary);border-radius:var(--border-radius);box-sizing:border-box;margin:0;padding:0;font-size:14px;line-height:20px;list-style:none;display:inline-block;height:auto;margin-inline-end:8px;padding-inline:7px;white-space:nowrap;background:var(--accent-btn);opacity:1;text-align:start;color:var(--link);margin-bottom:10px;margin-right:8px;padding-top:8px;padding-bottom:8px}.tag i[data-v-6b2f75f1],.tag.add[data-v-6b2f75f1]{cursor:pointer}.tag.add[data-v-6b2f75f1]{border-style:dashed}.tag.add[data-v-6b2f75f1],.tag.input[data-v-6b2f75f1]{background:var(--body-bg)}.tag.input[data-v-6b2f75f1]{border:none;border-radius:none;padding:0}",""]),t["default"]=n},48952:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-034d9714]  .radio-group{display:flex}[data-v-034d9714]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},37853:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"p[data-v-4b7055bd]{display:flex;align-items:center}.icon-h-question[data-v-4b7055bd]{font-size:24px}.tip[data-v-4b7055bd]{font-size:15px}.goCA[data-v-4b7055bd]{margin:0 3px}",""]),t["default"]=n},44309:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".box[data-v-d281fc5e]{position:relative;padding-top:40px}.remove[data-v-d281fc5e]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},62636:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".box[data-v-a4b4739a]{position:relative;padding-top:40px}.remove[data-v-a4b4739a]{position:absolute;top:10px;right:10px;padding:0}",""]),t["default"]=n},95083:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".chooseFile[data-v-27a09764]{display:flex;align-items:center}",""]),t["default"]=n},620:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-11b4ae46]  .radio-group{display:flex}[data-v-11b4ae46]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},86373:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".restart-modal[data-v-574c27ab]{z-index:45}.prompt-restart[data-v-574c27ab]{margin:0}.bottom[data-v-574c27ab]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-574c27ab]{margin-top:0}.bottom .buttons[data-v-574c27ab]{display:flex;justify-content:flex-end;width:100%}",""]),t["default"]=n},99334:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-24a677c4]  .radio-group{display:flex}[data-v-24a677c4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},57165:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-4b980a18]  .radio-group{display:flex}[data-v-4b980a18]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},22802:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-365beeb4]  .radio-group{display:flex}[data-v-365beeb4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},1814:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-bdc3ab06]  .radio-group{display:flex}[data-v-bdc3ab06]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},96370:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-4ac8f18c]  .radio-group{display:flex}[data-v-4ac8f18c]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},34410:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-077b6bf4]  .radio-group{display:flex}[data-v-077b6bf4]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},46453:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-b9cb7bba]  .radio-group{display:flex}[data-v-b9cb7bba]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},88087:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-7d4cbfa3]  .radio-group{display:flex}[data-v-7d4cbfa3]  .radio-group .radio-container{margin-right:30px}",""]),t["default"]=n},96716:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"[data-v-65b4127d]  .yaml-editor{flex:1;min-height:200px}[data-v-65b4127d]  .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}",""]),t["default"]=n},24175:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".close[data-v-30b402d6]{top:10px;right:10px;padding:0;position:absolute}.disk[data-v-30b402d6]{position:relative}.disk .secret-name[data-v-30b402d6]{height:61px}.disk[data-v-30b402d6]:not(:last-of-type){padding-bottom:10px;margin-bottom:30px}.flex[data-v-30b402d6]{display:flex;justify-content:space-between}.badge-state[data-v-30b402d6]{padding:2px 5px}",""]),t["default"]=n},25156:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#node[data-v-6b99f71c]{display:flex;flex-direction:column}#node[data-v-6b99f71c],#node .content[data-v-6b99f71c]{flex-grow:1}#node .wrapper[data-v-6b99f71c]{position:relative}#node .nicOption[data-v-6b99f71c]{display:flex;justify-content:space-between}",""]),t["default"]=n},30310:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".header[data-v-392bdb63]{display:flex;justify-content:flex-end}",""]),t["default"]=n},90739:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".output{display:flex;flex-direction:column;flex-grow:1}.output .provider h1{display:inline-block}.output .box-container{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}@media only screen and (min-width:480px){.output .box-container .toggle-gradient-box{width:100%}}@media only screen and (min-width:768px){.output .box-container .toggle-gradient-box{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.output .box-container .toggle-gradient-box{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.output .box-container .toggle-gradient-box{width:calc(25% - 20px)}}.output .box-container .toggle-gradient-box{margin:10px;padding:10px;position:relative;border-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box:hover{box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer}.output .box-container .toggle-gradient-box .side-label{transform:rotate(180deg);position:absolute;top:0;left:0;bottom:0;min-width:calc(var(--border-radius)*1.5);width:15px;border-top-right-radius:calc(var(--border-radius)*1.5);border-bottom-right-radius:calc(var(--border-radius)*1.5)}.output .box-container .toggle-gradient-box .side-label label{text-align:center;writing-mode:tb;height:100%;padding:0 2px;display:block;white-space:no-wrap;text-overflow:ellipsis}.output .box-container .toggle-gradient-box .logo{text-align:center;width:60px;height:60px;border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff;display:inline-block;vertical-align:middle}.output .box-container .toggle-gradient-box .logo img{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}.output .box-container .toggle-gradient-box:hover{background-position:100%}.output .box-container .toggle-gradient-box .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0;display:inline-block;vertical-align:middle}",""]),t["default"]=n},33100:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"h3[data-v-34ffb89b]{margin-top:2em}input[data-v-34ffb89b]{margin-top:1em}.route[real-mode=view] .label[data-v-34ffb89b]{color:var(--input-label)}button[data-v-34ffb89b]{margin-left:.5em}a[data-v-34ffb89b]:hover{text-decoration:none}",""]),t["default"]=n},99612:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".edit-change[data-v-01b4cf42]{align-items:center;display:flex}.edit-change>h5[data-v-01b4cf42]{flex:1}[data-v-01b4cf42]  .edit-help code{padding:1px 5px}",""]),t["default"]=n},91923:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".custom-headers[data-v-4918df50]{align-items:center}",""]),t["default"]=n},65601:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".labeled-input.compact-input[data-v-8c848812]{padding:7px 10px}",""]),t["default"]=n},13158:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".labeled-input.compact-input[data-v-1618b260]{padding:7px 10px}",""]),t["default"]=n},25936:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".labeled-input.compact-input[data-v-6afc4f36]{padding:7px 10px}",""]),t["default"]=n},30056:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#restore[data-v-dcf8e7de]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-dcf8e7de]  .radio-group{display:flex}#restore[data-v-dcf8e7de]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-dcf8e7de]{flex-grow:1}#restore .footer[data-v-dcf8e7de]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-dcf8e7de]  .spacer-small{padding:0}",""]),t["default"]=n},27193:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".kv-item.value>.unlabeled-select[data-v-1d4328c1]{height:40px;line-height:1}",""]),t["default"]=n},4689:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#restore[data-v-6c93c587]{display:flex;flex-grow:1;flex-direction:column}#restore[data-v-6c93c587]  .radio-group{display:flex}#restore[data-v-6c93c587]  .radio-group .radio-container{margin-right:30px}#restore .content[data-v-6c93c587]{flex-grow:1}#restore .footer[data-v-6c93c587]{border-top:var(--header-border-size) solid var(--header-border);margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}#restore .footer[data-v-6c93c587]  .spacer-small{padding:0}",""]),t["default"]=n},33422:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".compat-matrix,.device-col{display:flex}.device-col{flex-direction:column;border-right:1px solid var(--border)}.device-col>*{border-bottom:1px solid var(--border)}.compat-cell{flex-basis:1em;padding:0 10px 0 10px}.compat-cell.has-device{background-color:var(--info-banner-bg)}.device-label,.node-label{display:flex;align-items:center;color:var(--input-label)}.node-label{padding:0 10px;justify-content:center}.blank-corner,.compat-cell,.device-label,.node-label{flex-basis:calc(2em + 10px)}.blank-corner{background:linear-gradient(to top right,#fff 0,#fff calc(50% - 1px),var(--body-text) 50%,#fff calc(50% + 1px),#fff 100%)}.blank-corner DIV.text-right{padding-left:80px}",""]),t["default"]=n},66690:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"#vm[data-v-27fdbb13]  .vm-radio-group .radio-group{display:flex}#vm[data-v-27fdbb13]  .vm-radio-group .radio-group .radio-container{margin-right:30px}#vm .restart[data-v-27fdbb13]{display:flex;justify-content:flex-end}#vm .banner-right[data-v-27fdbb13]{width:auto;display:flex;justify-items:center}",""]),t["default"]=n},94379:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-headers[data-v-3ca2ec55]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-headers.show-project-and-cluster[data-v-3ca2ec55]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},23560:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-row[data-v-6c39bd05]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:40% 40% 15%}.pool-row.show-project-and-cluster[data-v-6c39bd05]{grid-template-columns:25% 25% 25% 15%}",""]),t["default"]=n},52951:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".pool-headers[data-v-070c8736],.pool-row[data-v-070c8736]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.pool-headers.cidr[data-v-070c8736],.pool-row.cidr[data-v-070c8736]{grid-template-columns:41.75% 41.75% 15%}.pool-headers.range[data-v-070c8736],.pool-row.range[data-v-070c8736]{grid-template-columns:20% 20% 20% 20% 15%}",""]),t["default"]=n},48564:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".listener-headers[data-v-602acdc3],.listener-row[data-v-602acdc3]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center;grid-template-columns:35% 15% 15% 15% 15%}",""]),t["default"]=n},38701:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,".title[data-v-201c4480]{margin-bottom:10px}.title .read-from-file[data-v-201c4480]{float:right}.ports-headers[data-v-201c4480],.ports-row[data-v-201c4480]{display:grid;grid-column-gap:1.75%;margin-bottom:10px;align-items:center}.ports-headers.show-protocol[data-v-201c4480],.ports-row.show-protocol[data-v-201c4480]{grid-template-columns:23% 23% 10% 15% 15% 10%}.ports-headers.show-protocol[data-v-201c4480]:not(.show-node-port),.ports-row.show-protocol[data-v-201c4480]:not(.show-node-port){grid-template-columns:31% 31% 10% 15% 10%}.ports-headers.show-node-port[data-v-201c4480]:not(.show-protocol),.ports-row.show-node-port[data-v-201c4480]:not(.show-protocol){grid-template-columns:28% 28% 15% 15% 10%}.ports-headers[data-v-201c4480]{color:var(--input-label)}.toggle-host-ports[data-v-201c4480]{color:var(--primary)}.remove BUTTON[data-v-201c4480]{padding:0}.ports-row>div[data-v-201c4480]{height:100%}.ports-row .port-protocol[data-v-201c4480]  .unlabeled-select .v-select.inline{margin-top:2px}.footer[data-v-201c4480]{margin-top:10px;margin-left:5px}.footer .protip[data-v-201c4480]{float:right;padding:5px 0}",""]),t["default"]=n},56337:function(e,t,a){"use strict";a.r(t);var l=a(36758),o=a.n(l),s=a(40935),r=a.n(s),n=r()(o());n.push([e.id,"button[data-v-7d89080c]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-7d89080c]{padding-top:7px}",""]),t["default"]=n},78263:function(e,t,a){"use strict";a.r(t),a.d(t,{normalizePort:function(){return r},protocol:function(){return l},sslVersions:function(){return o},updatePort:function(){return s}});const l=["http","https"],o=["TLSv1_2","TLSv1_1","TLSv1","SSLv23"];function s(e,t){e(0),e(r(t))}function r(e){const t=Number.parseInt(e,10);return t<1?1:t>65535?65535:t}},12085:function(e,t,a){var l=a(1170);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("1e037b4e",l,!0,{sourceMap:!1,shadowMode:!1})},93867:function(e,t,a){var l=a(6778);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0ab6161e",l,!0,{sourceMap:!1,shadowMode:!1})},44269:function(e,t,a){var l=a(41157);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("c9054f5a",l,!0,{sourceMap:!1,shadowMode:!1})},82339:function(e,t,a){var l=a(67070);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("013d8c07",l,!0,{sourceMap:!1,shadowMode:!1})},32289:function(e,t,a){var l=a(96897);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("4e7fd57a",l,!0,{sourceMap:!1,shadowMode:!1})},60571:function(e,t,a){var l=a(42139);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0a085f1e",l,!0,{sourceMap:!1,shadowMode:!1})},43369:function(e,t,a){var l=a(57046);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0ed31748",l,!0,{sourceMap:!1,shadowMode:!1})},2989:function(e,t,a){var l=a(54317);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0951117c",l,!0,{sourceMap:!1,shadowMode:!1})},22261:function(e,t,a){var l=a(24629);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("c400b0b6",l,!0,{sourceMap:!1,shadowMode:!1})},68998:function(e,t,a){var l=a(56294);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2cb051c8",l,!0,{sourceMap:!1,shadowMode:!1})},11531:function(e,t,a){var l=a(52747);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("0839b347",l,!0,{sourceMap:!1,shadowMode:!1})},69937:function(e,t,a){var l=a(58737);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2c99332d",l,!0,{sourceMap:!1,shadowMode:!1})},77635:function(e,t,a){var l=a(63299);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2d4e1524",l,!0,{sourceMap:!1,shadowMode:!1})},63286:function(e,t,a){var l=a(1014);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("e3ad162c",l,!0,{sourceMap:!1,shadowMode:!1})},59293:function(e,t,a){var l=a(64797);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("49c52dfe",l,!0,{sourceMap:!1,shadowMode:!1})},95488:function(e,t,a){var l=a(2240);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("39bfeaa3",l,!0,{sourceMap:!1,shadowMode:!1})},82463:function(e,t,a){var l=a(58431);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("150ca529",l,!0,{sourceMap:!1,shadowMode:!1})},61051:function(e,t,a){var l=a(5531);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2ab997d2",l,!0,{sourceMap:!1,shadowMode:!1})},50072:function(e,t,a){var l=a(48952);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("011aed91",l,!0,{sourceMap:!1,shadowMode:!1})},10205:function(e,t,a){var l=a(37853);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("796d5530",l,!0,{sourceMap:!1,shadowMode:!1})},88789:function(e,t,a){var l=a(44309);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("4412edfb",l,!0,{sourceMap:!1,shadowMode:!1})},31660:function(e,t,a){var l=a(62636);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("355586d0",l,!0,{sourceMap:!1,shadowMode:!1})},92427:function(e,t,a){var l=a(95083);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3f5ef292",l,!0,{sourceMap:!1,shadowMode:!1})},93612:function(e,t,a){var l=a(620);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("073cf01f",l,!0,{sourceMap:!1,shadowMode:!1})},38917:function(e,t,a){var l=a(86373);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("37a21e9a",l,!0,{sourceMap:!1,shadowMode:!1})},21030:function(e,t,a){var l=a(99334);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("21824756",l,!0,{sourceMap:!1,shadowMode:!1})},19949:function(e,t,a){var l=a(57165);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("52afd3fe",l,!0,{sourceMap:!1,shadowMode:!1})},57010:function(e,t,a){var l=a(22802);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("5bf22ba4",l,!0,{sourceMap:!1,shadowMode:!1})},71318:function(e,t,a){var l=a(1814);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("097b633b",l,!0,{sourceMap:!1,shadowMode:!1})},82002:function(e,t,a){var l=a(96370);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("1492605e",l,!0,{sourceMap:!1,shadowMode:!1})},18813:function(e,t,a){var l=a(34410);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3008a3f0",l,!0,{sourceMap:!1,shadowMode:!1})},11221:function(e,t,a){var l=a(46453);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("27f0bb08",l,!0,{sourceMap:!1,shadowMode:!1})},27639:function(e,t,a){var l=a(88087);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("d2d2f1a4",l,!0,{sourceMap:!1,shadowMode:!1})},59852:function(e,t,a){var l=a(96716);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6b2b15ea",l,!0,{sourceMap:!1,shadowMode:!1})},94287:function(e,t,a){var l=a(24175);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("45099b66",l,!0,{sourceMap:!1,shadowMode:!1})},8612:function(e,t,a){var l=a(25156);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("31bcc54e",l,!0,{sourceMap:!1,shadowMode:!1})},54822:function(e,t,a){var l=a(30310);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2a649d0d",l,!0,{sourceMap:!1,shadowMode:!1})},93459:function(e,t,a){var l=a(90739);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("ccabc532",l,!0,{sourceMap:!1,shadowMode:!1})},65548:function(e,t,a){var l=a(33100);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("7673b10d",l,!0,{sourceMap:!1,shadowMode:!1})},97596:function(e,t,a){var l=a(99612);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("3051a4b8",l,!0,{sourceMap:!1,shadowMode:!1})},83219:function(e,t,a){var l=a(91923);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("f480f734",l,!0,{sourceMap:!1,shadowMode:!1})},20545:function(e,t,a){var l=a(65601);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("165b7990",l,!0,{sourceMap:!1,shadowMode:!1})},88198:function(e,t,a){var l=a(13158);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("2d4ffc04",l,!0,{sourceMap:!1,shadowMode:!1})},5648:function(e,t,a){var l=a(25936);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("24b87eda",l,!0,{sourceMap:!1,shadowMode:!1})},4008:function(e,t,a){var l=a(30056);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("99c9cf44",l,!0,{sourceMap:!1,shadowMode:!1})},70585:function(e,t,a){var l=a(27193);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("d10aabf8",l,!0,{sourceMap:!1,shadowMode:!1})},38673:function(e,t,a){var l=a(4689);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("344e8b72",l,!0,{sourceMap:!1,shadowMode:!1})},91950:function(e,t,a){var l=a(33422);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("5f8696f8",l,!0,{sourceMap:!1,shadowMode:!1})},98338:function(e,t,a){var l=a(66690);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("4f1e98ad",l,!0,{sourceMap:!1,shadowMode:!1})},30347:function(e,t,a){var l=a(94379);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("99e79c7c",l,!0,{sourceMap:!1,shadowMode:!1})},59688:function(e,t,a){var l=a(23560);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("720afeca",l,!0,{sourceMap:!1,shadowMode:!1})},90839:function(e,t,a){var l=a(52951);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("6cebf0b2",l,!0,{sourceMap:!1,shadowMode:!1})},50004:function(e,t,a){var l=a(48564);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("54340006",l,!0,{sourceMap:!1,shadowMode:!1})},62541:function(e,t,a){var l=a(38701);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("41557fde",l,!0,{sourceMap:!1,shadowMode:!1})},59505:function(e,t,a){var l=a(56337);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=a(74825).A;o("676e5870",l,!0,{sourceMap:!1,shadowMode:!1})},28431:function(e,t,a){var l={"./__tests__/loki.test":28407,"./__tests__/loki.test.ts":28407,"./awsElasticsearch":52664,"./awsElasticsearch.vue":52664,"./azurestorage":83882,"./azurestorage.vue":83882,"./cloudwatch":25974,"./cloudwatch.vue":25974,"./datadog":69648,"./datadog.vue":69648,"./elasticsearch":94479,"./elasticsearch.vue":94479,"./file":91728,"./file.vue":91728,"./forward":22597,"./forward.vue":22597,"./gcs":5558,"./gcs.vue":5558,"./gelf":94624,"./gelf.vue":94624,"./kafka":8288,"./kafka.vue":8288,"./kinesisStream":79442,"./kinesisStream.vue":79442,"./logdna":97409,"./logdna.vue":97409,"./logz":38387,"./logz.vue":38387,"./loki":25480,"./loki.vue":25480,"./newrelic":21413,"./newrelic.vue":21413,"./opensearch":13891,"./opensearch.vue":13891,"./redis":74506,"./redis.vue":74506,"./s3":15890,"./s3.vue":15890,"./splunkHec":38060,"./splunkHec.vue":38060,"./sumologic":3527,"./sumologic.vue":3527,"./syslog":71815,"./syslog.vue":71815,"./utils":78263,"./utils.js":78263};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=28431},48254:function(e,t,a){var l={"./":86404,"./__tests__/ssh.test":64275,"./__tests__/ssh.test.ts":64275,"./basic":89556,"./basic.vue":89556,"./generic":92154,"./generic.vue":92154,"./index":86404,"./index.vue":86404,"./registry":62009,"./registry.vue":62009,"./ssh":4889,"./ssh.vue":4889,"./tls":11658,"./tls.vue":11658};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=48254},88292:function(e,t,a){var l={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":32158,"./backup-target.vue":71526,"./containerd-registry.vue":90955,"./csi-driver-config.vue":65241,"./default-vm-termination-grace-period-seconds.vue":59392,"./http-proxy.vue":18093,"./ntp-servers.vue":28436,"./overcommit-config.vue":70726,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":68244,"./support-bundle-image.vue":48749,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":33955};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=88292},26190:function(e,t,a){var l={"./additional-ca.vue":36955,"./additional-guest-memory-overhead-ratio.vue":53867,"./auto-rotate-rke2-certs.vue":32158,"./backup-target.vue":71526,"./containerd-registry.vue":90955,"./csi-driver-config.vue":65241,"./default-vm-termination-grace-period-seconds.vue":59392,"./http-proxy.vue":18093,"./ntp-servers.vue":28436,"./overcommit-config.vue":70726,"./ssl-certificates.vue":54122,"./ssl-parameters.vue":13515,"./storage-network.vue":68244,"./support-bundle-image.vue":48749,"./support-bundle-namespaces.vue":30859,"./vm-force-reset-policy.vue":33955};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=26190},2467:function(e,t,a){var l={"./generic.vue":26370,"./harvester-seeder.vue":17438,"./index.vue":81135,"./nvidia-driver-toolkit.vue":6633,"./pcidevices-controller.vue":55821,"./rancher-logging.vue":70927,"./rancher-monitoring.vue":59289,"./rancher-vcluster.vue":95627,"./vm-import-controller.vue":32415};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=2467},6232:function(e,t,a){var l={"./custom":43868,"./custom.vue":43868,"./driver.longhorn.io_v1":30050,"./driver.longhorn.io_v1.vue":30050,"./driver.longhorn.io_v2":42822,"./driver.longhorn.io_v2.vue":42822,"./lvm.driver.harvesterhci.io":14257,"./lvm.driver.harvesterhci.io.vue":14257};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=6232},80373:function(e,t,a){var l={"./harvesterhci.io.addon/generic.vue":26370,"./harvesterhci.io.addon/harvester-seeder.vue":17438,"./harvesterhci.io.addon/index.vue":81135,"./harvesterhci.io.addon/nvidia-driver-toolkit.vue":6633,"./harvesterhci.io.addon/pcidevices-controller.vue":55821,"./harvesterhci.io.addon/rancher-logging.vue":70927,"./harvesterhci.io.addon/rancher-monitoring.vue":59289,"./harvesterhci.io.addon/rancher-vcluster.vue":95627,"./harvesterhci.io.addon/vm-import-controller.vue":32415,"./harvesterhci.io.host/HarvesterDisk.vue":13965,"./harvesterhci.io.host/HarvesterKsmtuned.vue":27547,"./harvesterhci.io.host/HarvesterSeeder.vue":65864,"./harvesterhci.io.host/index.vue":89704,"./harvesterhci.io.monitoring.alertmanagerconfig/index.vue":11682,"./harvesterhci.io.storage/index.vue":39808,"./harvesterhci.io.storage/provisioners/custom.vue":43868,"./harvesterhci.io.storage/provisioners/driver.longhorn.io_v1.vue":30050,"./harvesterhci.io.storage/provisioners/driver.longhorn.io_v2.vue":42822,"./harvesterhci.io.storage/provisioners/lvm.driver.harvesterhci.io.vue":14257,"./kubevirt.io.virtualmachine/CompatibilityMatrix.vue":93987,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/AccessCredentialsUsers.vue":58094,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/index.vue":60068,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/basicAuth.vue":23574,"./kubevirt.io.virtualmachine/VirtualMachineAccessCredentials/type/sshkey.vue":18933,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/DataTemplate.vue":16369,"./kubevirt.io.virtualmachine/VirtualMachineCloudConfig/index.vue":81559,"./kubevirt.io.virtualmachine/VirtualMachineCpuMemory.vue":46324,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/base.vue":48893,"./kubevirt.io.virtualmachine/VirtualMachineNetwork/index.vue":8746,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/DeviceList.vue":79428,"./kubevirt.io.virtualmachine/VirtualMachinePciDevices/index.vue":7060,"./kubevirt.io.virtualmachine/VirtualMachineReserved.vue":14869,"./kubevirt.io.virtualmachine/VirtualMachineSSHKey.vue":59026,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/DeviceList.vue":34529,"./kubevirt.io.virtualmachine/VirtualMachineUSBDevices/index.vue":10707,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/VGpuDeviceList.vue":33212,"./kubevirt.io.virtualmachine/VirtualMachineVGpuDevices/index.vue":92200,"./kubevirt.io.virtualmachine/VirtualMachineVolume/index.vue":24830,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/container.vue":88656,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/existing.vue":71189,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/vmImage.vue":88021,"./kubevirt.io.virtualmachine/VirtualMachineVolume/type/volume.vue":46173,"./kubevirt.io.virtualmachine/index.vue":5282,"./loadbalancer.harvesterhci.io.ippool/Priority.vue":89625,"./loadbalancer.harvesterhci.io.ippool/PriorityRow.vue":1214,"./loadbalancer.harvesterhci.io.ippool/Range.vue":52728,"./loadbalancer.harvesterhci.io.ippool/Selector.vue":10788,"./loadbalancer.harvesterhci.io.ippool/index.vue":59405,"./loadbalancer.harvesterhci.io.loadbalancer/HealthCheck.vue":68201,"./loadbalancer.harvesterhci.io.loadbalancer/Listeners.vue":67347,"./loadbalancer.harvesterhci.io.loadbalancer/index.vue":49464,"./network.harvesterhci.io.clusternetwork/index.vue":87544,"./network.harvesterhci.io.vlanconfig/NodeSelector.vue":95058,"./network.harvesterhci.io.vlanconfig/index.vue":57028};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=80373}}]);
//# sourceMappingURL=harvester-1.5.0-rc5.umd.min.edit.js.map